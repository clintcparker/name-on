define("Core/TypeScript/TFS.Core",["require","exports","o","a","$","Core/TypeScript/Resources/TFS.Resources.Common","Core/TypeScript/TFS.Diag","Core/TypeScript/TFS"],(function(n,t,i,r,u,f,e,o){"use strict";function ht(){return Function.validateParameters.apply(null,h.call(arguments,0))}function a(n,t,i){return function(){if(typeof i=="undefined")return t.apply(n,arguments);var u=h.call(arguments,0);return i instanceof r?u=u.concat(i):u.push(i),t.apply(n,u)}}function ct(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return i=h.call(arguments,1),function(){return n.apply(this,i.concat(h.call(arguments,0)))}}function lt(n,t){var r=[],i;if(t)for(i in n)r.push(i);else for(i in n)n.hasOwnProperty(i)&&r.push(i);return r}function nt(n,t,i,r){var u=new c(n,t,null,i,r);return u.start(),u}function at(n,t,i,r){var u=new c(n,t,"throttledDelegate",i,r);return a(u,u.reset)}function tt(n,t,i){(typeof i=="undefined"||i<0)&&(i=0);var r=function(){var i=u.now();n((function(){tt(n,t,Math.max(0,t-u.now()+i))}))};i===0?r():window.setTimeout(r,i)}function rt(n,t){return n==t?0:n>t?1:-1}function s(n,t,i){var r;return n===null||n===undefined?"":(r=i?n.toLocaleString():n.toString(),t&&(r=i?r.toLocaleUpperCase():r.toUpperCase()),r)}function ut(n,t,i){for(var r=n.length;r<t;r++)n=i?"0"+n:n+"0";return n}var c,p,pt,b,wt,bt,ft,kt,k;i.defineProperty(t,"__esModule",{value:!0});t.OperationCanceledException="TFS.Core.OperationCanceledException";var l,d,g,y,h=r.prototype.slice,et=/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F-\u009F]/,ot=/(^[\uD800-\uDFFF]$)|[^\uD800-\uDBFF](?=[\uDC00-\uDFFF])|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/,st=/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i;t.validateParameters=ht;Error.canceled=function(){var n=Error.create("Operation Canceled.",{name:t.OperationCanceledException});return n.popStackFrame(),n};t.delegate=a;t.curry=ct;t.keys=lt;c=(function(){function n(n,t,i,r,u){this._interval=t;this._name=i;this._func=a(n,r,u)}return n.prototype.start=function(){var n=this;this._timeoutHandle||(e.logTracePoint("Core.DelayedFunction.pending",this._name),this._timeoutHandle=window.setTimeout((function(){delete n._timeoutHandle;try{n._func.call(n)}finally{e.logTracePoint("Core.DelayedFunction.complete",[n._name,"complete"])}}),this._interval))},n.prototype.reset=function(){this.cancel();this.start()},n.prototype.cancel=function(){this._timeoutHandle&&(window.clearTimeout(this._timeoutHandle),delete this._timeoutHandle,e.logTracePoint("Core.DelayedFunction.complete",[this._name,"canceled"]))},n.prototype.invokeNow=function(){this.cancel();this._func()},n.prototype.setDelay=function(n){this._interval=n},n.prototype.setMethod=function(n,t,i){this._func=a(n,t,i)},n.prototype.isPending=function(){return this._timeoutHandle?!0:!1},n})();t.DelayedFunction=c;o.initClassPrototype(c,{_interval:0,_func:null,_timeoutHandle:null,_name:null});t.delay=nt;t.throttledDelegate=at;t.poll=tt;p=(function(){function n(){this._textBuilder=[]}return n.prototype.append=function(n){typeof n=="string"&&(this._textBuilder[this._textBuilder.length]=n)},n.prototype.appendNewLine=function(){this.append(b.newLine)},n.prototype.toString=function(){return this._textBuilder.join("")},n})();t.StringBuilder=p;o.initClassPrototype(p,{_textBuilder:null});d=Date.parseLocale;y=Date.prototype.localeFormat;l=Date._expandFormat;Date._expandFormat=function(n,t){return t==="G"?l(n,"d")+" "+l(n,"T"):l(n,t)};Date._getEraYear=function(n,t,i,r){var u=n.getFullYear(),f=t.Calendar.convert;return f&&(u=f.fromGregorian(n)[0]),!r&&t.eras&&(u-=t.eras[i+3]),u};g=Sys.CultureInfo.prototype._getDateTimeFormats;Sys.CultureInfo.prototype._getDateTimeFormats=function(){return this._myDateFormats||(this._myDateFormats=g.apply(this,h.call(arguments,0)).concat([this.dateTimeFormat.ShortDatePattern+" "+this.dateTimeFormat.LongTimePattern])),this._myDateFormats};var v=6e4,it=v*60,w=it*24,vt=w*7,yt;(function(n){function r(n){t=n||0}function u(n){var t=n.getTime()-n.getTimezoneOffset()*6e4;return t===-621355968e5}function o(n,t){return t instanceof Date?t.getTime()-n.getTime():-1}function s(t,i){return t===null||t===undefined?t===i:t instanceof Date&&n.compare(t,i)===0}function h(n){return e.assertParamIsObject(n,"date"),new Date(n.getTime()+n.getTimezoneOffset()*v)}function c(n){return e.assertParamIsObject(n,"date"),new Date(n.getTime()-n.getTimezoneOffset()*v)}function l(t,i,r){e.assertParamIsString(t,"dateString");e.assert(r===undefined||typeof r=="boolean","ignoreTimeZone");var u,f;return u=n.parseLocale(t,i?[i]:null,r),u||(u=new Date(t)),u instanceof Date&&!isNaN(u)?(f=u.getFullYear(),f>=1900&&f<2e3&&t.indexOf(f)<0&&u.setFullYear(f%100+Math.floor((new Date).getFullYear()/100)*100)):u=null,u}function a(n,t,i){return e.assertParamIsDate(n,"startDate"),e.assertParamIsDate(t,"endDate"),n=new Date(n.getTime()),n.setHours(0,0,0,0),t=new Date(t.getTime()),t.setHours(0,0,0,0),Math.round(Math.abs(t.getTime()-n.getTime())/w)+(i===!0?0:1)}function p(n,i,r){var f=[n],u,e,o,s;return i&&(f=f.concat(i)),u=d.apply(Date,f),r||!u?u:(e=u.getTime(),o=u.getTimezoneOffset()*6e4,s=e-o-t,new Date(s))}function k(t,i,r){var u;return r?y.call(t,i):(u=n.convertClientTimeToUserTimeZone(t),y.call(u,i))}function g(n){var i,r,u,f;return i=n.getTime(),r=n.getTimezoneOffset()*6e4,f=t,u=i+r+f,new Date(u)}function nt(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())}function tt(){return n.convertClientTimeToUserTimeZone(new Date)}function rt(){return n.stripTimeFromDate(n.getNowInUserTimeZone())}function ut(n,t){return Date.prototype.format.call(n,t)}function ft(n,t){if(typeof n.toRelativeString=="function")return n.toRelativeString("difference",t);var u,y,e,o=60,s=o*60,i=s*24,c=i*7,l=i*365/12,a=i*365,h,r,v;for(v=[{limit:o,format:f.AgoLessThanAMinute},{limit:o*1.5,format:f.AgoAMinute},{limit:s,format:f.AgoMinutes,arg:o},{limit:s*1.5,format:f.AgoAnHour},{limit:i,format:f.AgoHours,arg:s},{limit:i*1.5,format:f.AgoADay},{limit:c,format:f.AgoDays,arg:i},{limit:c*1.5,format:f.AgoAWeek},{limit:l,format:f.AgoWeeks,arg:c},{limit:l*1.5,format:f.AgoAMonth},{limit:a,format:f.AgoMonths,arg:l},{limit:a*1.5,format:f.AgoAYear},{limit:Number.POSITIVE_INFINITY,format:f.AgoYears,arg:a}],(t===null||typeof t=="undefined")&&(t=new Date),h=t.getTime()-n.getTime(),h/=1e3,u=0,y=v.length;u<y;u++)if(r=v[u],h<r.limit){e=r.arg?b.format(r.format,Math.round(h/r.arg)):r.format;break}return e||(e=this.toString()),e}function et(n,t,r){r===void 0&&(r=!1);var u=new Date;return u.setTime(n.getTime()+t*864e5),r&&(u=i(n,u)),u}function i(t,i,r){var u,f,e;return r===void 0&&(r=null),u=i,r!==null&&(u=r),f=t.getTimezoneOffset(),e=i.getTimezoneOffset(),f!=e&&(u=n.addDays(u,(e-f)/1440)),u}function ot(t){return n.daysBetweenDates(n.getTodayInUserTimeZone(),t,!0)===0}function st(t){var i=n.getTodayInUserTimeZone(),r=t.getTime()-i.getTime();return r<0}function ht(t){var i=n.getTodayInUserTimeZone(),r=t.getTime()-i.getTime();return r>0}function ct(t,i){var r,o,u,s,f,e,h;for((i===null||typeof i=="undefined")&&(i=new Date),h=new Date(i.getFullYear(),i.getMonth(),i.getDate()-i.getDay()+Sys.CultureInfo.CurrentCulture.dateTimeFormat.FirstDayOfWeek),e=[{limit:86400,format:function(t){return n.ago(t,i)}},{limit:(i-h)/1e3,format:function(t){return n.localeFormat(t,"dddd")}},{limit:Number.POSITIVE_INFINITY,format:function(t){return n.localeFormat(t,"d")}}],s=(i.getTime()-t.getTime())/1e3,r=0,o=e.length;r<o;r++)if(f=e[r],s<f.limit&&f.limit>0){u=f.format(t);break}return u||(u=t.toString()),u}n.MILLISECONDS_IN_MINUTE=v;n.MILLISECONDS_IN_HOUR=it;n.MILLISECONDS_IN_DAY=w;n.MILLISECONDS_IN_WEEK=vt;var t=0;n.setTimeZoneOffset=r;n.isMinDate=u;n.compare=o;n.equals=s;n.shiftToUTC=h;n.shiftToLocal=c;n.parseDateString=l;n.daysBetweenDates=a;n.parseLocale=p;n.localeFormat=k;n.convertClientTimeToUserTimeZone=g;n.stripTimeFromDate=nt;n.getNowInUserTimeZone=tt;n.getTodayInUserTimeZone=rt;n.format=ut;n.ago=ft;n.addDays=et;n.adjustOffsetForTimes=i;n.isGivenDayToday=ot;n.isGivenDayInPast=st;n.isGivenDayInFuture=ht;n.friendly=ct})(yt=t.DateUtils||(t.DateUtils={})),(function(n){function t(n,t){var u={},i,r;if(t)for(i=0,r=n.length;i<r;i++)u[n[i].toLocaleUpperCase()]=i;else for(i=0,r=n.length;i<r;i++)u[n[i]]=i;return u}function i(n,t,i){if(typeof t=="undefined")return!1;i=i||rt;for(var r=0,u=n.length;r<u;r++)if(typeof n[r]!="undefined"&&i(n[r],t)===0)return!0;return!1}function u(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1}function f(t,i,r){var u,e,f,o;if(!i)return t;if(i.length===0)return[];for(u=[],f=0,o=t.length;f<o;f++)e=t[f],n.contains(i,e,r)&&(u[u.length]=e);return u}function e(n,i,r){var o,f,u,s,e;if(!i)return n;if(!n)return i;if(i.length===0||n.length===0)return[];if(n.length<i.length?o=t(n,r):(o=t(i,r),i=n),f=[],r)for(u=0,s=i.length;u<s;u++)e=i[u],o.hasOwnProperty(e.toLocaleUpperCase())&&(f[f.length]=e);else for(u=0,s=i.length;u<s;u++)e=i[u],o.hasOwnProperty(e)&&(f[f.length]=e);return f}function o(t,i,r){var u;return!i||i.length===0?t:(u=t.concat(i),n.uniqueSort(u,r),u)}function s(n,t){t=t||rt;n.sort(t);for(var i=1,r=n.length;i<r;i++)t(n[i],n[i-1])===0&&(n.splice(i--,1),r--);return n}function h(t,i){var r=t.slice(0);return n.uniqueSort(r,i),r}function c(t,i,r){var e,u,f,o;if(!i||i.length===0)return t;for(u=[],f=0,o=t.length;f<o;f++)e=t[f],n.contains(i,e,r)||(u[u.length]=e);return u}function l(n,t,i,u){var f;if(i>t){if(i-t<u)throw Error.create("Array cannot be reordered if newIndex is within the items being moved");i-=u}return f=n.splice(t,u),r.prototype.splice.apply(n,[i,0].concat(f)),n}function a(n,t){var i=n;i.sorted=!0;i.comparer=t}function v(n,t){var i=n,r=t;i.sorted=r.sorted;i.comparer=r.comparer}function y(n,t){var i=n;return i.sorted&&i.comparer===t}function p(t,i){return n.isSorted(t,i)?!1:(t.sort(i),n.flagSorted(t,i),!0)}function w(n){return r.clone(n)}function b(n,t){return r.indexOf(n,t)}function k(n,t){r.add(n,t)}function d(n,t){r.addRange(n,t)}function g(n,t){return r.remove(n,t)}function nt(n){r.clear(n)}n.contains=i;n.findIndex=u;n.intersect=f;n.intersectPrimitives=e;n.union=o;n.uniqueSort=s;n.unique=h;n.subtract=c;n.reorder=l;n.flagSorted=a;n.copySortFlag=v;n.isSorted=y;n.sortIfNotSorted=p;n.clone=w;n.indexOf=b;n.add=k;n.addRange=d;n.remove=g;n.clear=nt})(pt=t.ArrayUtils||(t.ArrayUtils={})),(function(n){function i(n,t){if(n===t)return 0;var i=s(n,!1,!1),r=s(t,!1,!1);return i===r?0:i>r?1:-1}function r(n,t){if(n===t)return 0;var i=s(n,!0,!1),r=s(t,!0,!1);return i===r?0:i>r?1:-1}function u(n,t){if(n===t)return 0;var i=s(n,!1,!0),r=s(t,!1,!0);return i.localeCompare(r)}function f(n,t){if(n===t)return 0;var i=s(n,!0,!0),r=s(t,!0,!0);return i.localeCompare(r)}function e(t,i,r){return r=r||n.defaultComparer,r(i,t.substr(0,i.length))===0}function o(t,i,r){return r=r||n.defaultComparer,r(i,t.substr(t.length-i.length,i.length))===0}function c(n,t){return n.toLowerCase().indexOf(t.toLowerCase())!==-1}function l(){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return String.format.apply(String,h.call(arguments,0))}function a(){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return String.localeFormat.apply(String,h.call(arguments,0))}function v(n){return et.test(n)}function y(n){return ot.test(n)}function p(n){return typeof btoa=="function"?window.btoa(n):w(n)}function w(n){for(var e,u,f,i=0,o=n.length,r=[];i<o;)e=n.charCodeAt(i),u=n.charCodeAt(i+1),f=n.charCodeAt(i+2),r.push(t.charAt(e>>2)),r.push(t.charAt((e&3)<<4|u>>4)),r.push(t.charAt(isNaN(u)?64:(u&15)<<2|f>>6)),r.push(t.charAt(isNaN(f)?64:f&63)),i+=3;return r.join("")}n.empty="";n.newLine="\r\n";n.tab="\t";n.defaultComparer=i;n.ignoreCaseComparer=r;n.localeComparer=u;n.localeIgnoreCaseComparer=f;n.startsWith=e;n.endsWith=o;n.caseInsensitiveContains=c;n.format=l;n.localeFormat=a;n.containsControlChars=v;n.containsMismatchedSurrogateChars=y;n.base64Encode=p;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="})(b=t.StringUtils||(t.StringUtils={})),(function(n){function t(n,t){return n-t}function i(n,t,i){var f,c,o,r=n.toString(),u="",l,a,s,v,e,h;if(c=i?i.numberFormat:Sys.CultureInfo.CurrentCulture.numberFormat,o=r.split(/e/i),r=o[0],f=o.length>1?parseInt(o[1],10):0,o=r.split("."),r=o[0],u=o.length>1?o[1]:"",f>0?(u=ut(u,f,!1),r+=u.slice(0,f),u=u.substr(f)):f<0&&(f=-f,r=ut(r,f+1,!0),u=r.slice(-f,r.length)+u,r=r.slice(0,-f)),u.length>0&&(u=c.NumberDecimalSeparator+u),t===!0){for(l=c.NumberGroupSizes,a=c.NumberGroupSeparator,s=l[0],v=1,e=r.length-1,h="";e>=0;){if(s===0||s>e)return h.length>0?r.slice(0,e+1)+a+h+u:r.slice(0,e+1)+u;h=h.length>0?r.slice(e-s+1,e+1)+a+h:r.slice(e-s+1,e+1);e-=s;v<l.length&&(s=l[v],v++)}return r.slice(0,e+1)+a+h+u}return r+u}function r(n){return Number.parseLocale(n)}function u(n){return Number.parseInvariant(n)}function f(n,t){return Number.prototype.localeFormat.call(n,t)}n.defaultComparer=t;n.toDecimalLocaleString=i;n.parseLocale=r;n.parseInvariant=u;n.localeFormat=f})(wt=t.NumberUtils||(t.NumberUtils={})),(function(n){function t(n){return Boolean.parse(n)}n.parse=t})(bt=t.BoolUtils||(t.BoolUtils={}));ft=(function(){function n(){this._operationQueue=[]}return n.prototype.queueOperation=function(n){e.assertParamIsFunction(n,"operation");this._operationQueue.push(n);this._processQueue()},n.prototype._processQueue=function(){var n=this;!this._isProcessingOperation&&this._operationQueue.length>0&&(this._isProcessingOperation=!0,nt(this,0,(function(){var t=!1,i=function(){e.assert(!t,"The operation has already invoked the completed callback.");t||(t=!0,n._isProcessingOperation=!1,n._processQueue())},r=n._operationQueue.shift();r(i)})))},n})();t.OperationQueue=ft,(function(n){function t(n){return st.test(n)}n.IsGuid=t})(kt=t.GuidUtils||(t.GuidUtils={}));k=(function(){function n(){}return n})();k.URL_REGEX=/^([a-zA-Z][a-zA-Z0-9\+\-\.]*)?:?(\/\/)?(([a-zA-Z0-9%\'\.\+\-\,]+)?\:?([a-zA-Z0-9%\'\.\-\+\,]+)?)?\@?(([a-zA-Z0-9%\.\-]+)\:?(\d+)?)?([a-zA-Z0-9%\.\+\/\\\-~_]+)?(\?[a-zA-Z0-9%\.\+\/\\\-~_\,\&\;\=]+)?(\#[a-zA-Z0-9%\.\+\/\\\-~_\,\&\;\=]+)?$/;t.UrlUtils=k}))