define("MsPortalImpl/UI/UI.AssetBladeLauncher",["require","exports","f","i"],(function(n,t,i,r){"use strict";var u;return (function(t){var u=i.Base,o=u.Constants.ExtensionNames.Hubs,s=u.Diagnostics,e=i.ViewModels,h=r.ViewModels,c=e.ButtonPart,l=e.Internal.Selectable,f=u.Constants.BladeNames.Hubs,a=s.createLog(n),v=(function(n){function t(t,i,r){var u=n.call(this)||this,f;return u._container=t,u._initialState=i,f=u._initialStateSelectable=i&&i.container&&i.container.selectable,u._container.selectable=new l({selectedValue:f&&f.selectedValue,isSelected:!!(f&&f.isSelected)}),u._assetTypesService=r,u}return __extends(t,n),t.prototype.onInputsSet=function(n){if(this._initialStateSelectable&&this._initialStateSelectable.selectedValue)return null;var t=this._container.selectable,i=this._assetTypesService.mapAssetIdToDynamicSelectionAndIcon({assetId:n.assetId,extensionName:n.extensionName,assetType:n.assetType},{reason:"AssetBladeLauncher"}).then((function(n){var i=n.selection;return t.selectedValue(i),i})).catch((function(i){var c=i.innerErrors&&i.innerErrors.first(),r=(i||{}).status||(c||{}).status,l=i||"Unknown error",u,s,e;return r!==0&&a.warning(l),u=f.UnavailableAssetBlade,s={id:typeof n.assetId=="string"?n.assetId:n.assetType},r===401||r===403?u=f.UnauthorizedAssetBlade:r===404&&(u=f.NotFoundAssetBlade),e=h.getBladeSelection(o,u,s),t.selectedValue(e),e}));return t.delayedBladeSelection({bladeWidth:1,selectedValuePromise:i}),i},t})(c);t.AssetBladeLauncher=v})(u||(u={})),u}))