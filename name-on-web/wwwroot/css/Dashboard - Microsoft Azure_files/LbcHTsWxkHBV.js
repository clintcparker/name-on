var __extends=this&&this.__extends||
(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();
define("VersionControl/TypeScript/TFS.VersionControl.VersionSpecs",["require","exports","o","Core/TypeScript/TFS.Core","VersionControl/TypeScript/Resources/TFS.Resources.VersionControl"],(function(n,t,i,r,u){"use strict";var e,f,s,o,h,c,l,a,v,y,p,w,b,k;i.defineProperty(t,"__esModule",{value:!0});f=(function(){function n(){}return n.parse=function(t){var i,s,u,g=!1,f,d,nt;if(t&&t.toUpperCase()!=="T"){if(u=t.substring(0,1).toUpperCase(),i=t.substring(1),u==="G"&&i.length>0){if(f=i.substring(0,1).toUpperCase(),i=i.substring(1),f==="B")return new w(i);if(f==="C")return new b(i);if(f==="T")return new k(i)}else{if(u==="T")return s=n.parse(i),s===e?e:new v(s);if(u==="P")return s=n.parse(i),new y(s);if(u==="C")return new o(parseInt(i,10));if(u==="B"&&/^(\d+)$/.test(i))return new h(parseInt(i,10));if(u==="M")return f=i.substring(0,1).toUpperCase(),f==="R"&&(g=!0,i=i.substring(1)),new a(parseInt(i,10),g);if(/^(\d+)$/.test(t))return new o(parseInt(t,10));if(u==="S")return d=i.split(";"),new p(d[0],d[1]);if(u==="L")return new l(i);if(u==="D")return nt=r.DateUtils.parseDateString(i),new c(nt)}throw Error.invalidOperation("Unrecognized VersionSpec format.");}else return e},n.prototype.formatPath=function(n){return r.StringUtils.format(u.VersionSpecPathFormat,n,this.toDisplayText())},n.prototype.toDisplayText=function(){return"VersionSpec"},n.prototype.toVersionString=function(){return""},n})();t.VersionSpec=f;s=(function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.toVersionString=function(){return"T"},t.prototype.toDisplayText=function(){return u.LatestVersionDisplayText},t})(f);t.LatestVersionSpec=s;e=new s;o=(function(n){function t(t){var i=n.call(this)||this;return i.changeset=t,i}return __extends(t,n),t.prototype.toVersionString=function(){return""+this.changeset},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.ChangesetVersionDisplayText,this.changeset)},t})(f);t.ChangesetVersionSpec=o;h=(function(n){function t(t){var i=n.call(this)||this;return i.changeset=t,i}return __extends(t,n),t.prototype.toVersionString=function(){return"B"+this.changeset},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.ChangeVersionDisplayText,this.changeset)},t})(f);t.ChangeVersionSpec=h;c=(function(n){function t(t){var i=n.call(this)||this;return i.date=t,i}return __extends(t,n),t.prototype.toVersionString=function(){return"D"+this.date},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.DateVersionDisplayText,this.date)},t})(f);t.DateVersionSpec=c;l=(function(n){function t(t){var i=n.call(this)||this;return i.label=t,i}return __extends(t,n),t.prototype.toVersionString=function(){return"L"+this.label},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.LabelVersionDisplayText,this.label)},t})(f);t.LabelVersionSpec=l;a=(function(n){function t(t,i){var r=n.call(this)||this;return r.changeset=t,r.useRenameSource=i,r}return __extends(t,n),t.prototype.toVersionString=function(){return"M"+(this.useRenameSource?"R":"")+this.changeset},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.MergeSourceVersionDisplayText,this.changeset)},t})(f);t.MergeSourceVersionSpec=a;v=(function(n){function t(t){var i=n.call(this)||this;return i.version=t,i}return __extends(t,n),t.prototype.toVersionString=function(){return"T"+this.version.toVersionString()},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.TipVersionDisplayText,this.version.toDisplayText())},t})(f);t.TipVersionSpec=v;y=(function(n){function t(t){var i=n.call(this)||this;return i.version=t,i}return __extends(t,n),t.prototype.toVersionString=function(){return"P"+this.version.toVersionString()},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.PreviousVersionDisplayText,this.version.toDisplayText())},t})(f);t.PreviousVersionSpec=y;p=(function(n){function t(t,i){var r=n.call(this)||this,u;return i?(r.name=t,r.owner=i):(u=(""+t).split(";"),r.name=u[0],r.owner=u[1]),r}return __extends(t,n),t.prototype.toVersionString=function(){return"S"+this.name+";"+this.owner},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.ShelvesetVersionDisplayText,this.name,this.owner)},t})(f);t.ShelvesetVersionSpec=p;w=(function(n){function t(t){var i=n.call(this)||this;return i.branchName=t||"",i}return __extends(t,n),t.prototype.toVersionString=function(){return"GB"+this.branchName},t.prototype.toDisplayText=function(){return this.branchName},t})(f);t.GitBranchVersionSpec=w;b=(function(n){function t(t){var i=n.call(this)||this;return i.commitId=t||"",i}return __extends(t,n),t.prototype.toVersionString=function(){return"GC"+this.commitId},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.CommitVersionDisplayText,this.getShortCommitId())},t.prototype.toLongDisplayText=function(){return r.StringUtils.format(u.CommitVersionDisplayText,this.commitId)},t.prototype.getShortCommitId=function(){return this.commitId.substr(0,6)},t})(f);t.GitCommitVersionSpec=b;k=(function(n){function t(t){var i=n.call(this)||this;return i.tagName=t||"",i}return __extends(t,n),t.prototype.toVersionString=function(){return"GT"+this.tagName},t.prototype.toDisplayText=function(){return r.StringUtils.format(u.TagVersionDisplayText,this.tagName)},t})(f);t.GitTagVersionSpec=k}))