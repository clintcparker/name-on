define("WebsitesExtension/TypeScript/ViewModels/Parts/ChangeAppServicePlanProvisioner",["require","exports","f","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Operations/Operations","WebsitesExtension/TypeScript/Models/WebHostingPlanResourceId"],(function(n,t,i,r,u,f){"use strict";var e;return (function(n){var t=(function(){function n(n,t,i,r,u){this._container=n;this._aspEntityView=t;this._websiteEntityView=i;this._scaleSettingBladeInputs=r;this._serverFarmIdInputs=u;this._initializeParameterCollectors()}return n.prototype._initializeParameterCollectors=function(){var t=this,r=new i.ViewModels.Selectable,n={supplyInitialData:function(){return t._supplyInitialData()},supplyProviderConfig:function(){return t._supplyProviderConfig()},receiveResult:function(n){t._receiveResult(n)}};this.collector=new i.ViewModels.ParameterCollector(this._container,{selectable:r,supplyInitialData:n.supplyInitialData,supplyProviderConfig:n.supplyProviderConfig,receiveResult:
n.receiveResult});this.parameterCollectorSettingsOptions={supplyInitialData:n.supplyInitialData,supplyProviderConfig:n.supplyProviderConfig,receiveResult:n.receiveResult};this.parameterProviderOptions={supplyInitialData:n.supplyInitialData,supplyProviderConfig:n.supplyProviderConfig,receiveResult:n.receiveResult}},n.prototype._supplyInitialData=function(){return this._aspEntityView.item()},n.prototype._supplyProviderConfig=function(){return{subscriptions:this._aspEntityView.item().SubscriptionId(),hideLocation:!0,filterLocation:this._aspEntityView.item().Location(),filterWebspace:this._websiteEntityView.item().WebSpace(),filterSourceAspName:this._aspEntityView.item().Name(),filterHostingEnvironmentId:this._aspEntityView.item().HostingEnvironmentId(),forceHostingEnvironmentFilter:!0,hideCreateASP:!0,isLinux:this._websiteEntityView.item().Reserved(),isXenon:this._aspEntityView.item().IsXenon()}},n.prototype._receiveResult=function(n){var i=this,t=this._websiteEntityView.item();n.Id()?this.
updateAspRelatedSettings(n.Id()):(n.SubscriptionId(t.SubscriptionId()),n.Location(t.Location()),n.ResourceGroup(t.ResourceGroup()),n.HostingEnvironmentProfile(this._aspEntityView.item().HostingEnvironmentProfile()),n.HostingEnvironmentId(this._aspEntityView.item().HostingEnvironmentId()),n.Id("/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.Web/serverfarms/{2}".format(n.SubscriptionId(),n.ResourceGroup(),n.Name())),u.createASP(n).then((function(){i.updateAspRelatedSettings(n.Id())})))},n.prototype.updateAspRelatedSettings=function(n){var t=this,i=this._websiteEntityView.item();u.updateWebsiteWebHostingPlan(i,n).then((function(){t.updateAspRelatedInputs(n);t._websiteEntityView.refresh();var i=f.WebHostingPlanResourceId.fromCsmResourceId(n);t._aspEntityView.fetch(i)}))},n.prototype.updateAspRelatedInputs=function(n){this._serverFarmIdInputs({id:n});this._scaleSettingBladeInputs({WebHostingPlanId:n,resourceId:n,apiVersion:r.Asset.AutoScaleVersion,options:null})},n})();n.ChangeAppServicePlanProvisioner=
t})(e||(e={})),e}));var __extends=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/Menu/ViewModels/AppServiceMenuViewModel",["require","exports","f","i","o","ko","WebsitesExtension/TypeScript/_generated/BladeReferences","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/CreateV2/ResourceDeploymentUtilties/Utilties/DeploymentUtilities","WebsitesExtension/TypeScript/Environment/Environment.Switcher","Websites/ClientResources/GeneralResources","Websites/ClientResources/PdlResources","WebsitesExtension/TypeScript/Environment/RuntimeType","WebsitesExtension/TypeScript/Utility/Utility.WebHostingPlan","WebsitesExtension/TypeScript/Utility/Utility.Website",
"WebsitesExtension/TypeScript/_generated/ExtensionDefinition","WebsitesExtension/TypeScript/ViewModels/Parts/ChangeAppServicePlanProvisioner","WebsitesExtension/TypeScript/_generated/Svg","Fx/Composition/Pdl/MenuBlade","WebsitesExtension/TypeScript/ContinuousDeployment/Models/ProviderType","WebsitesExtension/TypeScript/ViewModels/Parts/ScaleUpProvisioner","WebsitesExtension/TypeScript/ContinuousDeployment/SetupCDProvisioner","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/Models/Website"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){"use strict";var ut,rt,ft,et;u.defineProperty(t,"__esModule",{value:!0});ut=o.EnvPartNames;rt=o.EnvFeature,(function(n){n[n.None=0]="None";n[n.Started=1]="Started";n[n.InProgress=2]="InProgress";n[n.Succeeded=3]="Succeeded";n[n.Failed=4]="Failed";n[n.TfsStarted=5]="TfsStarted";n[n.TfsInProgress=6]="TfsInProgress";n[n.TfsSucceeded=7]="TfsSucceeded";n[n.TfsFailed=8]="TfsFailed"})(ft=t.SetupCDState||(t.SetupCDState=
{}));et=(function(n){function t(t,r,u){var e=n.call(this,t)||this;return e.Keywords=c.Settings.Keywords,e._features=f.observable([]),e._hasPublisherAccess=f.observable(!1),e._hasAADCreateAccess=f.observable(!1),e._hasAspReadPermission=f.observable(!1),e._hasHostingEnvironmentReadPermission=f.observable(!1),e._sharedStorageEnabled=f.observable(!1),e._customContainer=f.observable(!1),e._xenonBlessedImage=f.observable(!1),e._isSiteLoaded=f.observable(!1),e._isPlanLoaded=f.observable(!1),e._isBackupEnabled=f.observable(!1),e._isCustomDomainsEnabled=f.observable(!1),e._isSSLEnabled=f.observable(!1),e._isVSTSCDEnabled=f.observable(!1),e._isChangeASPEnabled=f.observable(!1),e._isEasyAuthEnabled=f.observable(!1),e._isDeploymentSlotsEnabled=f.observable(!1),e._isMSIEnabled=f.observable(!1),e._isNetworkingEnabled=f.observable(!1),e._isRecommendationsEnabled=f.observable(!1),e._isProcessExplorerEnabled=f.observable(!1),e._isLogStreamEnabled=f.observable(!1),e._isAlertsEnabled=f.observable(!1),e._isAppInsightsEnabled=
f.observable(!1),e._isSiteExtensionsEnabled=f.observable(!1),e._isResourceExplorerEnabled=f.observable(!1),e._isTIPEnabled=f.observable(!1),e._isPerfTestEnabled=f.observable(!1),e._isMonacoEnabled=f.observable(!1),e._isConsoleEnabled=f.observable(!1),e._isCloneEnabled=f.observable(!1),e._isMySQLEnabled=f.observable(!1),e._isNHEnabled=f.observable(!1),e._isWebJobsEnabled=f.observable(!1),e._isScaleUpEnabled=f.observable(!1),e._isQuickStartEnabled=f.observable(!1),e._isScaleOutEnabled=f.observable(!1),e._isTroubleshootEnabled=f.observable(!1),e._isAPIFeaturesEnabled=f.observable(!1),e._isMobileFeaturesEnabled=f.observable(!1),e._isASEApp=f.observable(!1),e._isLinuxApp=f.observable(!1),e._isXenonApp=f.observable(!1),e._nonXenonApp=f.observable(!0),e._isNonLinuxApp=f.observable(!1),e._isNonLinuxAndNonXenonApp=f.observable(!1),e._isProductionSite=f.observable(!1),e._isSlot=f.observable(!1),e._isOldWebsiteBladeEnabled=f.observable(!1),e._isOldAppSettingsBladeEnabled=f.observable(!1),e._container=
t,e._dataContext=u,e._websiteView=e._dataContext.websitesData.websiteCache.createView(e._container),e._aspView=e._dataContext.websitesData.webHostingPlanCache.createView(e._container),e._aseView=e._dataContext.aseData.aseCache.createView(e._container),e._scmInfoEntityView=e._dataContext.websitesData.scmInfoCache.createView(e._container),e._linkedResourcesView=u.resourcesData.linkedResourcesCache.createView(t),e._setupCDState=f.observable(ft.None),e._scaleSettingBladeInputs=f.observable({}),e._setupCDProvisioner=new nt.SetupCDProvisioner(o.EnvPartNames.SetupContinuousDeploymentLauncherPart,t,u,new i.ViewModels.Selectable),e._changeAspProvisioner=new w.ChangeAppServicePlanProvisioner(t,e._aspView,e._websiteView,e._scaleSettingBladeInputs,f.observable({})),e._scaleupProvisioner=new g.ScaleUpProvisioner(e._aspView,e._aseView),e}return __extends(t,n),t.prototype.getMenuConfig=function(n){var t=this,o=n.resource,r,u;return this.resourceId=n.resourceId,this.websiteId=tt.WebsiteResourceId.fromCsmResourceId(
this.resourceId),u=new tt.SiteAndSlotDescriptor(this.resourceId),this._isSlot(!!u.slotName),h.getHubSub(this.websiteId.SubscriptionId).then((function(n){t.hubSub=n})),this._fetchPromise=Q(y.fetchSitePlanAndEnvironment(this.resourceId,this._websiteView,this._aspView,this._aseView)).then((function(){t._isSiteLoaded(!!t._websiteView.item());t._isPlanLoaded(!!t._aspView.item());t._kind=t._websiteView.item().Kind();t._isASEApp(!!t._websiteView.item().HostingEnvironmentId());t._isLinuxApp(t._websiteView.item().Reserved());t._isXenonApp(t._websiteView.item().IsXenon());t._nonXenonApp(!t._websiteView.item().IsXenon());t._isNonLinuxApp(!t._websiteView.item().Reserved());t._isNonLinuxAndNonXenonApp(!t._websiteView.item().Reserved()&&!t._websiteView.item().IsXenon());t._isProductionSite(t._websiteView.item().IsProductionSite());t._fetchDataViews();t._envPromise=h.getFeaturesForSite(t._websiteView.item(),ut.AppSvcMenu,t._websiteView.item().SubscriptionId(),t._aspView.item(),t._aseView.item()).then((function(
n){t._features(n);t._isBackupEnabled(!h.hasFeature(t._features(),rt.DisableBackUp));t._isCustomDomainsEnabled(!h.hasFeature(t._features(),rt.DisableDomains));t._isSSLEnabled(!h.hasFeature(t._features(),rt.DisableSsl));t._isVSTSCDEnabled(!h.hasFeature(t._features(),rt.DisableVstsCd));t._isChangeASPEnabled(!h.hasFeature(t._features(),rt.DisableChangePlan));t._isEasyAuthEnabled(!h.hasFeature(t._features(),rt.DisableEasyAuth));t._isDeploymentSlotsEnabled(!h.hasFeature(t._features(),rt.DisableDeploymentSlots));t._isMSIEnabled(!h.hasFeature(t._features(),rt.DisableMSI));t._isNetworkingEnabled(!h.hasFeature(t._features(),rt.DisableNetworking));t._isRecommendationsEnabled(!h.hasFeature(t._features(),rt.DisableAppRecommendations));t._isProcessExplorerEnabled(!h.hasFeature(t._features(),rt.DisableProcessExplorer));t._isLogStreamEnabled(!h.hasFeature(t._features(),rt.DisableLogStream));t._isAlertsEnabled(!h.hasFeature(t._features(),rt.DisableAlerts));t._isAppInsightsEnabled(!h.hasFeature(t._features(
),rt.DisableApplicationInsights));t._isSiteExtensionsEnabled(!h.hasFeature(t._features(),rt.DisableSiteExtensions));t._isTIPEnabled(!h.hasFeature(t._features(),rt.DisableTestingInProduction));t._isResourceExplorerEnabled(!h.hasFeature(t._features(),rt.DisableResourceExplorer));t._isPerfTestEnabled(!h.hasFeature(t._features(),rt.DisablePerfTest));t._isMonacoEnabled(!h.hasFeature(t._features(),rt.DisableMonaco));t._isConsoleEnabled(!h.hasFeature(t._features(),rt.DisableConsole));t._isCloneEnabled(!h.hasFeature(t._features(),rt.DisableCloneApp));t._isMySQLEnabled(!h.hasFeature(t._features(),rt.DisableMySql));t._isNHEnabled(!h.hasFeature(t._features(),rt.DisableNotificationHub));t._isWebJobsEnabled(!h.hasFeature(t._features(),rt.DisableWebJobs));t._isScaleUpEnabled(!h.hasFeature(t._features(),rt.DisablePricingTier));t._isQuickStartEnabled(!h.hasFeature(t._features(),rt.DisableQuickstart));t._isScaleOutEnabled(!h.hasFeature(t._features(),rt.DisableScale));t._isTroubleshootEnabled(!h.hasFeature(
t._features(),rt.DisableTroubleshoot));t._isAPIFeaturesEnabled(!h.hasFeature(t._features(),rt.DisableApiGroup));t._isMobileFeaturesEnabled(!h.hasFeature(t._features(),rt.DisableMobile));t._isOldWebsiteBladeEnabled(h.hasFeature(t._features(),rt.UseOldWebsiteBlade));t._isOldAppSettingsBladeEnabled(h.hasFeature(t._features(),rt.UseOldAppSettingsBlade))}))})).catch((function(n){i.Base.Diagnostics.Log.writeEntry(2,"AppServiceMenuViewModel","Failed to load menu: ",JSON.stringify(n))})),r={defaultItemId:"appServices",options:this._getResourceMenuOptions(),groups:this._loadMenuGroups(),overview:{id:"appServices",displayText:c.overviewText,enabled:f.observable(!0),keywords:"",icon:this._getDefaultItemIcon(o.kind),supplyBladeReference:function(){return a.isOnPrem()?new e.WebsiteBladeReference({id:t.resourceId}):new e.AppsOverviewBladeReference({id:t.resourceId})}}},Q(r)},t.prototype._fetchDataViews=function(){var n=this,t=y.fetchPlanAndEnvironment(this._websiteView.item().ServerFarmId(),this._aspView,
this._aseView).then((function(){return n._scaleupProvisioner.fetch(n._websiteView.item().ServerFarmId(),n._websiteView.item().HostingEnvironmentId())})),r=this._dataContext.websiteDataConfig.getAppSettings(this.resourceId).then((function(t){t.properties.WEBSITES_ENABLE_APP_SERVICE_STORAGE&&t.properties.WEBSITES_ENABLE_APP_SERVICE_STORAGE!==""&&n._sharedStorageEnabled(t.properties.WEBSITES_ENABLE_APP_SERVICE_STORAGE.toLowerCase()==="true")}));this._dataContext.websiteDataConfig.getSiteConfig(this.resourceId).then((function(t){if(t&&t.properties){var i=null;t.properties.linuxFxVersion?i=t.properties.linuxFxVersion:t.properties.windowsFxVersion&&(i=t.properties.windowsFxVersion,i&&!i.toUpperCase().startsWith(o.Docker.docker)&&n._xenonBlessedImage(!0));i&&(i.toUpperCase().startsWith(o.Docker.docker)||i.toUpperCase().startsWith(o.Docker.compose)||i.toUpperCase().startsWith(o.Docker.kubernetes))?n._customContainer(!0):n._customContainer(!1)}}));var u=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(
this.resourceId),f=i.Base.Security.hasPermission("/subscriptions/"+u.subscription,[o.RbacActions.AadWrite]).then((function(t){n._hasAADCreateAccess(t)})),e=i.Base.Security.hasPermission(this.resourceId,[p.AssetTypes.Website.Permissions.action,p.AssetTypes.Website.Permissions.publishProfileAction,p.AssetTypes.Website.Permissions.appSettingsAction,p.AssetTypes.Website.Permissions.slotConfigNamesAction]).then((function(t){n._hasPublisherAccess(t)}));return Q.allSettled([e,t,r,f]).finally((function(){var t=n._websiteView.item();return t&&t.ServerFarmId()&&i.Base.Security.hasPermission(n.resourceId,[p.AssetTypes.WebHostingPlan.Permissions.read]).then((function(t){n._hasAspReadPermission(t)})),t&&t.HostingEnvironmentId()&&i.Base.Security.hasPermission(t.HostingEnvironmentId(),[p.AssetTypes.AppServiceEnvironment.Permissions.read]).then((function(t){n._hasHostingEnvironmentReadPermission(t)})),Q.allSettled([n._setupCDProvisioner.onInputsSet(n.resourceId,n._hasPublisherAccess())])}))},t.prototype._getDefaultItemIcon=
function(n){return n=!n?"":n,n.indexOf(o.KindsAvailable.MobileApp)>-1?i.Base.Images.Polychromatic.Mobile():n.indexOf(o.KindsAvailable.ApiAppV2)>-1?b.Content.Images.apiApp:n.indexOf(o.KindsAvailable.Webjob)>-1?i.Base.Images.Polychromatic.WebJobs():n.indexOf(o.KindsAvailable.Functions)>-1?n.indexOf(o.KindsAvailable.Bots)>-1?b.Content.Images.azurebotservicesblue:b.Content.Images.functions:i.Base.Images.Polychromatic.Website()},t.prototype._loadMenuGroups=function(){var n=[],t=i.Assets,a={referenceId:t.QuickAccessGroupId,items:this._getQuickAccessGroupItems()},r,u,f,e,o,s,h,l;return n.push(a),r={id:"appDeployment",displayText:c.Settings.appDeployment,items:this._getAppDeploymentGroupItems(),elevated:!0},n.push(r),u={referenceId:i.Assets.ManagementGroupId,items:this._getSettingsGroupItems()},n.push(u),f={id:"appServicePlan",displayText:c.Settings.appServicePlan,items:this._getAppServicePlanGroupItems()},n.push(f),e={id:"DevelopmentToolsGroupId",displayText:c.Settings.developmentToolsGroup,items:
this._getDevelopmentToolsGroupItems()},n.push(e),o={referenceId:t.MonitoringGroupId,items:this._getMonitoringGroupItems()},n.push(o),s={id:"mobile",displayText:c.Settings.mobileAppGroup,items:this._getMobileGroupItems()},n.push(s),h={id:"api",displayText:c.Settings.apiGroup,items:this._getAPIGroupItems()},n.push(h),l={id:i.Assets.SupportGroupId,displayText:i.Resources.Strings.Part.SettingList.Group.support,items:this._getTroubleshootGroupItems()},n.push(l),n},t.prototype._getResourceMenuOptions=function(){return{enableRbac:!0,enableExportTemplate:!0,enableSupportHelpRequest:!a.isOnPrem(),enableSupportTroubleshoot:!1,enableSupportResourceHealth:!a.isNationalCloud()&&!a.isOnPrem()&&!this._isSlot()&&!this._isXenonApp(),enableSupportEventLogs:!0,enableTags:!0}},t.prototype._getQuickAccessGroupItems=function(){var n=this,t=[],r={id:"troubleshoot",icon:i.Base.Images.Tools(),enabled:f.computed(this._container,(function(){return n._isTroubleshootEnabled()})),tooltip:f.computed(this._container,(function(
){if(!n._isTroubleshootEnabled()){var t=n._getTooltip(rt.DisableTroubleshoot,c.SupportSite.title);return t?t:c.Settings.disabledToolTip}})),displayText:c.SupportSite.title,keywords:Array(this.Keywords.Troubleshoot.troubleshoot,this.Keywords.Recommendations.recommendation,this.Keywords.Troubleshoot.applicationlens,this.Keywords.Troubleshoot.diagnostics,this.Keywords.Troubleshoot.daas,this.Keywords.Troubleshoot.diagnosticsasaservice,c.Settings.secVulnScan,this.Keywords.zRay,this.Keywords.phpDebugging,this.Keywords.Troubleshoot.metrics,this.Keywords.Troubleshoot.appserviceplanmetrics,this.Keywords.Troubleshoot.livehttp,this.Keywords.Troubleshoot.eventviewer,this.Keywords.Troubleshoot.freb,this.Keywords.Troubleshoot.mitigate),supplyBladeReferenceAsync:function(){return Q(n._envPromise).then((function(){return h.hasFeature(n._features(),rt.DisableSupportCenter)?new e.TroubleshootBladeReference({resourceId:n.resourceId}):new e.SCIFrameBladeReference({id:n.resourceId})}))}};return t.push(r),t},t.
prototype._getAppDeploymentGroupItems=function(){var n=this,t=[],a={id:"QuickStartSetting",icon:i.Base.Images.Polychromatic.QuickStart(),enabled:f.computed(this._container,(function(){return n._isQuickStartEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isQuickStartEnabled()){var t=n._getTooltip(rt.DisableQuickstart,c.Settings.quickstart);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.quickstart,keywords:Array(this.Keywords.Quickstart.client,this.Keywords.Quickstart.getStarted,this.Keywords.Quickstart.quickstart),supplyBladeReference:function(){return y.isKind(n._kind,y.AppKind.MOBILE)?new e.QuickstartSettingBladeV2Reference({id:n.resourceId}):y.isKind(n._kind,y.AppKind.API)||y.isKind(n._kind,y.AppKind.APIv2)?new e.ApiAppQuickStartReference({resourceUri:n.resourceId}):new e.WebAppQuickStartReference({resourceUri:n.resourceId})}},u,s,h,l;return t.push(a),u={id:"deploymentcredentials",icon:i.Base.Images.Polychromatic.Ftp(),enabled:f.observable(!0),displayText:
c.Settings.deploymentCredentials,keywords:Array(this.Keywords.DeployCred.altCred,this.Keywords.DeployCred.username,this.Keywords.DeployCred.userAndName,this.Keywords.DeployCred.password),supplyBladeReference:function(){return new e.FtpCredentialsReference({WebsiteId:n.websiteId},null)}},t.push(u),s={id:"deploymentSlots",icon:i.Base.Images.Polychromatic.WebSlots(),enabled:f.computed(this._container,(function(){return n._isDeploymentSlotsEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isDeploymentSlotsEnabled()){var t=n._getTooltip(rt.DisableDeploymentSlots,c.Settings.deploymentSlots);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.deploymentSlots,keywords:Array(this.Keywords.DeploySlots.deployment,this.Keywords.DeploySlots.slots,this.Keywords.DeploySlots.swap),supplyBladeReference:function(){return y.forFeature(o.FeatureFlags.UseNewSlotsBlade)?new e.FunctionsFrameBladeReference({id:n.resourceId.toLowerCase(),feature:"deploymentslots"}):new e.WebsiteSlotsListBladeReference(
{resourceUri:n.resourceId},null)}},t.push(s),h={id:"DeploymentSource",icon:i.Base.Images.Polychromatic.Gear(),enabled:f.computed(this._container,(function(){return n._xenonBlessedImage()?!0:n._hasPublisherAccess()&&!(n._customContainer()&&!n._sharedStorageEnabled())&&!n._isXenonApp()})),tooltip:f.computed(this._container,(function(){if(!n._xenonBlessedImage()&&(!n._hasPublisherAccess()||n._customContainer()&&!n._sharedStorageEnabled()||n._isXenonApp()))return n._hasPublisherAccess()?n._customContainer()&&!n._sharedStorageEnabled()?n._isXenonApp()?c.Settings.ToolTip.disabledXenon.format(c.Settings.continuousDeployment):c.Settings.disabledToolTip:c.Settings.ToolTip.disabledSharedStorage.format(c.Settings.continuousDeployment):c.Settings.ToolTip.disabledPublisherPerm.format(c.Settings.continuousDeployment)})),displayText:c.Settings.continuousDeployment,keywords:Array(this.Keywords.ContinuousDeployment.deploymentSource,this.Keywords.ContinuousDeployment.continuousDeployment,this.Keywords.ContinuousDeployment.
github,this.Keywords.ContinuousDeployment.bitbucket,this.Keywords.ContinuousDeployment.dropbox,this.Keywords.ContinuousDeployment.tfs,this.Keywords.ContinuousDeployment.vso,this.Keywords.ContinuousDeployment.visualStudio),supplyBladeReferenceAsync:function(){var t=Q.defer();return Q(n._scmInfoEntityView.fetch(n.websiteId)),Q(n._scmInfoEntityView.refresh()).then((function(){var i=n._scmInfoEntityView.item(),r;i.ScmType()===d.ProviderType.None?t.resolve(new e.SetupContinuousDeploymentBladeReference(n._setupCDProvisioner.parameterProviderOptions)):i.ScmType()===d.ProviderType.Tfs?t.resolve(new e.TFSDeprecationBladeReference({resourceUri:n.resourceId})):(r={id:n.resourceId,ResourceId:n.resourceId},t.resolve(new e.ContinuousDeploymentListBladeReference(r)))})),t.promise}},t.push(h),l={id:"vstscd",icon:i.Base.Images.CustomImageWithOptions(b.Content.Images.vstsrm,{isLogo:!0}),enabled:f.computed(this._container,(function(){return n._hasPublisherAccess()&&n._isVSTSCDEnabled()&&!n._isXenonApp()})),tooltip:
f.computed(this._container,(function(){if(!n._hasPublisherAccess()||!n._isVSTSCDEnabled()||n._isXenonApp())return n._hasPublisherAccess()?n._isVSTSCDEnabled()?n._isXenonApp()?c.Settings.ToolTip.disabledXenon.format(c.deploymentCenter):c.Settings.disabledToolTip:c.Settings.ToolTip.disabledVSTS:c.Settings.ToolTip.disabledPublisherPerm.format(c.deploymentCenter)})),displayText:c.deploymentCenter,keywords:Array(this.Keywords.ContinuousDeployment.deploymentSource,this.Keywords.ContinuousDeployment.continuousDeployment,this.Keywords.ContinuousDeployment.github,this.Keywords.ContinuousDeployment.bitbucket,this.Keywords.ContinuousDeployment.dropbox,this.Keywords.ContinuousDeployment.tfs,this.Keywords.ContinuousDeployment.vso,this.Keywords.ContinuousDeployment.visualStudio),supplyBladeReference:function(){return n._kind==="app"&&n._hasAADCreateAccess()&&!y.forFeature(o.FeatureFlags.oldDeploymentCenter)?new e.FunctionsFrameBladeReference({id:n.resourceId.toLowerCase(),feature:"deployment"}):new r.
Composition.Selectable.PdlBladeReference("ContinuousIntegrationBlade",p.External.AzureTfsExtension.name,{parameters:{websiteResourceUri:n.resourceId}})}},t.push(l),t},t.prototype._getAppServicePlanGroupItems=function(){var n=this,t=[],o={id:"appserviceplan",icon:f.computed(this._container,(function(){return n._isLinuxApp()?b.Content.Images.linuxPlan:n._isXenonApp()?b.Content.Images.xenonPlan:i.Base.Images.Polychromatic.WebHosting()})),enabled:f.computed(this._container,(function(){return n._isPlanLoaded()})),tooltip:f.computed(this._container,(function(){if(!n._isPlanLoaded())return c.Settings.disabledToolTip})),displayText:c.Settings.appServicePlan,keywords:Array(this.Keywords.AppServicePlan.plan,this.Keywords.AppServicePlan.monitor,this.Keywords.AppServicePlan.access,this.Keywords.AppServicePlan.scale,this.Keywords.AppServicePlan.usage,this.Keywords.AppServicePlan.essentials),supplyBladeReferenceAsync:function(){return Q(n._fetchPromise).then((function(){return new e.PlansOverviewBladeReference(
{id:n._websiteView.item().ServerFarmId()})}))}},r,u;return t.push(o),r={id:"quotas",icon:i.Base.Images.Polychromatic.Chart(),enabled:f.computed(this._container,(function(){return n._hasPublisherAccess()})),tooltip:f.computed(this._container,(function(){if(!n._hasPublisherAccess())return c.Settings.ToolTip.disabledPublisherPerm.format(c.Quotas.title)})),displayText:c.Quotas.title,keywords:this.Keywords.quotas,supplyBladeReferenceAsync:function(){return Q(n._fetchPromise).then((function(){return v.isFreeOrSharedSKU(n._websiteView.item().Sku())?new e.QuotasBladeReference({resourceUri:n.resourceId}):new e.FileSystemStorageReference({resourceUri:n._websiteView.item().ServerFarmId()})}))}},t.push(r),u={id:"changeAppServicePlan",icon:b.Content.Images.change_asp,enabled:f.computed(this._container,(function(){return n._isPlanLoaded()&&n._isChangeASPEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isPlanLoaded()||!n._isChangeASPEnabled()){var t=n._getTooltip(rt.DisableChangePlan,l.changeWebHostingPlanCommandText);
return t?t:c.Settings.disabledToolTip}})),displayText:l.changeWebHostingPlanCommandText,keywords:"",supplyBladeReference:function(){return new e.AppServicePlanPickerBladeV3Reference(n._changeAspProvisioner.parameterProviderOptions)}},t.push(u),t},t.prototype._getSettingsGroupItems=function(){var n=this,t=[],ft={id:"application",icon:i.Base.Images.Polychromatic.ControlsHorizontal(),enabled:f.observable(!0),displayText:c.Settings.application,keywords:Array(this.Keywords.AppSettings.netFxVer,this.Keywords.AppSettings.phpVer,this.Keywords.AppSettings.javaVer,this.Keywords.AppSettings.pythonVer,this.Keywords.AppSettings.platform,this.Keywords.AppSettings.alwaysOn,this.Keywords.AppSettings.connStr,this.Keywords.AppSettings.remoteDebug,this.Keywords.AppSettings.appSettings,this.Keywords.AppSettings.defaultDoc,this.Keywords.AppSettings.handlerMappings,this.Keywords.AppSettings.virtualApps,this.Keywords.AppSettings.virtualDir,this.Keywords.AppSettings.webSockets),supplyBladeReferenceAsync:function(
){return Q(n._fetchPromise).then((function(){return Q(n._envPromise).then((function(){return n._isOldAppSettingsBladeEnabled()?new e.WebsiteConfigSiteSettingsReference({resourceUri:n.resourceId}):new e.SiteConfigSettingsFrameBladeReference({id:n.resourceId},function(){})}))}))}},u,s,l,a,v,y,w,k,d,g,nt,tt,it,ut;return t.push(ft),u={id:"customContainer",icon:i.Base.Images.CustomImageWithOptions(b.Content.Images.singlecontainer,{isLogo:!0}),enabled:f.observable(!0),visible:this._customContainer,displayText:c.Docker.customContainer,keywords:Array(c.Docker.customContainer,o.OperatingSystems.linux),supplyBladeReference:function(){return new e.EditCustomContainerBladeReference({resourceUri:n.resourceId,disableMultiContainer:n._kind.indexOf(o.KindsAvailable.Functions)>-1})}},t.push(u),s={id:"authv2",icon:i.Base.Images.Polychromatic.Key(),enabled:f.computed(this._container,(function(){return n._isEasyAuthEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isEasyAuthEnabled()){var t=n._getTooltip(
rt.DisableEasyAuth,c.Settings.authentication);return t?t:c.Settings.disabledToolTip}})),displayText:f.computed(this._container,(function(){return n._isLinuxApp()?c.Settings.authentication+"(Preview)":c.Settings.authentication})),keywords:Array(this.Keywords.UserAuth.aAD,this.Keywords.UserAuth.auth,this.Keywords.UserAuth.facebook,this.Keywords.UserAuth.login,this.Keywords.UserAuth.microsoft,this.Keywords.UserAuth.signin,this.Keywords.UserAuth.twitter),supplyBladeReference:function(){return new e.AppAuthReference({resourceUri:n.resourceId})}},t.push(s),l={id:"monitoringSettings",icon:i.Base.Images.Polychromatic.AppInsights(),enabled:f.computed(this._container,(function(){return n._isAppInsightsEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isAppInsightsEnabled()){var t=n._getTooltip(rt.DisableApplicationInsights,c.Settings.applicationInsights);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.applicationInsights,keywords:Array(this.Keywords.ApmSettings.application,
this.Keywords.ApmSettings.insight,this.Keywords.ApmSettings.monitoring,this.Keywords.ApmSettings.performance),supplyBladeReference:function(){return n._isASEApp()?new r.Composition.Selectable.PdlBladeReference(p.External.AppInsightsExtension.Blades.AppServicesEnablementBlade.name,p.External.AppInsightsExtension.name,{parameters:{resourceUri:n.resourceId,linkedComponent:null}}):new r.Composition.Selectable.PdlBladeReference(p.External.AppInsightsExtension.Blades.EmbeddedMonitoringSettingsBlade.name,p.External.AppInsightsExtension.name,{parameters:{resourceUri:n.resourceId,linkedComponent:null,applicationType:null}})}},t.push(l),a={id:"msi",icon:i.Base.Images.Polychromatic.Toolbox(),enabled:f.computed(this._container,(function(){return n._isMSIEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isMSIEnabled()){var t=n._getTooltip(rt.DisableMSI,c.msititle);return t?t:c.Settings.disabledToolTip}})),displayText:c.msititle,keywords:Array(c.msititle,c.Settings.authentication,c.Settings.
Keywords.msi),supplyBladeReference:function(){return new e.MSIBladeReference({resourceUri:n.resourceId})}},t.push(a),v={id:"backupsv2",icon:i.Base.Images.Polychromatic.Backup(),enabled:f.computed(this._container,(function(){var t=n._websiteView.item();return n._isBackupEnabled()&&!n._isSiteDynamicFunc(t)})),tooltip:f.computed(this._container,(function(){var i=n._websiteView.item(),t;if(!n._isBackupEnabled()||n._isSiteDynamicFunc(i))return n._isSiteDynamicFunc(i)?c.Settings.ToolTip.disabledDynamicSku.format(c.Settings.backup):(t=n._getTooltip(rt.DisableBackUp,c.Settings.backup),t?t:c.Settings.disabledToolTip)})),displayText:c.Settings.backup,keywords:Array(this.Keywords.Backup.backup,this.Keywords.Backup.disaster,this.Keywords.Backup.recover,this.Keywords.Backup.restore,this.Keywords.Backup.snapshot),supplyBladeReference:function(){return new e.BackupSummaryBladeReference({resourceUri:n.resourceId})}},t.push(v),y={id:"domainsandssl",icon:i.Base.Images.Polychromatic.CustomDomain(),enabled:f.
computed(this._container,(function(){return n._isCustomDomainsEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isCustomDomainsEnabled()){var t=n._getTooltip(rt.DisableDomains,c.Settings.customDomains);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.customDomains,keywords:Array(this.Keywords.DomainSsl.customDomains,this.Keywords.DomainSsl.sll,this.Keywords.DomainSsl.sslBindings,this.Keywords.DomainSsl.sniSsl,this.Keywords.DomainSsl.ipSsl,this.Keywords.DomainSsl.dns,this.Keywords.DomainSsl.hostnames),supplyBladeReference:function(){return new e.CustomDomainsAndSSLReference({resourceUri:n.resourceId,BuyDomainSelected:!1})}},t.push(y),w={id:"certificates",icon:i.Base.Images.Polychromatic.SslCustomDomains(),enabled:f.computed(this._container,(function(){return n._isSSLEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isSSLEnabled()){var t=n._getTooltip(rt.DisableSsl,c.Settings.sslCertificates);return t?t:c.Settings.disabledToolTip}})),displayText:
c.Settings.sslCertificates,keywords:Array(this.Keywords.DomainSsl.customDomains,this.Keywords.DomainSsl.sll,this.Keywords.DomainSsl.sslBindings,this.Keywords.DomainSsl.sniSsl,this.Keywords.DomainSsl.ipSsl,this.Keywords.DomainSsl.dns),supplyBladeReference:function(){return new e.CertificatesBladeReference({resourceUri:n.resourceId})}},t.push(w),k={id:"networking",icon:i.Base.Images.Polychromatic.VirtualNetwork(),enabled:f.computed(this._container,(function(){return n._isNetworkingEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isNetworkingEnabled()){var t=n._getTooltip(rt.DisableNetworking,c.Settings.networking);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.networking,keywords:Array(this.Keywords.Network.vpn,this.Keywords.Network.virtualPrivateNetwork,this.Keywords.Network.cdn,this.Keywords.Network.endpoint,this.Keywords.Network.domain,this.Keywords.Network.hybridConnections,this.Keywords.Network.biztalk,this.Keywords.Network.ip,this.Keywords.Network.iprestrictions,
this.Keywords.Network.restrictions),supplyBladeReference:function(){return new e.NetworkSummaryBladeReference({resourceUri:n.resourceId})}},t.push(k),d={id:"pricingTier",icon:i.Base.Images.Polychromatic.Scale(),enabled:f.computed(this._container,(function(){return n._isPlanLoaded()&&(!n._isASEApp()?n._hasAspReadPermission():n._hasHostingEnvironmentReadPermission())&&n._isScaleUpEnabled()&&!n._isXenonPrivatePreview()})),tooltip:f.computed(this._container,(function(){if(!n._isPlanLoaded()||!(!n._isASEApp()?n._hasAspReadPermission():n._hasHostingEnvironmentReadPermission())||!n._isScaleUpEnabled()||n._isXenonPrivatePreview()){if(n._isASEApp()&&!n._hasHostingEnvironmentReadPermission())return c.Settings.ToolTip.disabledReadASE.format(n._aseView.item()?n._aseView.item().Name():"");if(n._hasAspReadPermission()){if(n._isXenonPrivatePreview())return c.Settings.ToolTip.disabledXenonPrivatePreview}else return c.Settings.ToolTip.disabledReadASP.format(n._aspView.item()?n._aspView.item().Name():"");return c.
Settings.disabledToolTip}})),displayText:this._scaleupProvisioner.getScaleUpSettingTitle(),supplyBladeReference:function(){return n._scaleupProvisioner.getScaleUpBladeReference()}},t.push(d),g={id:"scale",icon:b.Content.Images.scaleOut,enabled:f.computed(this._container,(function(){return n._isScaleOutEnabled()&&!!n._isASEApp()?n._hasHostingEnvironmentReadPermission():n._hasAspReadPermission()})),tooltip:f.computed(this._container,(function(){if(n._isScaleOutEnabled()&&!!n._isASEApp()?!n._hasHostingEnvironmentReadPermission():!n._hasAspReadPermission())return n._isASEApp()&&!n._hasHostingEnvironmentReadPermission()?c.Settings.ToolTip.disabledReadASE.format(n._aseView.item()?n._aseView.item().Name():""):n._isASEApp()||n._hasAspReadPermission()?c.Settings.disabledToolTip:c.Settings.ToolTip.disabledReadASP.format(n._aspView.item()?n._aspView.item().Name():"")})),displayText:c.Settings.scaleOutAppServicePlan,keywords:Array(this.Keywords.scalevm,this.Keywords.scalevirtualMachine,this.Keywords.scaleinstance,
this.Keywords.scaleinstances,this.Keywords.scalepricing,this.Keywords.scalewhp,this.Keywords.scaleauto,this.Keywords.scaleautoScale),supplyBladeReferenceAsync:function(){return Q(n._fetchPromise).then((function(){return(n._changeAspProvisioner.updateAspRelatedInputs(n._websiteView.item().ServerFarmId()),!!h.hasFeature(n._features(),rt.UseAppServiceScaleSettingBlade))?(n._changeAspProvisioner.updateAspRelatedInputs(n._websiteView.item().ServerFarmId()),new e.AppServiceScaleSettingBladeReference({resourceId:n._websiteView.item().ServerFarmId(),options:{}})):new r.Composition.Selectable.PdlBladeReference("AutoScaleSettingsBlade","Microsoft_Azure_Monitoring",{parameters:n._scaleSettingBladeInputs})}))}},t.push(g),nt={id:"webJobs",icon:i.Base.Images.Polychromatic.WebJobs(),enabled:f.computed(this._container,(function(){return n._isWebJobsEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isWebJobsEnabled()){var t=n._getTooltip(rt.DisableWebJobs,c.Settings.webJobs);return t?t:c.Settings.
disabledToolTip}})),displayText:c.Settings.webJobs,keywords:Array(this.Keywords.WebJobs.contWebjobs,this.Keywords.WebJobs.schedWebjobs),supplyBladeReference:function(){return new e.webjobsNewBladeReference({resourceUri:n.resourceId})}},t.push(nt),tt={id:"properties",icon:i.Base.Images.Polychromatic.Controls(),enabled:f.observable(!0),displayText:c.Settings.properties,keywords:Array(this.Keywords.Properties.url,this.Keywords.Properties.status,this.Keywords.Properties.ftp,this.Keywords.Properties.ftps,this.Keywords.Properties.vip,this.Keywords.Properties.deployment,this.Keywords.Properties.gitUrl,this.Keywords.Properties.location,this.Keywords.Properties.subscription),supplyBladeReference:function(){return new e.PropertySheetBladeReference({resourceId:n.resourceId})}},t.push(tt),it={id:"pushregistration",icon:i.Base.Images.Polychromatic.Notification(),enabled:f.computed(this._container,(function(){return n._isNHEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isNHEnabled())
{var t=n._getTooltip(rt.DisableNotificationHub,c.Push.title);return t?t:c.Settings.disabledToolTip}})),displayText:c.Push.title,keywords:Array(this.Keywords.Quickstart.mobile,this.Keywords.Push.notification,this.Keywords.Push.push),supplyBladeReference:function(){return new e.PushRegistrationBladeReference({resourceUri:n.resourceId})}},t.push(it),ut={id:"localmysql",icon:b.Content.Images.mySQLInApp2,enabled:f.computed(this._container,(function(){return n._isMySQLEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isMySQLEnabled()){var t=n._getTooltip(rt.DisableMySql,c.localMySqlBladeTitle);return t?t:c.Settings.disabledToolTip}})),displayText:c.localMySqlBladeTitle,keywords:Array(this.Keywords.mysql,this.Keywords.database,this.Keywords.db),supplyBladeReference:function(){return new e.LocalMySqlFormBladeReference({resourceUri:n.resourceId})}},t.push(ut),t},t.prototype._getDevelopmentToolsGroupItems=function(){var n=this,t=[],g={id:"clone",icon:b.Content.Images.cloneApp,enabled:
f.computed(this._container,(function(){return n._isSiteLoaded()&&n._isProductionSite()&&n._isCloneEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isSiteLoaded()||!n._isProductionSite()||!n._isCloneEnabled()){if(!n._isProductionSite())return c.Settings.ToolTip.disabledSlot.format(c.CloneApp.title);var t=n._getTooltip(rt.DisableCloneApp,c.CloneApp.title);return t?t:c.Settings.disabledToolTip}})),displayText:c.CloneApp.title,keywords:this.Keywords.cloneApp,supplyBladeReferenceAsync:function(){return Q(n._fetchPromise).then((function(){return v.isPremiumSKUOrHigher(n._websiteView.item().Sku())?new e.CreateBladeReference(n._getCloneCreateCollector()):new e.UpgradeAspReference({resourceUri:n.resourceId,selectSpecId:o.ServerFarmSKUSpecs.small_premium,maxDisableSpecId:o.ServerFarmSKUSpecs.large_standard,displayMessage:c.CloneApp.UpgradeAsp.description,buttonName:c.CloneApp.UpgradeAsp.UpgradeToPremium.title})}))}},u,s,h,l,a,p,w,k,d;return t.push(g),u={id:"console",icon:i.Base.Images.
Polychromatic.DevConsole(),enabled:f.computed(this._container,(function(){return n._isConsoleEnabled()})),visible:this._isNonLinuxAndNonXenonApp,tooltip:f.computed(this._container,(function(){if(!n._isConsoleEnabled()){var t=n._getTooltip(rt.DisableConsole,c.consolePartTitle);return t?t:c.Settings.disabledToolTip}})),displayText:c.consolePartTitle,keywords:c.consolePartTitle,supplyBladeReference:function(){return new e.ConsoleBladeReference({resourceUri:n.resourceId})}},t.push(u),s={id:"ssh",icon:i.Base.Images.Polychromatic.DevConsole(),enabled:f.observable(!0),visible:this._isLinuxApp,displayText:c.sshtitle,keywords:c.consolePartTitle,supplyBladeReference:function(){return new e.SSHBladeReference({resourceUri:n.resourceId})}},t.push(s),h={id:"winRm",icon:b.Content.Images.winRM,enabled:f.observable(!0),visible:this._isXenonApp,displayText:c.winRmtitle,keywords:Array(this.Keywords.winRm,this.Keywords.win,this.Keywords.powerShell),supplyBladeReference:function(){return new e.WinRmBladeReference(
{resourceUri:n.resourceId})}},t.push(h),l={id:"kudu",icon:b.Content.Images.kuduKnife,enabled:f.observable(!0),visible:this._nonXenonApp,displayText:c.KuduPart.title,keywords:Array(this.Keywords.Kudu.environmentVariables,this.Keywords.Kudu.webHooks,this.Keywords.Kudu.kudu,this.Keywords.Kudu.developers),supplyBladeReference:function(){return new e.KuduBladeReference({resourceUri:n.resourceId})}},t.push(l),a={id:"monaco",icon:b.Content.Images.appServiceEditor,enabled:f.computed(this._container,(function(){return n._isMonacoEnabled()||n._xenonBlessedImage()})),tooltip:f.computed(this._container,(function(){if(!n._isMonacoEnabled()&&!n._xenonBlessedImage()){var t=n._getTooltip(rt.DisableMonaco,c.Monaco.title);return t?t:c.Settings.disabledToolTip}})),displayText:c.Monaco.title,keywords:Array(this.Keywords.Monaco.visualStudio,this.Keywords.Monaco.code,this.Keywords.Monaco.editor),supplyBladeReference:function(){return new e.MonacoBladeReference({resourceUri:n.resourceId})}},t.push(a),p={id:"cloudTest",
icon:b.Content.Images.cloudLoadTest,enabled:f.computed(this._container,(function(){return n._isPerfTestEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isPerfTestEnabled()){var t=n._getTooltip(rt.DisablePerfTest,c.Settings.cloudLoadTest);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.cloudLoadTest,keywords:Array(this.Keywords.CloudLoadTest.load,this.Keywords.CloudLoadTest.performance,this.Keywords.CloudLoadTest.stress,this.Keywords.CloudLoadTest.vSO,this.Keywords.CloudLoadTest.visualStudio),supplyBladeReference:function(){return new r.Composition.Selectable.PdlBladeReference("CreateLoadTestBlade","AzureTfsExtension",{parameters:{websiteUri:n.resourceId}})}},t.push(p),w={id:"resourceExplorer",icon:b.Content.Images.aRMExplorer,enabled:f.computed(this._container,(function(){return n._isResourceExplorerEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isResourceExplorerEnabled()){var t=n._getTooltip(rt.DisableResourceExplorer,c.Settings.resourceExplorer);
return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.resourceExplorer,keywords:Array(this.Keywords.ResourceExplorer.api,this.Keywords.ResourceExplorer.resources),supplyBladeReference:function(){return new e.ResourceExplorerBladeReference({resourceUri:n.resourceId})}},t.push(w),y.forFeature(o.FeatureFlags.UseNewSlotsBlade)||(k={id:"testingInProduction",icon:i.Base.Images.Polychromatic.WebsiteStaging(),enabled:f.computed(this._container,(function(){return n._isTIPEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isTIPEnabled()){var t=n._getTooltip(rt.DisableTestingInProduction,c.Settings.routingRules);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.routingRules,keywords:Array(this.Keywords.testProdrampUp,this.Keywords.testProdtrafficSplit),supplyBladeReference:function(){return new e.WebsiteRoutingRulesBladeReference({WebsiteId:n.websiteId})}},t.push(k)),d={id:"extensions",icon:i.Base.Images.Polychromatic.Extensions(),enabled:f.computed(this._container,
(function(){return n._isSiteExtensionsEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isSiteExtensionsEnabled()){var t=n._getTooltip(rt.DisableSiteExtensions,c.Settings.extensions);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.extensions,keywords:this.Keywords.Ext.site,supplyBladeReference:function(){return new e.SiteExtensionsListBladeReference({WebsiteId:n.websiteId})}},t.push(d),t},t.prototype._getMonitoringGroupItems=function(){var n=this,t=[],l={id:"alertssetting",icon:i.Base.Images.Check(),enabled:f.computed(this._container,(function(){return n._isAlertsEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isAlertsEnabled()){var t=n._getTooltip(rt.DisableAlerts,c.Settings.alerts);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.alerts,keywords:Array(this.Keywords.ResourceExplorer.api,this.Keywords.ResourceExplorer.resources),supplyBladeReference:function(){var t=n._getAlertsInput();return new r.Composition.Selectable.PdlBladeReference(
"AlertsListBlade",p.External.Microsoft_Azure_Insights.name,{parameters:t})}},u,o,s,h;return t.push(l),u={id:"diagnosticssetting",icon:i.Base.Images.Polychromatic.LogDiagnostics(),enabled:f.observable(!0),displayText:c.Settings.diagnostics,keywords:Array(this.Keywords.DiagLogs.ftp,this.Keywords.DiagLogs.ftps,this.Keywords.DiagLogs.appLog,this.Keywords.DiagLogs.siteDiag,this.Keywords.DiagLogs.webServLog,this.Keywords.DiagLogs.errMsg,this.Keywords.DiagLogs.failedReqTracing),supplyBladeReference:function(){return new e.WebsiteLogsBladeReference({WebsiteId:n.websiteId})}},t.push(u),o={id:"logStream",icon:i.Base.Images.Polychromatic.LogStreaming(),enabled:f.computed(this._container,(function(){return n._isLogStreamEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isLogStreamEnabled()){var t=n._getTooltip(rt.DisableLogStream,c.Settings.logStream);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.logStream,keywords:Array(this.Keywords.LogStream.log,this.Keywords.LogStream.
stream),supplyBladeReference:function(){return new e.LogStreamBladeReference({resourceUri:n.resourceId})}},t.push(o),s={id:"processExplorer",icon:i.Base.Images.Polychromatic.ProcessExplorer(),enabled:f.computed(this._container,(function(){return n._isProcessExplorerEnabled()})),tooltip:f.computed(this._container,(function(){if(!n._isProcessExplorerEnabled()){var t=n._getTooltip(rt.DisableProcessExplorer,c.Settings.processExplorer);return t?t:c.Settings.disabledToolTip}})),displayText:c.Settings.processExplorer,keywords:Array(this.Keywords.Process.process,this.Keywords.Process.explorer),supplyBladeReference:function(){return new e.ProcExpNewBladeReference({resourceUri:n.resourceId})}},t.push(s),h={id:"livehttp",icon:i.Base.Images.Tools({palette:3}),enabled:f.observable(!0),visible:this._isLinuxApp,displayText:c.SupportSite.liveHttpTitle,Keywords:this.Keywords.Troubleshoot.livehttp,supplyBladeReference:function(){return new e.SupportIFrameReference(n._createSupportInput(c.SupportSite.liveHttpTitle,
"pulse"))}},t.push(h),t},t.prototype._getTroubleshootGroupItems=function(){var n=this,t=[],i={id:"recommendations",icon:b.Content.Images.ribbonBlue,enabled:f.computed(this._container,(function(){return!n._isSlot()&&n._isRecommendationsEnabled()})),tooltip:f.computed(this._container,(function(){if(n._isSlot()||!n._isRecommendationsEnabled()){if(n._isSlot())return c.Settings.ToolTip.disabledSlot.format(c.Recommendations.title);var t=n._getTooltip(rt.DisableRecommendations,c.Recommendations.title);return t?t:c.Settings.disabledToolTip}})),displayText:c.Recommendations.title,keywords:this.Keywords.Recommendations.recommendation,supplyBladeReference:function(){return new e.ListRecommendationsBladeReference({resourceUri:n.resourceId,source:"SettingsBlade"})}};return t.push(i),t},t.prototype._getAPIGroupItems=function(){var t=this,n=[],r={id:"apiDefinition",icon:b.Content.Images.aPIDefinition,visible:this._isAPIFeaturesEnabled,displayText:c.Settings.apiDefinition,keywords:this.Keywords.Api.api,supplyBladeReference:
function(){return new e.ApiDefinitionReference({resourceUri:t.resourceId})}},i;return n.push(r),i={id:"apiCors",icon:b.Content.Images.cORS,visible:this._isAPIFeaturesEnabled,displayText:c.Settings.apiCors,keywords:this.Keywords.Api.api,supplyBladeReference:function(){return new e.ApiCorsReference({resourceUri:t.resourceId})}},n.push(i),n},t.prototype._getMobileGroupItems=function(){var n=this,t=[],o={id:"easyTableSettings",icon:i.Base.Images.Polychromatic.Table(),visible:this._isMobileFeaturesEnabled,displayText:c.Settings.easyTable,keywords:Array(this.Keywords.Quickstart.mobile,this.Keywords.Data.connection,this.Keywords.Data.data,this.Keywords.Data.sQL),supplyBladeReference:function(){return new e.TableListBladeReference({websiteId:f.observable(n.resourceId)})}},r,u;return t.push(o),r={id:"easyApiSettings",icon:i.Base.Images.Polychromatic.ApiManagement(),visible:this._isMobileFeaturesEnabled,displayText:c.Settings.easyApi,keywords:Array(this.Keywords.Quickstart.mobile,this.Keywords.Api.
api),supplyBladeReference:function(){return new e.ApiListBladeReference({websiteId:f.observable(n.resourceId)})}},t.push(r),u={id:"datasettings",icon:i.Base.Images.Polychromatic.Database(),enabled:f.computed(this._container,(function(){return n._isSiteLoaded()})),tooltip:f.computed(this._container,(function(){if(!n._isSiteLoaded())return c.Settings.disabledToolTip})),visible:this._isMobileFeaturesEnabled,displayText:c.Settings.data,keywords:Array(this.Keywords.Quickstart.mobile,this.Keywords.Data.connection,this.Keywords.Data.data,this.Keywords.Data.sQL),supplyBladeReferenceAsync:function(){return Q(n._fetchPromise).then((function(){var t={webSite:{webSiteResourceUri:f.observable(n.resourceId),webSiteLocation:f.observable(n._websiteView.item().Location)}};return new e.DataConnectionListReference(t)}))}},t.push(u),t},t.prototype._getTooltip=function(n,t){var i="",r={subscription:this.hubSub,site:this._websiteView?this._websiteView.item():null,serverFarm:this._aspView?this._aspView.item():null,
ase:this._aseView?this._aseView.item():null};return h.environmentList.forEach((function(u){u.isCurrentEnvironment(r)&&!i&&u.configurations.forEach((function(r){if(r.partName==="AppSvcMenu"&&r.features.indexOf(n)!==-1&&!i){var f=u.constructor.name;switch(f){case"OnPrem":i=c.Settings.ToolTip.disabledOnPremise.format(t);break;case"Fairfax":case"Blackforest":case"Mooncake":i=c.Settings.ToolTip.disabledNationalCloud.format(t);break;case"Xenon":i=c.Settings.ToolTip.disabledXenon.format(t);break;case"Linux":i=c.Settings.ToolTip.disabledLinux.format(t);break;case"FunctionApp":i=c.Settings.ToolTip.disabledFunction.format(t);break;case"BotApp":i=c.Settings.ToolTip.disabledBot.format(t);break;case"InternalLoadBalancing":i=c.Settings.ToolTip.disabledIlbASE.format(t);break;case"DynamicSkuApp":i=c.Settings.ToolTip.disabledDynamicSku.format(t)}}}))})),i},t.prototype._isSiteDynamicFunc=function(n){return n&&n.Kind().toLowerCase().indexOf(o.KindsAvailable.Functions.toLowerCase())>-1&&n.Sku().toLowerCase().
indexOf(o.ServerFarmSku.dynamic.toLowerCase())>-1},t.prototype._isXenonPrivatePreview=function(){return this._isXenonApp()&&this._aspView.item&&(this._aspView.item().SkuName()===o.ServerFarmSKUSpecs.smallStandardSpecCode||this._aspView.item().SkuName()===o.ServerFarmSKUSpecs.smallPremiumV2SpecCode||this._aspView.item().SkuName()===o.ServerFarmSKUSpecs.mediumPremiumV2SpecCode||this._aspView.item().SkuName()===o.ServerFarmSKUSpecs.largePremiumV2SpecCode)},t.prototype._getCloneCreateCollector=function(){var n=this;return{supplyInitialData:function(){return{hideSubscription:!0,siteSource:n.resourceId,premiumApp:!0,forbiddenSkus:[it.Sku.Free,it.Sku.Shared,it.Sku.Basic,it.Sku.Standard],passProvisioningData:!1}},supplyProviderConfig:function(){var i=c.CloneApp.title,t=s.defaultGalleryOption("CloneApp");return t.v.provisioningConfig.v.galleryCreateOptions.v.subscriptionId.v=n.websiteId.SubscriptionId,t.v.provisioningConfig.v.galleryCreateOptions.v.galleryItem.v.itemDisplayName.v=i,t.v.provisioningConfig.
v.galleryCreateOptions.v.deploymentName.v="CloneApp",t},receiveResult:function(){return null}}},t.prototype._createSupportInput=function(n,t){return{ResourceId:this.resourceId,source:"ToolsBlade",title:n,feature:t}},t.prototype._getAlertsInput=function(){var n=this._linkedResourcesView.items().map((function(n){return n.Id()}));return n.push(this.resourceId),n.push(this._websiteView.item().ServerFarmId()),{targetResourceIds:n,options:{isDisabled:!1,disabledMessage:c.alertsDisabledMessage,enableEvents:!0}}},t})(k.ViewModel);t.AppServiceMenuViewModel=et}));define("WebsitesExtension/TypeScript/Search/WebsiteBrowseViewModel",["require","exports","f","o","ko","Websites/ClientResources/GeneralResources","Websites/ClientResources/PdlResources","WebsitesExtension/TypeScript/_generated/ExtensionDefinition","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Menu/ViewModels/AppServiceMenuViewModel"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";r.defineProperty(t,"__esModule",
{value:!0});var c=i.Assets,l=i.ViewModels.Services.ResourceTypes,a=(function(){function n(n,t,i){this.supplementalDataStream=u.observableArray([]);this._status="status";this._tier="tier";this._plan="plan";this._appType="appType";this._container=n;this._dataContext=i}return n.prototype.getBrowseConfig=function(){var n={columns:[{id:this._status,name:u.observable(e.websiteStatusColumn),itemKey:this._status,width:u.observable("20%")},{id:this._tier,name:u.observable(e.websiteComputeColumn),itemKey:this._tier,width:u.observable("20%")},{id:this._plan,name:u.observable(e.appServicePlanColumnTitle),itemKey:this._plan,width:u.observable("20%")},{id:this._appType,name:u.observable(f.appType),itemKey:this._appType,width:u.observable("20%")}],defaultColumns:[this._status,this._appType,this._plan,4],contextMenu:{commandGroup:o.CommandGroupNames.websiteBrowseCommands}};return Q.resolve(n)},n.prototype.getSupplementalData=function(n,t,i){var r=this,u=this._dataContext.websitesData.sitesBrowseCache.createView(
this._container);return(c.SupplementalDataStreamHelper.ConnectView(this._container,u,this.supplementalDataStream,(function(t){return n.some((function(n){return l.compareResourceId(n,t.id())}))}),(function(n){var e={resourceId:n.id()},i,u;return t.indexOf(r._status)!==-1&&(e[r._status]=n.status),t.indexOf(r._tier)!==-1&&(e[r._tier]=n.tier),t.indexOf(r._plan)!==-1&&(e[r._plan]=n.plan),t.indexOf(r._appType)!==-1&&(i=n.kind(),u=f.webAppTypeName,!i||i.toLowerCase().indexOf(s.KindsAvailable.MobileApp)===-1?!i||i.toLowerCase().indexOf(s.KindsAvailable.ApiAppV2)===-1?!i||i.toLowerCase().indexOf(s.KindsAvailable.Webjob)===-1?!i||i.toLowerCase().indexOf(s.KindsAvailable.Functions)===-1||(u=f.functionsAppSubtitle,i.toLowerCase().indexOf(s.KindsAvailable.Bots)!==-1&&(u=f.botAppSubtitle)):u=f.webjobsAppType:u=f.apiAppTypeName:u=f.mobileAppTypeName,e[r._appType]=u),e})),i)?(u.fetch(n),u.refresh()):u.fetch(n)},n.prototype.refreshCache=function(){return this._dataContext.websitesData.sitesBrowseCache.refreshAll(
),Q()},n.prototype.getMenuConfig=function(n){var t=new h.AppServiceMenuViewModel(this._container,null,this._dataContext);return t.getMenuConfig(n)},n})();t.WebsiteBrowseViewModel=a}))