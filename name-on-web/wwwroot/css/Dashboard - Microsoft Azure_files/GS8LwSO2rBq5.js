define("_generated/Less/MsPortalImpl/Widgets/Widgets.ModalToast.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxs-modaltoast-inlineform .fxs-button-text,.fxs-modaltoast-title{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxs-modaltoast-item{position:absolute;top:50%;left:50%;padding:15px;transform:translate(-50%,-50%);min-width:500px;min-height:200px;max-width:1024px;max-height:768px}.fxs-modaltoast-title{text-align:center;font-size:16px;font-weight:700;margin-bottom:5px;padding-top:5px}.fxs-modaltoast-inlineform{padding-top:15px;text-align:center}.fxs-modaltoast-inlineform .fxc-section{display:flex;justify-content:center}.fxs-modaltoast-inlineform .fxc-simplebutton{margin-right:5px}.fxs-modaltoast-inlineform .fxc-simplebutton .fxs-button{display:inline-flex;max-width:100%}.fxs-modaltoast-inlineform .fxs-button-text{display:inline-block}.fxs-modaltoast-close{position:absolute;top:0;right:0;background:0 0;border:none;padding:5px;cursor:pointer}.fxs-modaltoast-close svg{height:12px;width:12px}")}));
define("_generated/Templates/WidgetsModalToast",["require","exports","f"],(function(){"use strict";return function(){return'<!-- ko if: data.modalToast() --> <div class="fxs-modaltoast-item fxs-portal-bg-txt-br fxs-popup" data-bind="with: data.modalToast"> <div class="fxs-modaltoast-title fxs-portal-text" tabindex="0" data-bind="text: title"><\/div> <div class="fxs-modaltoast-description fxs-portal-title" tabindex="0" data-bind="sanitizedHtml: description"><\/div> <!-- ko if: formSection --> <div class="msportalfx-form fxs-modaltoast-inlineform" data-bind="pcControl: formSection"><\/div> <!-- /ko --> <button class="fxs-modaltoast-close fxs-portal-svg" aria-hidden="true" data-bind="image: MsPortalFx.Base.Images.Shell.Close(), title: closeTitle"><\/button> <\/div> <!-- /ko -->'}}));
define("MsPortalImpl/Widgets/Widgets.ModalToast",["require","exports","ko","MsPortalImpl/Widgets/Widgets.WidgetBase","_generated/Templates/WidgetsModalToast","MsPortalImpl/Base/Base.EventTypes","MsPortalImpl/Interactions/Interactions.KeyboardNavigation","MsPortalImpl/Interactions/Interactions.DismissHandler","_generated/Less/MsPortalImpl/Widgets/Widgets.ModalToast.css"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){var t=(function(n){function t(t,r){var s=n.call(this,t,r)||this,h;s.element.attr("role","presentation").html(u());var l=new e.KeyboardNavigation(s.ltm,{element:t}),c=function(){var t,n;l.dispose();o.unregister(h);t=$(".fxs-modaltoast-item");t.length>0&&(n=i.dataFor(t[0]).data.modalToast(),n&&n.onDismissFn&&n.onDismissFn())},a=t.setEvents([f.default.click,".fxs-modaltoast-close",function(n){n.preventDefault();c()}]);return s.ltm.registerForDispose(a),h={dismissFn:function(){c()},logName:"modalToast"},o.register(h,!0),s._bindDescendants(),s}return __extends(t,n),t})(r.Widget);n.Widget=t})(s||(s={})),s}));
define("MsPortalImpl/Widgets/Widgets.ModalToastViewModel",["require","exports","ko","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Widgets/Widgets.WidgetBase"],(function(n,t,i,r,u){"use strict";var f;return (function(n){var t=(function(n){function t(){var t=n.call(this)||this;return t.modalToast=i.observable(),t.closeTitle=r.NotificationMenu.dismissToast,t}return __extends(t,n),t.prototype.addModalToast=function(n){var r,u,t;this.modalToast()||(this.modalToast(n),r=i.unwrap(n.formSection),r&&(u=r.children()||[],t=u.length>1&&u[1].children(),t&&t.forEach((function(i,r){var u=t[r].onClick;t[r].onClick=function(){u();n.onDismissFn&&n.onDismissFn()}}))))},t})(u.ViewModel);n.ViewModel=t})(f||(f={})),f}));
define("_generated/Less/MsPortalImpl/Widgets/Widgets.NotificationsPane.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,'@-webkit-keyframes fxs-notificationmenu-indeterminate-progress{from{left:-100%}to{left:150%}}@keyframes fxs-notificationmenu-indeterminate-progress{from{left:-100%}to{left:150%}}.fxs-notificationspane-progressbar{position:absolute;overflow:hidden;height:2px;top:35px;left:1px;bottom:1px;right:1px;transition:opacity 1.5s ease-in-out 1s}.fxs-notificationspane-progressbar>div{position:absolute;width:60%;height:100%;animation:fxs-notificationmenu-indeterminate-progress 1.5s linear infinite;background-color:#00bcf2}.fxs-notificationspane-button-unreadcount{font-family:az_ea_font,"Segoe UI",wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe WP",Tahoma,Arial,sans-serif;font-weight:600;font-size:13px;background-color:#fff;color:#000;position:absolute;top:5px;right:5px;border-radius:15px;text-align:center;line-height:13px}.fxs-notificationspane-button-unreadcount-circle{height:15px;width:15px}.fxs-notificationspane-button-unreadcount-oval{height:15px;width:28px}.fxs-notificationspane-header{border-bottom:1px solid #758393;padding-bottom:10px;margin-right:25px}.fxs-notificationspane{width:420px;height:100%;padding-left:25px;box-sizing:border-box;font-size:12px;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;overflow:hidden}.fxs-notificationspane-label{color:#fff;padding-bottom:3px}.fxs-notificationspane-top{height:calc(100% - 75px);overflow:auto;width:370px;padding-right:25px}.fxs-notificationspane-top .nodata-content{margin:0 40px;padding-top:30px;text-align:center}.fxs-notificationspane-dismisscontainer{float:right;margin-right:15px;margin-top:-10px}.fxs-notificationspane-dismiss{display:inline-block;margin-right:10px}.fxs-notificationspane-dismisslist{display:inline-block;list-style:none;margin:0;padding:0}.fxs-notificationspane-dismissitem{display:inline-block;margin-right:10px}.fxs-notificationspane-dismissitemdisabled{color:#6c737a!important;pointer-events:none}.fxs-notificationspane-list{overflow:hidden;list-style:none;padding-left:0;margin:0;width:370px}.fxs-notificationmenu-notification-wrapper{padding:10px;display:block;position:relative}.fxs-notificationmenu-notification-li.fxs-portal-border{border-bottom-style:solid;border-bottom-width:1px}.fxs-notificationmenu-notification-li.fxs-portal-border:last-child{border-bottom-width:0}.fxs-notificationmenu-notification-dismissIcon,.fxs-notificationmenu-notification-expandIcon{background-color:transparent;border:0;margin:0;padding:0;height:18px;width:18px;position:absolute;visibility:hidden;opacity:.4;right:5px;cursor:pointer}.fxs-notificationmenu-notificationclick:hover{text-decoration:underline}.fxs-notificationmenu-notification-dismissIcon{top:10px}.fxs-notificationmenu-notification-expandIcon{top:40px}.fxs-notificationmenu-notification-dismissIcon:hover,.fxs-notificationmenu-notification-expandIcon:hover{opacity:1}.fxs-notificationmenu-notification-details{margin-top:10px;text-decoration:underline;cursor:pointer}.fxs-notificationmenu-notification-wrapper:focus .fxs-notificationmenu-notification-dismissIcon,.fxs-notificationmenu-notification-wrapper:hover .fxs-notificationmenu-notification-dismissIcon{visibility:visible}.fxs-notificationmenu-notification-dismissIcon:focus .fxs-notificationmenu-notification-title-subtitle .fxs-notificationmenu-notification-expandIcon:focus .fxs-notificationmenu-notification-title-subtitle,.fxs-notificationmenu-notification-wrapper:focus .fxs-notificationmenu-notification-title-subtitle,.fxs-notificationmenu-notification-wrapper:hover .fxs-notificationmenu-notification-title-subtitle{visibility:hidden}.fxs-notificationmenu-notification-dismissIcon:focus,.fxs-notificationmenu-notification-expandIcon:focus{visibility:visible}.fxs-notificationmenu-notification-iconVerticalTransform{transform:scale(-1,-1);background-color:rgba(255,255,255,.3)}.fxs-notificationmenu-notification-title{display:-webkit-flex;display:flex;padding-bottom:2px}.fxs-notificationmenu-notification-title-icon{height:21px;width:21px;margin-right:10px}.fxs-notificationmenu-notification-title-text{font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:10px;-webkit-flex:1 0 0;flex:1 0 0}.fxs-notificationmenu-notification-title-subtitle{font-size:12px;line-height:18px;margin-right:15px}.fxs-notificationmenu-notification-description{font-size:12px;display:block;display:-webkit-box;line-height:18px;max-height:72px;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:4;-webkit-box-orient:vertical;position:relative;padding-top:5px;white-space:normal;width:335px}.fxs-notificationmenu-notification-expandedDescription{max-height:100%;overflow-y:auto;-webkit-line-clamp:initial;-webkit-box-orient:vertical}.fxs-notification-inlineform{padding-top:15px}.fxs-notification-inlineform .fxc-section{display:flex}.fxs-notification-inlineform .fxc-simplebutton{margin-right:5px}.fxs-notification-inlineform .fxc-simplebutton .fxs-button{display:inline-flex;max-width:100%}.fxs-notification-inlineform .fxs-button-text{display:inline-block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxs-notificationmenu-notification-progressbar{margin-top:10px}')}));
define("MsPortalImpl/UI/Hubs/UI.NotificationHelper",["require","exports","f","i","ko","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/JQueryHelper","MsPortalImpl/Widgets/Widgets.ModalToastViewModel","MsPortalImpl/Widgets/Widgets.ModalToast","FxHubs/RpcEndPoints","_generated/Less/MsPortalImpl/Widgets/Widgets.NotificationsPane.css"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(t){function p(n,t){var i=n.irisNotificationDetails;i&&h.Impl.irisTelemetryEndpoint.invoke(r.Rpc.client,"HubsExtension",{irisNotificationDetails:i,action:t})}function w(n){var t=$(".fxs-topbar-notifications");a=n;t.attr("aria-label",b.overflowTitle.format(n));t.findByClassName(y).remove();n>20?t.append("<div class='"+y+" "+tt+"'>"+i.encodeHtml(b.overflowCountMessage)+"<\/div>"):n&&t.append("<div class='"+y+" "+it+"'>"+n+"<\/div>")}function rt(n,i,r){var v=n.status===c.InProgress?!0:!1,l,h;if(v&&(k++,e.unhide($(".fxs-notificationspane-progressbar"))),n.toastDuration===4)if(d)nt.warning("Modal toast already shown. Showing current toast as sticky. Details: "+JSON.stringify(n.irisNotificationDetails)+"; Correlation ids: "+n.correlationIds.join(","));else{d=!0;l=$("<div class='fxs-portal-shield'><div class='fxs-portal-modaltoast'><\/div><\/div>");$("body").append(l);h=new o.ViewModel;new s.Widget(l.find(".fxs-portal-modaltoast"),h);h.addModalToast({title:u.observable(n.title),description:u.observable(n.description),formSection:u.observable(n.formSection),onDismissFn:function(){h.modalToast(null);$(".fxs-portal-shield").remove();p(n,"ModalDialogDismissed")}});return}i.isPaneOpen()||(n.timestamp.getTime()>=i.lastPaneOpenedTime()&&w(++a),r.addToasts({icon:t.iconMap[n.status],title:n.title,description:n.description||"",time:n.timestamp.toString({hour:"numeric",minute:"numeric"}),ids:n.correlationIds,descriptiveText:f.Toast.description.format(n.title),data:n,clickable:!!n.asset||!!n.linkedBlade||!!n.uri,formSection:n.formSection,duration:n.toastDuration,onDismissFn:function(){p(n,"ToastDismissed")}}))}function ut(n,t){!t.isPaneOpen()&&n.timestamp.getTime()>=t.lastPaneOpenedTime()&&!!a&&w(--a);n.status===c.InProgress&&(--k||e.hide($(".fxs-notificationspane-progressbar")));n.lifetimeManager&&!n.lifetimeManager.isDisposed()&&n.lifetimeManager.dispose();p(n,"NotificationDismissedFromPane")}var v=i.Base,l=v.Images.StatusBadge,g=i.Hubs.Notifications,c=g.NotificationStatus,nt=v.Diagnostics.createLog(n),y="fxs-notificationspane-button-unreadcount",tt="fxs-notificationspane-button-unreadcount-oval",it="fxs-notificationspane-button-unreadcount-circle",b=f.NotificationMenu;t.iconMap={};t.iconMap[c.Information]=l.Info();t.iconMap[c.Warning]=l.Warning();t.iconMap[c.Error]=l.Error();t.iconMap[c.InProgress]=v.Images.Loading.EllipsisSquare();t.iconMap[c.Success]=l.Success();var k=0,a=0,d=!1;t.updateUnreadCountOnButton=w;t.showToastAndUpdateCount=rt;t.removeToastAndUpdateCount=ut})(c||(c={})),c}))