define("WebsitesExtension/TypeScript/Ajax/Ajax.SourceControl",["require","exports","ko","WebsitesExtension/TypeScript/Ajax/Ajax"],(function(n,t,i,r){"use strict";var u;return (function(n){function t(n,t){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("user",t).notNull(),r.post("UpdateUser",{user:t,subscriptionId:n})}function u(n,t){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNull(),r.post("ResetPublishingProfile",{subscriptionId:n,siteId:t})}function f(n,t,i,u,f){return AntUx.Requires.Argument("command",n).notNullOrEmpty(),AntUx.Requires.Argument("dir",t).notNullOrEmpty(),AntUx.Requires.Argument("endpoint",i).notNullOrEmpty(),AntUx.Requires.Argument("publishingUserName",u).notNullOrEmpty(),AntUx.Requires.Argument("publishingPassword",f).notNullOrEmpty(),r.post("ExecuteKuduCommand",{command:n,dir:t,endpoint:i,publishingUserName:u,publishingPassword:f})}function e(n,t,i,u){return AntUx.
Requires.Argument("endpoint",n).notNullOrEmpty(),AntUx.Requires.Argument("publishingUserName",t).notNullOrEmpty(),AntUx.Requires.Argument("publishingPassword",i).notNullOrEmpty(),AntUx.Requires.Argument("instanceId",u).notNullOrEmpty(),r.post("KuduDeleteProcess",{endpoint:n,publishingUserName:t,publishingPassword:i,instanceId:u})}function o(n,t,i,u){return AntUx.Requires.Argument("endpoint",n).notNullOrEmpty(),AntUx.Requires.Argument("publishingUserName",t).notNullOrEmpty(),AntUx.Requires.Argument("publishingPassword",i).notNullOrEmpty(),AntUx.Requires.Argument("instanceId",u).notNullOrEmpty(),r.post("GetKuduThreadDetails",{endpoint:n,publishingUserName:t,publishingPassword:i,instanceId:u})}function s(n,t,i,u){return AntUx.Requires.Argument("endpoint",n).notNullOrEmpty(),AntUx.Requires.Argument("publishingUserName",t).notNullOrEmpty(),AntUx.Requires.Argument("publishingPassword",i).notNullOrEmpty(),AntUx.Requires.Argument("instanceId",u).notNullOrEmpty(),r.post("GetKuduModuleDetails",{
endpoint:n,publishingUserName:t,publishingPassword:i,instanceId:u})}function h(n,t,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",t).notNullOrEmpty(),AntUx.Requires.Argument("sourceSiteName",i).notNullOrEmpty(),r.post("ListInstanceIds",{subscriptionId:n,resourceGroupName:t,sourceSiteName:i})}function c(n,t,u,f,e,o,s){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNullOrEmpty(),AntUx.Requires.Argument("scmType",u).notNullOrEmpty(),AntUx.Requires.Argument("location",f).notNullOrEmpty(),r.post("KuduSetupScm",{subscriptionId:n,siteId:t,scmType:u,location:f,tfsOptions:i.toJS(e),siteSourceControlOptions:i.toJS(o),basicAuthUser:i.toJS(s)})}function l(n,t,i,u){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNullOrEmpty(),AntUx.Requires.Argument("scmType",u).notNullOrEmpty(),r.post("KuduDisconnectScm",{subscriptionId:
n,siteId:t,location:i,scmType:u})}function a(n,t,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNullOrEmpty(),r.post("KuduSync",{subscriptionId:n,siteId:t,location:i})}function v(n){AntUx.Requires.Argument("websiteIds",n).notNullOrEmpty();var t=[];return n.forEach((function(n){t.push({SubscriptionId:n.SubscriptionId,SiteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}})})),r.post("ListScmInfo",t)}n.updateFTPUser=t;n.resetPublishProfile=u;n.executeKuduCommand=f;n.kuduDeleteProcess=e;n.getKuduThreadDetails=o;n.getKuduModuleDetails=s;n.getInstanceIdList=h;n.setupScm=c;n.disconnectScm=l;n.syncScm=a;n.listScmInfo=v})(u||(u={})),u}));define("WebsitesExtension/TypeScript/ContinuousDeployment/Models/ProviderType",["require","exports"],(function(){"use strict";var n;return (function(n){var t;(function(n){n[n.None=0]="None";n[n.Tfs=1]="Tfs";n[n.LocalGit=2]="LocalGit";n[n.GitHub=3]="GitHub";n[n.CodePlexGit=4]="CodePlexGit";n[n.CodePlexHg=5]="CodePlexHg";
n[n.BitbucketGit=6]="BitbucketGit";n[n.BitbucketHg=7]="BitbucketHg";n[n.Dropbox=8]="Dropbox";n[n.ExternalGit=9]="ExternalGit";n[n.ExternalHg=10]="ExternalHg";n[n.CodePlex=11]="CodePlex";n[n.Bitbucket=12]="Bitbucket";n[n.External=13]="External";n[n.OneDrive=14]="OneDrive";n[n.VSO=15]="VSO";n[n.VSTSRM=16]="VSTSRM"})(t=n.ProviderType||(n.ProviderType={}))})(n||(n={})),n}));define("WebsitesExtension/TypeScript/ContinuousDeployment/Models/Provider",["require","exports","f","ko","Websites/ClientResources/ContinuousDeploymentResources","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/ContinuousDeployment/Models/ProviderType","WebsitesExtension/TypeScript/_generated/Svg"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){function p(n){switch(n){case e.ProviderType.Tfs:return new y;case e.ProviderType.LocalGit:return new s;case e.ProviderType.GitHub:return new h;case e.ProviderType.Bitbucket:return new c;case e.ProviderType.Dropbox:return new l;
case e.ProviderType.External:return new a;case e.ProviderType.OneDrive:return new t;case e.ProviderType.VSO:return new v;default:throw new Error(u.Provider.notSupportedFormat.format(n));}}var y=(function(){function n(){this.providerId=r.observable(e.ProviderType.Tfs);this.providerDisplayname=r.observable(u.Provider.Tfs.name);this.providerDescription=r.observable(u.Provider.Tfs.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.VisualStudio()});this.instructionMessage=r.observable("")}return n})(),t,s,h,c,l,a,v;n.TFS=y;t=(function(){function n(){this.providerId=r.observable(e.ProviderType.OneDrive);this.providerDisplayname=r.observable(u.Provider.OneDrive.name);this.providerDescription=r.observable(u.Provider.OneDrive.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:o.Content.Images.oneDriveBox});this.instructionMessage=
r.observable("")}return n})();n.OneDrive=t;s=(function(){function n(){this.providerId=r.observable(e.ProviderType.LocalGit);this.providerDisplayname=r.observable(u.Provider.LocalGit.name);this.providerDescription=r.observable(u.Provider.LocalGit.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.GitBox()});this.instructionMessage=r.observable(u.Provider.LocalGit.instruction)}return n})();n.LocalGit=s;h=(function(){function n(){this.providerId=r.observable(e.ProviderType.GitHub);this.providerDisplayname=r.observable(u.Provider.GitHub.name);this.providerDescription=r.observable(u.Provider.GitHub.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.GitHubBox()});this.instructionMessage=r.observable(u.Provider.ContinuousIntegration.instruction)}return n})();n.GitHub=h;c=(function(){function n(){this.providerId=
r.observable(e.ProviderType.Bitbucket);this.providerDisplayname=r.observable(u.Provider.Bitbucket.name);this.providerDescription=r.observable(u.Provider.Bitbucket.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.BitbucketBox()});this.instructionMessage=r.observable(u.Provider.ContinuousIntegration.instruction)}return n})();n.Bitbucket=c;l=(function(){function n(){this.providerId=r.observable(e.ProviderType.Dropbox);this.providerDisplayname=r.observable(u.Provider.Dropbox.name);this.providerDescription=r.observable(u.Provider.Dropbox.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.Dropbox()});this.instructionMessage=r.observable(u.Provider.ContinuousIntegration.instruction)}return n})();n.Dropbox=l;a=(function(){function n(){this.providerId=r.observable(e.ProviderType.External);this.providerDisplayname=
r.observable(u.Provider.External.name);this.providerDescription=r.observable("");this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.ExternalRepositoryBox()});this.instructionMessage=r.observable(u.Provider.ContinuousIntegration.instruction)}return n})();n.External=a;v=(function(){function n(){this.providerId=r.observable(e.ProviderType.VSO);this.providerDisplayname=r.observable(u.Provider.Tfs.name);this.providerDescription=r.observable(u.Provider.Tfs.description);this.providerSvgIcon=r.observable({height:f.ContinuousDeployment.iconSize,width:f.ContinuousDeployment.iconSize,svg:i.Base.Images.Logos.VisualStudio()});this.instructionMessage=r.observable(u.Provider.ContinuousIntegration.instruction)}return n})();n.VSO=v;n.GetProviderByType=p})(s||(s={})),s}));define("WebsitesExtension/TypeScript/ContinuousDeployment/Models/ScmMetadata",["require","exports"],(function(){"use strict";var n;return (function(n){function i(
n){return!!(n&&n[t.TfsBuildId]&&n[t.TfsProjectId]&&n[t.TfsAccountId])}var t=(function(){function n(){}return n})();t.TfsBuildId="tfslinkbuilddef";t.TfsProjectId="tfslinkproj";t.TfsAccountId="tfslinkacct";n.ScmMetadata=t;n.hasTfsMetadata=i})(n||(n={})),n}));define("WebsitesExtension/TypeScript/ContinuousDeployment/Models/SetupCDDataModels",["require","exports","ko"],(function(n,t,i){"use strict";var r;return (function(n){var f=(function(){function n(){this.websiteId=i.observable(null)}return n})(),t,r,u;n.SetupCDConfig=f;t=(function(){function n(){this.websiteId=i.observable(null);this.scmProvider=i.observable();this.basicAuthUsername=i.observable("");this.basicAuthPassword=i.observable("");this.tfsProject=i.observable(null);this.tfsRepo=i.observable(null);this.tfsBranch=i.observable(null);this.tfsBuildDefinitionId=i.observable();this.oAuthSetupToken=i.observable("");this.oAuthSetupTokenSecret=i.observable("");this.oAuthSetupRefreshToken=i.observable("");this.oAuthUrl=i.observable("");this.oAuthOrgs=
i.observableArray(null);this.oAuthOrg=i.observable(null);this.oAuthUserName=i.observable("");this.oAuthProject=i.observable(null);this.oAuthBranch=i.observable(null);this.fileRepoFolder=i.observable(null);this.fileRepoFolders=i.observableArray(null);this.deploymentRollback=i.observable(!1);this.externalRepoUrl=i.observable(null);this.externalRepoBranch=i.observable(null);this.externalRepoIsMercurial=i.observable("false");this.performanceTestConfiguration=i.observable("")}return n})();n.SetupCDData=t;r=(function(){function n(){this.username=i.observable();this.password=i.observable()}return n})();n.SetupBasicAuthData=r;u=(function(){function n(){this.userName=i.observable();this.organizations=i.observableArray();this.providerType=i.observable();this.oAuthUrl=i.observable();this.oAuthSetupToken=i.observable();this.oAuthSetupTokenSecret=i.observable();this.oAuthSetupRefreshToken=i.observable();this.folders=i.observableArray();this.siteName=i.observable();this.subscriptionId=i.observable()}return n})
();n.SetupOAuthData=u})(r||(r={})),r}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/RemoteDataSource",["require","exports","f","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Net/AjaxOld"],(function(n,t,i,r){"use strict";return (function(){function n(n,t,i){this._dataSetName=n;this._uri=t;i||(i=function(n,t,i){return r.post(t,i)});this._fetchData=i}return n.prototype.dispose=function(){i.Data.Loader.disposeDataSet(this._dataSetName)},n.prototype.refresh=function(n){var t={dataSetName:this._dataSetName,uri:this._uri,ajaxData:{},loaderOptions:{fetchData:this._fetchData}};return n&&n.forceRefresh&&(t.forceCacheRefresh=!0),i.Data.Loader.getData(t)},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataSet",["require","exports","f","ko","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/RemoteDataSource"],(function(n,t,i,r,u,f){"use strict";return (function(){function n(){}return n.createDataSet=function(n,t){var r;return r=t.type!==
undefined?i.Data.Loader.getDataSet(n,t.type):i.Data.Loader.getDataSet(n,!0),t.initialData!==undefined&&r.merge(t.initialData),t.pollingIntervals!==undefined&&i.Data.Loader.setPollingIntervals(n,t.pollingIntervals),t.setFastPolling&&i.Data.Loader.setFastPolling(n,!0),r},n.createRemoteDataSource=function(n,t){var r=typeof t.uri=="string"?i.Base.Resources.getAppRelativeUri(t.uri):"";return new f(n,r,t.fetchData)},n.getObservableDataAsync=function(n){var t=u.Deferred();return n().done((function(){for(var n,e,o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];n=o[0];e=u.isArray(n)?r.observableArray():{};n?i.Data.DataSet.mergeWithoutAtomization(n,e):e=n;t.resolve(e)})).fail((function(){t.reject()})),t.promise()},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataSetCache",["require","exports","f","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Internal/RefCountCache"],(function(n,t,i,r){"use strict";var u=(function(){function n(){}return n.getOrCreate=function(t,i,
r){var f,u;return n._log("getting dataset {0}".format(t)),n.cache.getOrAddItem(t,(function(){return n._log("creating dataset {0}".format(t)),f=i(t),u=r(t),{dataSetName:t,dataSet:f,dataSource:u,initialLoadPromise:u.refresh()}}))},n.release=function(t){n._log("releasing dataset {0}".format(t));n.cache.releaseItem(t,(function(r){n._log("disposing dataset {0}".format(t));i.Data.Loader.disposeDataSet(t);r.dataSource.dispose()}))},n.peek=function(t){return n.cache.peekAtItem(t)},n._log=function(n){i.Base.Diagnostics.Log.writeEntry(0,"ExtensionCore.Data.DataSetCache","ExtensionCore.Data.DataSetCache: {0}".format(n))},n})();return u.cache=new r,u}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/RefCountedDataSet",["require","exports","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataSet","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataSetCache"],(function(n,t,i,r,u){"use strict";
return (function(){function n(){}return n.getRefCountedDataSet=function(t,i){return u.getOrCreate(t,(function(){return r.createDataSet(t,i)}),(function(){return n._createAnonymousRemoteDataSource(t,i.fetchData)}))},n.releaseRefCountedDataSet=function(n){u.release(n)},n._createAnonymousRemoteDataSource=function(n,t){return r.createRemoteDataSource(n,{uri:undefined,fetchData:function(){var n=t();return i.toJQueryPromise(n)}})},n.peekAtRefCountedDataSet=function(n){return u.peek(n)},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/Knockout",["require","exports","a","ko"],(function(n,t,i,r){"use strict";r.observableArray.fn.replaceAll=function(n){var t=[0,this().length];return i.prototype.push.apply(t,n),this.splice.apply(this,t)};return (function(){function n(){}return n.isObservableArray=function(n){return!!(r.isObservable(n)&&n.indexOf)},n.computedArray=function(n,t){var i=r.observableArray();return r.reactor(n,(function(){var n=t();i.replaceAll(n)})),i.filter(n,(function(
){return!0}))},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/RefCountedData",["require","exports","ko","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/RefCountedDataSet","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/Knockout","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/Polling"],(function(n,t,i,r,u,f,e){"use strict";return (function(){function n(){}return n.getRefCountedDataAsync=function(t,i){i=n._getDataSetOptions(i);var e=u.getRefCountedDataSet(t,i),f=r.Deferred();return e.initialLoadPromise.done((function(){setTimeout((function(){f.resolve(n._unwrapData(e.dataSet.data))}))})).fail((function(){setTimeout((function(){f.reject()}))})),f.promise()},n.releaseRefCountedData=function(n){u.releaseRefCountedDataSet(n)},n.peekAtRefCountedData=function(t){var i=u.peekAtRefCountedDataSet(t);return i&&i.dataSet&&i.dataSet.data?n._unwrapData(i.dataSet.data):null},n.refreshRefCountedData=function(n){var t=u.peekAtRefCountedDataSet(
n);return t&&t.dataSource?t.dataSource.refresh({forceRefresh:!0}):r.Deferred().resolve({}).promise()},n._getDataSetOptions=function(n){var t,i;return t=r.isFunction(n)?{fetchData:n}:n,i={pollingIntervals:e.NoPolling},r.extend({},i,t)},n._unwrapData=function(n){return f.isObservableArray(n)?n:i.isObservable(n)?n():n},n})()}));define("WebsitesExtension/TypeScript/Data/Data.Websites",["require","exports","f","i","ko","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Shared/SharedArea","WebsitesExtension/TypeScript/Utility/Utility.Slots","WebsitesExtension/TypeScript/Models/WebHostingPlanResourceId","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/Ajax/Ajax.SourceControl","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/RefCountedData"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";var v;return (function(n){function rt(n,r,f){var e=
t();return u.observableArray(e().filter((function(t){var u=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(t.ServerFarmId()),e=u.resource,o=u.subscription,s=u.resourceGroup;return AntUx.StringEx.equals(e,n,AntUx.StringComparison.IgnoreCase)&&AntUx.StringEx.equals(o,f,AntUx.StringComparison.IgnoreCase)&&AntUx.StringEx.equals(s,r,AntUx.StringComparison.IgnoreCase)})))}function v(n){var i=null,r=o.parseWebsiteName(n.Name);return i=r.SlotName?p(n):t(),i().first((function(t){return h.WebsiteResourceId.equals(n,t)}))}function ut(n){var i=t();return i().first((function(t){return n===t.Name()}))}function w(n){var t=p(n);return t().first((function(t){return h.WebsiteResourceId.equals(n,t)}))}function ft(n){var t=new r.TriggerableLifetimeManager,i=e.DataContext.instance.websitesData.websiteCache.createView(t),u=i.fetch(n).then((function(){return i.item()}));return u.finally((function(){t.dispose()})),l.toJQueryPromise(u)}function y(n){var t=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(
n),r=g();return r().first((function(n){return AntUx.StringEx.equals(n.Name.peek(),t.resource,AntUx.StringComparison.IgnoreCase)&&AntUx.StringEx.equals(n.SubscriptionId.peek(),t.subscription,AntUx.StringComparison.IgnoreCase)&&AntUx.StringEx.equals(n.ResourceGroup.peek(),t.resourceGroup,AntUx.StringComparison.IgnoreCase)}))}function et(n){return y(n.ServerFarmId())}function nt(n,t){var f=tt(n,t),i=st(n,f),r=u.observableArray();return u.reactor(n,(function(){if(!t.loading()){var n=t.items().slice();i()&&n.unshift(i());r.replaceAll(n)}})),r.filter(n,(function(){return!0}))}function ot(n,t){var f=nt(n,t),r=tt(n,t),e=f.filter(n,(function(n){return r()&&!h.WebsiteResourceId.equals(r(),n)}));return e.map(n,(function(n,t){var r=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(t.ServerFarmId()).resource;return t.ServerFarm?t.ServerFarm(r):t.ServerFarm=u.observable(r),t}))}function tt(n,t){return u.pureComputed((function(){var n=t.loading();return t._currentParams}))}function st(n,t){return u.pureComputed(
(function(){var n=t(),i,r;return n&&n.Name?(i=o.parseWebsiteName(n.Name),r=new h.WebsiteResourceId({Name:i.ProductionSiteName,ResourceGroup:n.ResourceGroup,SubscriptionId:n.SubscriptionId}),v(r)):null}))}function ht(n){var i=new h.WebsiteResourceId(n),e=u.toJS(n),r,f,s=o.parseWebsiteName(i.Name);return s.SlotName?(r=w(i),f=p(i)):(r=v(i),f=t()),r?l.merge(r,e):(f.push(l.mapItemIntoObservableProperties(e)),r=s.SlotName?w(i):v(i)),r}function ct(n){var i=new s.WebHostingPlanResourceId(n),r=f.Asset.ServerFarmResourceUriTemplate.format(i.SubscriptionId,i.ResourceGroup,i.Name),e=u.toJS(n),t=y(r),o=g();return t?l.merge(t,e):(o.push(l.mapItemIntoObservableProperties(e)),t=y(r)),t}function lt(n,t,i){var r=new h.WebsiteResourceId(t),u=k(n,r);return a.getRefCountedDataAsync(u,i)}function at(n,t){var i=k(n,t);a.releaseRefCountedData(i)}function b(n,t,i,r){return"{0}-{1}-{2}-{3}".format(n,t,i,r)}function it(n,t,i,r){var u=o.parseWebsiteName(r);return b(n,t,i,u.ProductionSiteName)}function k(n,t){return b(
n,t.SubscriptionId,t.ResourceGroup,t.Name)}function vt(n,t){return it(n,t.SubscriptionId,t.ResourceGroup,t.Name)}function yt(n,t,i,r){var u=d(n,t,i);return a.getRefCountedDataAsync(u,r)}function pt(n,t,i){var r=d(n,t,i);a.releaseRefCountedData(r)}function d(n,t,i){return"{0}-{1}-{2}".format(n,t,i)}function wt(n){return n.Status()}function bt(n){var t=[];return n.forEach((function(n){t.push(new h.WebsiteResourceId(n))})),c.listScmInfo(t)}function t(){var t=e.DataContext.instance,n=t.websitesData.websitesAtomizationContext;return n._getOrAddAtomizationCache(f.PartitionKey.productionWebsites,[]),n.getItems(f.PartitionKey.productionWebsites)}function g(){var t=e.DataContext.instance,n=t.websitesData.webHostingPlansAtomizationContext;return n._getOrAddAtomizationCache(f.PartitionKey.serverFarms,[]),n.getItems(f.PartitionKey.serverFarms)}function p(n){var r=e.DataContext.instance,t=r.websitesData.websitesAtomizationContext,i=o.parseWebsiteName(n.Name);return t._getOrAddAtomizationCache(f.PartitionKey.
websiteSlots.format(n.SubscriptionId,n.ResourceGroup,i.ProductionSiteName),[]),t.getItems(f.PartitionKey.websiteSlots.format(n.SubscriptionId,n.ResourceGroup,i.ProductionSiteName))}n.getWebsitesInServerFarm=rt;n.getWebsiteFromCache=v;n.getWebsiteByNameFromCache=ut;n.getWebsiteSlotFromCache=w;n.getWebsiteAsync=ft;n.getServerFarmFromCache=y;n.getServerFarmForWebsite=et;n.createAllSlotsComputedArray=nt;n.createRelativeSlotsComputedArray=ot;n.addWebsite=ht;n.addServerFarm=ct;n.getRefCountedDataAsync=lt;n.releaseRefCountedData=at;n.websiteCacheKey=b;n.productionWebsiteCacheKey=it;n.getWebsiteCacheKey=k;n.getProductionWebsiteCacheKey=vt;n.getResourceGroupRefCountedDataAsync=yt;n.releaseResourceGroupRefCountedData=pt;n.getResourceGroupCacheKey=d;n.getWebsiteStatus=wt;n.listWebsitesWithScmInfo=bt;n.getProductionWebsites=t;n.getServerFarms=g;n.getWebsiteSlots=p})(v||(v={})),v}));define("WebsitesExtension/TypeScript/Data/Data.Config",["require","exports","f","WebsitesExtension/TypeScript/Ajax/Ajax.Config",
"WebsitesExtension/TypeScript/Data/Data.Websites","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/ExtensionAssets/Constants"],(function(n,t,i,r,u,f,e){"use strict";var o;return (function(n){function t(n){var t={Name:n.Name(),ResourceGroup:n.ResourceGroup()};return u.getRefCountedDataAsync("WebsiteConfig",n,(function(){return r.getWebsiteConfig(n.SubscriptionId(),t).then((function(n){return n.PythonVersion===e.PythonVersion.v273?n.PythonVersion=e.PythonVersion.v27:n.PythonVersion===e.PythonVersion.v340&&(n.PythonVersion=e.PythonVersion.v34),n}))}))}function o(n){u.releaseRefCountedData("WebsiteConfig",n)}function s(n){var t={Name:n.Name(),ResourceGroup:n.ResourceGroup()};return r.getWebsiteConfig(n.SubscriptionId(),t).then((function(t){var e=u.getWebsiteCacheKey("WebsiteConfig",new f.WebsiteResourceId(n)),r=i.Data.Loader.getDataSet(e);r&&r.merge(t)}))}n.getWebsiteConfig=t;n.releaseWebsiteConfig=o;n.refreshWebsiteConfig=s})(o||(o={})),o}));define("WebsitesExtension/TypeScript/Models/Website",
["require","exports","f","Websites/ClientResources/GeneralResources"],(function(n,t,i,r){"use strict";var u;return (function(n){var t=(function(){function n(){}return n})(),u,f,h,c;t.Running="Running";t.SwapPending=r.pendingSwapOperation;t.SwapReverting=r.swapRevert;t.Stopped="Stopped";t.Starting="Starting";t.Stopping="Stopping";t.Deleting="Deleting";t.Restarting="Restarting";t.Configuring="Configuring";t.Swapping="Swapping";t.QuotaExceeded="QuotaExceeded";t.Limited="Limited";t.Deleted="Deleted";n.WebsiteStatus=t;u=(function(){function n(){}return n})();u.Standard="Standard";u.Basic="Basic";u.Shared="Shared";u.Free="Free";u.Premium="Premium";u.Isolated="Isolated";u.Dynamic="Dynamic";u.PremiumV2="PremiumV2";u.PremiumContainer="PremiumContainer";u.Rank={Premiumcontainer:8,Premiumv2:7,Isolated:6,Dynamic:5,Premium:4,Standard:3,Basic:2,Shared:1,Free:0};n.Sku=u;f=(function(){function n(){}return n})();n.SkuDescription=f,(function(n){n[n.Shared=0]="Shared";n[n.Dedicated=1]="Dedicated"})(h=n.ComputeModeOptions||
(n.ComputeModeOptions={})),(function(n){n[n.Normal=0]="Normal";n[n.Limited=1]="Limited"})(c=n.AvailabilityState||(n.AvailabilityState={}));var e={name:"Websites.ExtendedWebsite",properties:{Name:null,DisplayName:null,Status:null,State:null,Sku:null,Location:null,ResourceGroup:null,SubscriptionId:null,ServerFarm:null,ServerFarmId:null,Url:null,IsProductionSite:null,ProductionSiteName:null,TrafficManagerHostNames:{itemType:null,isArray:!0},OldPortalRedirectUrl:null,SlotName:null,HostNameSslStates:{itemType:"Websites.HostNameSslState",isArray:!0},HostNames:{itemType:null,isArray:!0},IPAddress:null,WebSpace:null,TargetSwapSlot:null,Kind:null,HostingEnvironmentProfile:null,HttpsOnly:null,HostingEnvironmentId:null,OutboundIPAddresses:null},idProperties:["Name","HostingEnvironmentId"]},o={name:"Websites.HostNameSslState",properties:{IpBasedSslResult:null,Name:null,SslState:{itemType:"Websites.SslState",isArray:!1},Thumbprint:null,ToUpdate:null,ToUpdateIpBasedSsl:null,VirtualIP:null},idProperties:
["Name"],entityType:!0},s={name:"Websites.SslState",properties:{IpBasedSslResult:null,Name:null,SslState:null,Thumbprint:null,ToUpdate:null,ToUpdateIpBasedSsl:null,VirtualIP:null},entityType:!0};i.Data.Metadata.setTypeMetadata(s.name,s);i.Data.Metadata.setTypeMetadata(o.name,o);i.Data.Metadata.setTypeMetadata(e.name,e)})(u||(u={})),u}));define("WebsitesExtension/TypeScript/Models/ConfigOptions",["require","exports"],(function(){"use strict";var n;return (function(n){var t,i,r;(function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large";n[n.D1=3]="D1";n[n.D2=4]="D2";n[n.D3=5]="D3"})(t=n.WorkerSizeOptions||(n.WorkerSizeOptions={})),(function(n){n[n.Ready=0]="Ready";n[n.Pending=1]="Pending";n[n.Creating=3]="Creating"})(i=n.StatusOptions||(n.StatusOptions={})),(function(n){n[n.MySql=0]="MySql";n[n.SQLServer=1]="SQLServer";n[n.SQLAzure=2]="SQLAzure";n[n.Custom=3]="Custom";n[n.NotificationHub=4]="NotificationHub";n[n.ServiceBus=5]="ServiceBus";n[n.EventHub=6]="EventHub";n[n.ApiHub=
7]="ApiHub";n[n.DocDb=8]="DocDb";n[n.RedisCache=9]="RedisCache";n[n.PostgreSQL=10]="PostgreSQL"})(r=n.DatabaseType||(n.DatabaseType={}))})(n||(n={})),n}));define("WebsitesExtension/TypeScript/Models/WebsiteSpec",["require","exports","WebsitesExtension/TypeScript/Models/ConfigOptions","WebsitesExtension/TypeScript/Models/Website","WebsitesExtension/TypeScript/ExtensionAssets/Constants"],(function(n,t,i,r,u){"use strict";var f;return (function(n){n.specsForAzure={small_premium_container:{Id:u.ServerFarmSKUSpecs.small_premium_container,Sku:r.Sku.PremiumContainer,InstanceCount:20,VMSize:i.WorkerSizeOptions.Small,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},medium_premium_container:{Id:u.ServerFarmSKUSpecs.medium_premium_container,Sku:r.Sku.PremiumContainer,InstanceCount:20,VMSize:i.WorkerSizeOptions.Medium,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},large_premium_container:{Id:u.ServerFarmSKUSpecs.large_premium_container,Sku:r.Sku.PremiumContainer,InstanceCount:
20,VMSize:i.WorkerSizeOptions.Large,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},D1_premiumV2:{Id:u.ServerFarmSKUSpecs.small_premiumV2,Sku:r.Sku.PremiumV2,InstanceCount:20,VMSize:i.WorkerSizeOptions.D1,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},D2_premiumV2:{Id:u.ServerFarmSKUSpecs.medium_premiumV2,Sku:r.Sku.PremiumV2,InstanceCount:20,VMSize:i.WorkerSizeOptions.D2,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},D3_premiumV2:{Id:u.ServerFarmSKUSpecs.large_premiumV2,Sku:r.Sku.PremiumV2,InstanceCount:20,VMSize:i.WorkerSizeOptions.D3,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},small_isolated:{Id:u.ServerFarmSKUSpecs.small_isolated,Sku:r.Sku.Isolated,InstanceCount:20,VMSize:i.WorkerSizeOptions.Small,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},large_isolated:{Id:u.ServerFarmSKUSpecs.large_isolated,Sku:r.Sku.Isolated,InstanceCount:20,VMSize:i.WorkerSizeOptions.Large,ComputeMode:u.ComputeMode.Dedicated,
SiteMode:u.SiteMode.Limited},medium_isolated:{Id:u.ServerFarmSKUSpecs.medium_isolated,Sku:r.Sku.Isolated,InstanceCount:20,VMSize:i.WorkerSizeOptions.Medium,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},small_standard:{Id:u.ServerFarmSKUSpecs.small_standard,Sku:r.Sku.Standard,InstanceCount:10,VMSize:i.WorkerSizeOptions.Small,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},medium_standard:{Id:u.ServerFarmSKUSpecs.medium_standard,Sku:r.Sku.Standard,InstanceCount:10,VMSize:i.WorkerSizeOptions.Medium,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},large_standard:{Id:u.ServerFarmSKUSpecs.large_standard,Sku:r.Sku.Standard,InstanceCount:10,VMSize:i.WorkerSizeOptions.Large,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},small_premium:{Id:u.ServerFarmSKUSpecs.small_premium,Sku:r.Sku.Premium,InstanceCount:20,VMSize:i.WorkerSizeOptions.Small,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},medium_premium:{Id:u.ServerFarmSKUSpecs.
medium_premium,Sku:r.Sku.Premium,InstanceCount:20,VMSize:i.WorkerSizeOptions.Medium,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},large_premium:{Id:u.ServerFarmSKUSpecs.large_premium,Sku:r.Sku.Premium,InstanceCount:20,VMSize:i.WorkerSizeOptions.Large,ComputeMode:u.ComputeMode.Dedicated,SiteMode:u.SiteMode.Limited},small_basic:{Id:u.ServerFarmSKUSpecs.small_basic,Sku:r.Sku.Basic,InstanceCount:3,VMSize:i.WorkerSizeOptions.Small,ComputeMode:"",SiteMode:""},medium_basic:{Id:u.ServerFarmSKUSpecs.medium_basic,Sku:r.Sku.Basic,InstanceCount:3,VMSize:i.WorkerSizeOptions.Medium,ComputeMode:"",SiteMode:""},large_basic:{Id:u.ServerFarmSKUSpecs.large_basic,Sku:r.Sku.Basic,InstanceCount:3,VMSize:i.WorkerSizeOptions.Large,ComputeMode:"",SiteMode:""},shared:{Id:u.ServerFarmSKUSpecs.shared,Sku:r.Sku.Shared,InstanceCount:1,VMSize:i.WorkerSizeOptions.Small,ComputeMode:u.ComputeMode.Shared,SiteMode:u.SiteMode.Basic},free:{Id:u.ServerFarmSKUSpecs.free,Sku:r.Sku.Free,InstanceCount:1,VMSize:
i.WorkerSizeOptions.Small,ComputeMode:u.ComputeMode.Shared,SiteMode:u.SiteMode.Limited}};var t=(function(){function n(){}return n})();n.WebsiteSpec=t})(f||(f={})),f}));define("WebsitesExtension/TypeScript/SpecPicker/WebsiteSpecData",["require","exports","Websites/ClientResources/SpecPickerResources","WebsitesExtension/TypeScript/_generated/Svg","WebsitesExtension/TypeScript/Models/Website","WebsitesExtension/TypeScript/ExtensionAssets/Constants"],(function(n,t,i,r,u,f){"use strict";var e;return (function(n){function h(n){var t=n.Name().substring(0,1),i=n.Name().substring(1);return"{0}-{1}-{2}-{3}".format(t,i,n.SkuName(),n.WorkerTierName())}function ct(n){return vt(n)}function lt(){return c}function l(){return{id:n.specIds.smallPremiumContainer,colorScheme:o.darkOrchid,title:t.Title.premiumContainer,specCode:f.ServerFarmSKUSpecs.smallPremiumContainerSpecCode,promotedFeatures:[{value:"2",unitDescription:t.PromotedFeature.core},{value:"8",unitDescription:t.PromotedFeature.gb}],features:[{id:e.dSeriesWorkers,
displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.autoScale,displayName:t.Feature.autoscale,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function a(){return{id:n.specIds.mediumPremiumContainer,colorScheme:o.darkOrchid,title:t.Title.premiumContainer,specCode:f.ServerFarmSKUSpecs.mediumPremiumContainerSpecCode,promotedFeatures:[{value:"4",unitDescription:t.PromotedFeature.core},{value:"16",unitDescription:t.PromotedFeature.
gb}],features:[{id:e.dSeriesWorkers,displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.autoScale,displayName:t.Feature.autoscale,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function v(){return{id:n.specIds.largePremiumContainer,colorScheme:o.darkOrchid,title:t.Title.premiumContainer,specCode:f.ServerFarmSKUSpecs.largePremiumContainerSpecCode,promotedFeatures:[{value:"8",unitDescription:t.PromotedFeature.core},{value:"32",
unitDescription:t.PromotedFeature.gb}],features:[{id:e.dSeriesWorkers,displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.autoScale,displayName:t.Feature.autoscale,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function y(){return{id:n.specIds.smallIsolated,colorScheme:o.orange,title:i.Ase.isolated,specCode:f.ServerFarmSKUSpecs.smallIsolatedSpecCode,promotedFeatures:[{value:"1",unitDescription:i.PromotedFeature.core},{value:
"3.5",unitDescription:i.PromotedFeature.gb}],features:n.commonIsolatedSpecFeatures,cost:s}}function p(){return{id:n.specIds.mediumIsolated,colorScheme:o.orange,title:i.Ase.isolated,specCode:f.ServerFarmSKUSpecs.mediumIsolatedSpecCode,promotedFeatures:[{value:"2",unitDescription:i.PromotedFeature.core},{value:"7",unitDescription:i.PromotedFeature.gb}],features:n.commonIsolatedSpecFeatures,cost:s}}function w(){return{id:n.specIds.largeIsolated,colorScheme:o.orange,title:i.Ase.isolated,specCode:f.ServerFarmSKUSpecs.largeIsolatedSpecCode,promotedFeatures:[{value:"4",unitDescription:i.PromotedFeature.core},{value:"14",unitDescription:i.PromotedFeature.gb}],features:n.commonIsolatedSpecFeatures,cost:s}}function b(){return{id:n.specIds.smallPremiumV2,colorScheme:o.darkOrchid,title:t.Title.premiumV2,specCode:f.ServerFarmSKUSpecs.smallPremiumV2SpecCode,promotedFeatures:[{value:"1",unitDescription:t.PromotedFeature.core},{value:"3.5",unitDescription:t.PromotedFeature.gb}],features:[{id:e.dSeriesWorkers,
displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.scaleLimited,displayName:t.Feature.scaleLimited,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function k(){return{id:n.specIds.mediumPremiumV2,colorScheme:o.darkOrchid,title:t.Title.premiumV2,specCode:f.ServerFarmSKUSpecs.mediumPremiumV2SpecCode,promotedFeatures:[{value:"2",unitDescription:t.PromotedFeature.core},{value:"7",unitDescription:t.PromotedFeature.gb}],features:
[{id:e.dSeriesWorkers,displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:e.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.scaleLimited,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.geoAvailabilty,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function d(){return{id:n.specIds.largePremiumV2,colorScheme:o.darkOrchid,title:t.Title.premiumV2,specCode:f.ServerFarmSKUSpecs.largePremiumV2SpecCode,promotedFeatures:[{value:"4",unitDescription:t.PromotedFeature.core},{value:"14",unitDescription:t.PromotedFeature.gb}],features:[{id:e.dSeriesWorkers,displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:
e.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.scaleLimited,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.geoAvailabilty,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function g(){return{id:n.specIds.smallPremium,colorScheme:o.darkOrchid,title:t.Title.premium,specCode:f.ServerFarmSKUSpecs.smallPremiumSpecCode,promotedFeatures:[{value:"1",unitDescription:t.PromotedFeature.core},{value:"1.75",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.scaleLimited,displayName:
t.Feature.scaleLimited,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.autoBackup,displayName:t.Feature.backup,displayValue:t.Feature.backupsDaily.format(50)},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function nt(){return{id:n.specIds.mediumPremium,colorScheme:o.darkOrchid,title:t.Title.premium,specCode:f.ServerFarmSKUSpecs.mediumPremiumSpecCode,promotedFeatures:[{value:"2",unitDescription:t.PromotedFeature.core},{value:"3.5",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.scaleLimited,displayValue:t.Feature.instancesLimitedFormat.
format(20)},{id:e.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.autoBackup,displayValue:t.Feature.backupsDaily.format(50)},{id:e.geoAvailabilty,displayValue:t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function tt(){return{id:n.specIds.largePremium,colorScheme:o.darkOrchid,title:t.Title.premium,specCode:f.ServerFarmSKUSpecs.largePremiumSpecCode,promotedFeatures:[{value:"4",unitDescription:t.PromotedFeature.core},{value:"7",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(250)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.scaleLimited,displayValue:t.Feature.instancesLimitedFormat.format(20)},{id:e.websiteStaging,displayValue:t.Feature.slotsFormat.format(20)},{id:e.autoBackup,displayValue:t.Feature.backupsDaily.format(50)},{id:e.geoAvailabilty,displayValue:
t.Feature.trafficManager},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.caption}}}function it(){return{id:n.specIds.smallStandard,colorScheme:o.mediumBlue,title:t.Title.standard,specCode:f.ServerFarmSKUSpecs.smallStandardSpecCode,promotedFeatures:[{value:"1",unitDescription:t.PromotedFeature.core},{value:"1.75",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(50)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.autoScale,displayName:t.Feature.autoscale,displayValue:t.Feature.instancesFormat.format(10)},{id:e.autoBackup,displayName:t.Feature.backup,displayValue:t.Feature.daily},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:t.Feature.slotsFormat.format(5)},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,displayValue:t.Feature.trafficManager}],cost:{caption:
t.Cost.caption}}}function rt(){return{id:n.specIds.mediumStandard,colorScheme:o.mediumBlue,title:t.Title.standard,specCode:f.ServerFarmSKUSpecs.mediumStandardSpecCode,promotedFeatures:[{value:"2",unitDescription:t.PromotedFeature.core},{value:"3.5",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(50)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.autoScale,displayValue:t.Feature.instancesFormat.format(10)},{id:e.autoBackup,displayValue:t.Feature.daily},{id:e.websiteStaging,displayValue:t.Feature.slotsFormat.format(5)},{id:e.geoAvailabilty,displayValue:t.Feature.trafficManager}],cost:{caption:t.Cost.caption}}}function ut(){return{id:n.specIds.largeStandard,colorScheme:o.mediumBlue,title:t.Title.standard,specCode:f.ServerFarmSKUSpecs.largeStandardSpecCode,promotedFeatures:[{value:"4",unitDescription:t.PromotedFeature.core},{value:"7",unitDescription:
t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(50)},{id:e.customDomains,displayValue:t.Feature.customDomainSSL,displayName:t.Feature.sNIAndIPFormat,iconName:"SslCustomDomains"},{id:e.autoScale,displayValue:t.Feature.instancesFormat.format(10)},{id:e.autoBackup,displayValue:t.Feature.daily},{id:e.websiteStaging,displayValue:t.Feature.slotsFormat.format(5)},{id:e.geoAvailabilty,displayValue:t.Feature.trafficManager}],cost:{caption:t.Cost.caption}}}function ft(){return{id:n.specIds.smallBasic,colorScheme:o.yellowGreen,title:t.Title.basic,specCode:f.ServerFarmSKUSpecs.smallBasicSpecCode,promotedFeatures:[{value:"1",unitDescription:t.PromotedFeature.core},{value:"1.75",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(10)},{id:e.customDomains,displayName:t.Feature.customDomains},{id:e.sslSupport,displayName:t.Feature.sniSslIncluded,displayValue:t.Feature.sslSupport,iconName:"SslCustomDomains"},
{id:e.manualscale,displayName:t.Feature.manualScale,displayValue:t.Feature.instancesFormat.format(3),iconName:"Scale"}],cost:{caption:t.Cost.caption}}}function et(){return{id:n.specIds.mediumBasic,colorScheme:o.yellowGreen,title:t.Title.basic,specCode:f.ServerFarmSKUSpecs.mediumBasicSpecCode,promotedFeatures:[{value:"2",unitDescription:t.PromotedFeature.core},{value:"3.5",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(10)},{id:e.customDomains,displayName:t.Feature.customDomains},{id:e.sslSupport,displayName:t.Feature.sniSslIncluded,displayValue:t.Feature.sslSupport,iconName:"SslCustomDomains"},{id:e.manualscale,displayName:t.Feature.manualScale,displayValue:t.Feature.instancesFormat.format(3),iconName:"Scale"}],cost:{caption:t.Cost.caption}}}function ot(){return{id:n.specIds.largeBasic,colorScheme:o.yellowGreen,title:t.Title.basic,specCode:f.ServerFarmSKUSpecs.largeBasicSpecCode,promotedFeatures:[{value:"4",unitDescription:t.
PromotedFeature.core},{value:"7",unitDescription:t.PromotedFeature.gb}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(10)},{id:e.customDomains,displayName:t.Feature.customDomains},{id:e.sslSupport,displayName:t.Feature.sniSslIncluded,displayValue:t.Feature.sslSupport,iconName:"SslCustomDomains"},{id:e.manualscale,displayName:t.Feature.manualScale,displayValue:t.Feature.instancesFormat.format(3),iconName:"Scale"}],cost:{caption:t.Cost.caption}}}function st(){return{id:n.specIds.shared,colorScheme:o.darkOrchid,title:t.Title.shared,specCode:f.ServerFarmSKUSpecs.shared_specCode,promotedFeatures:[{value:"-",unitDescription:t.PromotedFeature.sharedInfrastructure}],features:[{id:e.storage,displayValue:"1 GB"},{id:e.customDomains,displayName:t.Feature.customDomains}],cost:{caption:t.Cost.captionShared}}}function ht(){return{id:n.specIds.free,colorScheme:o.orange,title:t.Title.free,specCode:f.ServerFarmSKUSpecs.free_specCode,promotedFeatures:[{value:"-",unitDescription:t.
PromotedFeature.sharedInfrastructure}],features:[{id:e.storage,displayValue:t.Feature.storageGBFormat.format(1)}],cost:{caption:t.Cost.caption}}}function at(){var t=JSON.parse(JSON.stringify(c));return t.specs=t.specs.filter((function(t){return n.linuxSpecIds.indexOf(t.id)>-1})),t}function vt(i){var f={mediumBlue:"mediumBlue",yellowGreen:"yellowGreen",orange:"orange",darkOrchid:"darkOrchid"},o=i.map((function(n){var i={id:h(n),colorScheme:n.SkuSettings().length===0||!(n.SkuSettings()in f)?"darkOrchid":n.SkuSettings(),title:n.SkuName(),specCode:n.Name(),promotedFeatures:[],features:[{id:e.storage,displayName:t.Feature.storage,displayValue:t.Feature.storageGBFormat.format(+(n.FileSystemStorageInMB()/1024).toFixed(2))},{id:e.scaleLimited,displayName:t.Feature.scaleLimited,displayValue:n.NumberOfVirtualWorkers()===-1?t.maxInstances:t.Feature.instancesFormat.format(n.NumberOfVirtualWorkers())},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,displayValue:n.NumberOfSlotsPerSite()===-1?
t.unlimitedSlots:t.Feature.slotsFormat.format(n.NumberOfSlotsPerSite())}],cost:{currencyCode:n.CurrencyCode(),caption:t.Cost.caption,amount:n.EstimatedPrice()}};return n.CustomDomainsEnabled()&&i.features.push({id:e.customDomains,displayName:t.Feature.customDomains}),n.ComputeMode()===u.ComputeModeOptions.Dedicated?i.promotedFeatures.push({value:n.NumberOfCores(),unitDescription:t.PromotedFeature.core},{value:n.MemorySize()/1024,unitDescription:t.PromotedFeature.gb}):i.promotedFeatures.push({value:"-",unitDescription:t.PromotedFeature.sharedInfrastructure}),i})),r={specType:"WebsitesExtension",features:[{id:e.storage,displayName:t.Feature.storage,iconName:"Storage"},{id:e.customDomains,displayName:t.Feature.customDomainSSL,iconName:"CustomDomain"},{id:e.autoScale,displayName:t.Feature.autoscale,iconName:"Scale"},{id:e.scaleLimited,displayName:t.Feature.scaleLimited,iconName:"Scale"},{id:e.autoBackup,displayName:t.Feature.backup,iconName:"Backup"},{id:e.websiteStaging,displayName:t.Feature.
websiteStaging,iconName:"WebsiteStaging"},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,iconName:"Globe"}],resourceMap:{"default":[{id:n.specIds.smallPremium,quotas:[{resourceId:"y8fx4nayq13i4wrk59xwj8ccnxywsaq6h8ax4nayrti71j3x5pdwtc7y4imyqeyy6a",quantity:744}]}]},specsToAllowZeroCost:[]};return r.specs=o,r}function yt(n,i,r,u){return r.filter((function(n){return n.ComputeMode()===u||n.AvailableInstances()<=0||n.AvailableInstances()<i})).map((function(n){return{specId:h(n),message:n.ComputeMode()===u?t.forbiddenPricingTier:t.noInstanceAvailable}})).filter((function(t){return t.specId!==n}))}function pt(n){var t={};n.forEach((function(n){t[n.Name()]={Id:n.Name(),Sku:n.SkuName(),InstanceCount:1,VMSize:n.WorkerTierId(),ComputeMode:n.ComputeMode(),SiteMode:""}}))}var t=i,o={mediumBlue:"mediumBlue",yellowGreen:"yellowGreen",orange:"orange",darkOrchid:"darkOrchid"},e={storage:"storage",customDomains:"customDomains",sslSupport:"sslSupport",autoScale:"autoScale",scaleLimited:"scaleLimited",
autoBackup:"autoBackup",websiteStaging:"websiteStaging",geoAvailabilty:"geoAvailabilty",manualscale:"manualscale",halfPrice:"halfPrice",dSeriesWorkers:"dSeriesWorkers",singleTenantSystem:"singleTenantSystem",networkIsolation:"networkIsolation",privateAppAccess:"privateAppAccess",isolatedStorage:"isolatedStorage"},s,c;n.specIds={smallPremiumContainer:f.ServerFarmSKUSpecs.small_premium_container,mediumPremiumContainer:f.ServerFarmSKUSpecs.medium_premium_container,largePremiumContainer:f.ServerFarmSKUSpecs.large_premium_container,smallIsolated:f.ServerFarmSKUSpecs.small_isolated,mediumIsolated:f.ServerFarmSKUSpecs.medium_isolated,largeIsolated:f.ServerFarmSKUSpecs.large_isolated,smallPremium:f.ServerFarmSKUSpecs.small_premium,mediumPremium:f.ServerFarmSKUSpecs.medium_premium,largePremium:f.ServerFarmSKUSpecs.large_premium,extralargePremium:f.ServerFarmSKUSpecs.extralarge_premium,smallPremiumV2:f.ServerFarmSKUSpecs.small_premiumV2,mediumPremiumV2:f.ServerFarmSKUSpecs.medium_premiumV2,largePremiumV2:
f.ServerFarmSKUSpecs.large_premiumV2,smallStandard:f.ServerFarmSKUSpecs.small_standard,mediumStandard:f.ServerFarmSKUSpecs.medium_standard,largeStandard:f.ServerFarmSKUSpecs.large_standard,smallBasic:f.ServerFarmSKUSpecs.small_basic,mediumBasic:f.ServerFarmSKUSpecs.medium_basic,largeBasic:f.ServerFarmSKUSpecs.large_basic,shared:f.ServerFarmSKUSpecs.shared,free:f.ServerFarmSKUSpecs.free};n.commonIsolatedSpecFeatures=[{id:e.dSeriesWorkers,displayName:i.Feature.dSeriesWorkers,displayValue:i.Feature.dSeriesWorkersDesc,iconName:"SSD"},{id:e.singleTenantSystem,displayName:i.Feature.singleTenantSystem,displayValue:i.Feature.singleTenantSystemDesc,iconName:"ASE",iconSvgData:r.Content.Images.appService.data},{id:e.networkIsolation,displayName:i.Feature.networkIsolated,displayValue:i.Feature.networkIsolatedDesc,iconName:"VirtualNetwork"},{id:e.privateAppAccess,displayName:i.Feature.privateAppAccessDesc,displayValue:i.Feature.privateAppAccess,iconName:"ActiveDirectory"},{id:e.storage,displayName:
i.Feature.storageTBFormat.format(1),displayValue:i.Feature.storageTBFormatDesc,iconName:"Storage"},{id:e.scaleLimited,displayName:i.Feature.upToInstancesDesc,displayValue:i.Feature.upToInstancesFormat.format("100"),iconName:"Scale"}];n.linuxSpecIds=[n.specIds.smallStandard,n.specIds.mediumStandard,n.specIds.largeStandard,n.specIds.smallBasic,n.specIds.mediumBasic,n.specIds.largeBasic,n.specIds.smallIsolated,n.specIds.mediumIsolated,n.specIds.largeIsolated];n.getOnPremSpecId=h;n.getOnPremSpecData=ct;n.getAzureSpecData=lt;n.getSmallPremiumContainerSpec=l;n.getMediumPremiumContainerSpec=a;n.getLargePremiumContainerSpec=v;n.getSmallIsolatedSpec=y;n.getMediumIsolatedSpec=p;n.getLargeIsolatedSpec=w;n.getSmallPremiumV2Spec=b;n.getMediumPremiumV2Spec=k;n.getLargePremiumV2Spec=d;n.getSmallPremiumSpec=g;n.getMediumPremiumSpec=nt;n.getLargePremiumSpec=tt;n.getSmallStandardSpec=it;n.getMediumStandardSpec=rt;n.getLargeStandardSpec=ut;n.getSmallBasicSpec=ft;n.getMediumBasicSpec=et;n.getLargeBasicSpec=
ot;n.getSharedSpec=st;n.getFreeSpec=ht;n.getAzureLinuxSpecData=at;s={caption:i.Cost.captionInstance};c={specType:"WebsitesExtension",specs:[l(),a(),v(),y(),p(),w(),b(),k(),d(),g(),nt(),tt(),it(),rt(),ut(),ft(),et(),ot(),st(),ht(),],features:[{id:e.storage,displayName:t.Feature.storage,iconName:"Storage"},{id:e.customDomains,displayName:t.Feature.customDomainSSL,iconName:"CustomDomain"},{id:e.autoScale,displayName:t.Feature.autoscale,iconName:"Scale"},{id:e.autoBackup,displayName:t.Feature.backup,iconName:"Backup"},{id:e.websiteStaging,displayName:t.Feature.websiteStaging,iconName:"WebsiteStaging"},{id:e.geoAvailabilty,displayName:t.Feature.geoAvailability,iconName:"Globe"},{id:e.scaleLimited,displayName:t.Feature.scaleLimited,iconName:"Scale"}],resourceMap:{"default":[{id:n.specIds.smallIsolated,quotas:[{resourceId:"abe6300e-7c8c-4fee-80fb-0478a3fe7058",quantity:744}]}]},specsToAllowZeroCost:[n.specIds.free]};n.getOnPremDisabledSpec=yt;n.GetOnPremSpecs=pt})(e||(e={})),e}));define("WebsitesExtension/TypeScript/Utility/Utility.WebHostingPlan",
["require","exports","f","Websites/ClientResources/GeneralResources","Websites/ClientResources/PdlResources","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Models/WebHostingPlanResourceId","WebsitesExtension/TypeScript/Models/ConfigOptions","WebsitesExtension/TypeScript/Environment/RuntimeType","WebsitesExtension/TypeScript/_generated/Svg","WebsitesExtension/TypeScript/_generated/ExtensionDefinition"],(function(n,t,i,r,u,f,e,o,s,h,c){"use strict";var l;return (function(n){function y(n,t){t.subscribe(n,(function(t){n.assetName(t?t.Name:"")}))}function p(n,t){switch(n){case o.StatusOptions.Pending:return t&&t.Kind()===f.ASEv2.kind?u.webHostingPlanScalingState:u.webHostingPlanPendingState;case o.StatusOptions.Ready:return u.webHostingPlanReadyState;case o.StatusOptions.Creating:return u.webHostingPlanCreatingState;default:return null}}function w(n){if(s.isOnPrem())return n.toString();switch(n){case o.WorkerSizeOptions.Small:return f.WorkerSize.Small;case
o.WorkerSizeOptions.Medium:return f.WorkerSize.Medium;case o.WorkerSizeOptions.Large:return f.WorkerSize.Large;default:return""}}function b(n){if(s.isOnPrem())return n.toString();switch(n){case o.WorkerSizeOptions.Small:case o.WorkerSizeOptions.D1:return r.instanceSizeSmall;case o.WorkerSizeOptions.Medium:case o.WorkerSizeOptions.D2:return r.instanceSizeMedium;case o.WorkerSizeOptions.Large:case o.WorkerSizeOptions.D3:return r.instanceSizeLarge;default:return""}}function t(n){return n===f.ServerFarmSku.premium||n===f.ServerFarmSku.isolated||n.toLowerCase()===f.ServerFarmSku.premiumV2.toLowerCase()||n.toLowerCase()===f.ServerFarmSku.premiumContainer.toLowerCase()}function l(n){return n===f.ServerFarmSku.standard||t(n)}function a(n){return n===f.ServerFarmSku.basic||l(n)}function v(n){return n===f.ServerFarmSku.dynamic||a(n)}function k(n){return n===f.ServerFarmSku.dynamic||l(n)}function d(n){return n===f.ServerFarmSku.dynamic||t(n)}function g(n){return n===f.ServerFarmSku.shared||v(n)}function nt(
n){return n===f.ServerFarmSku.free||n===f.ServerFarmSku.shared}function tt(n){return n===f.ServerFarmSku.free}function it(n){if(!n.WebHostingPlanId)return n.resourceUri;var t=n.WebHostingPlanId;return t.SubscriptionId?e.WebHostingPlanResourceId.toCsmResourceId(t):t}function rt(n){return n.Reserved()?h.Content.Images.linuxPlan:n.IsXenon()?h.Content.Images.xenonPlan:i.Base.Images.Polychromatic.WebHosting()}function ut(n,t){var u,f,e;if(n&&n.FreeOfferExpirationTime&&n.FreeOfferExpirationTime())try{f=t.EffectiveLocale.split(".")[1];e=new Intl.DateTimeFormat(f).format(new Date(n.FreeOfferExpirationTime()));u={text:r.freeTrialExpiration.format(n.Name(),e),state:5}}catch(o){i.Base.Diagnostics.Log.writeEntry(2,c.BladeNames.appsOverviewBlade,"Failed to parse expiration time",o)}return u}n.setAssetNameFromWebHostingPlanId=y;n.getStatusDisplayText=p;n.getVirtualMachineSize=w;n.getVirtualMachineSizeDisplayName=b;n.isPremiumSKUOrHigher=t;n.isStandardSKUOrHigher=l;n.isBasicSKUOrHigher=a;n.isBasicSKUOrHigherOrDynamic=
v;n.isStandardSKUOrHigherOrDynamic=k;n.isPremiumSKUOrHigherOrDynamic=d;n.isSharedSKUOrHigherOrDynamic=g;n.isFreeOrSharedSKU=nt;n.isFreeSKU=tt;n.getResourceUriFromInputs=it;n.findIcon=rt;n.checkIfFreeOffer=ut})(l||(l={})),l}));define("WebsitesExtension/TypeScript/Utility/Utility.Specs",["require","exports","Websites/ClientResources/GeneralResources","Websites/ClientResources/SpecPickerResources","WebsitesExtension/TypeScript/Models/ConfigOptions","WebsitesExtension/TypeScript/Models/Website","Websites/ClientResources/PdlResources","WebsitesExtension/TypeScript/Models/WebsiteSpec","WebsitesExtension/TypeScript/Utility/Utility.WebHostingPlan","WebsitesExtension/TypeScript/Environment/RuntimeType","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/SpecPicker/WebsiteSpecData"],(function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";var a;return (function(n){function t(n,t){var i,r;t=t==="null"?"0":t;for(i in o.specsForAzure)if(o.specsForAzure[i].Sku===n&&((r=o.specsForAzure[
i],n===f.Sku.Free||n===f.Sku.Shared)||u.WorkerSizeOptions[r.VMSize]===u.WorkerSizeOptions[t]))return r;return null}function a(n){switch(n){case f.Sku.Isolated:return i.websiteSkuIsolated;case f.Sku.Premium:return i.websiteSkuPremium;case f.Sku.Standard:return i.websiteSkuStandard;case f.Sku.Basic:return i.websiteSkuBasic;case f.Sku.Free:return i.websiteSkuFree;case f.Sku.Shared:return i.websiteSkuShared;case f.Sku.Dynamic:return i.dynamic}return n}function p(n){if(h.isOnPrem())return v(n.SkuFamily(),n.WorkerSize());throw"getOnPremWhpSkuName is OnPrem only";}function w(n){if(h.isOnPrem())return"{0}-{1}-{2}-{3}".format(n.SkuFamily(),n.WorkerSize()+1,n.Sku(),n.WorkerTierName());var i=t(n.Sku(),n.WorkerSizeId()+"");return i.Id}function b(n){var t;switch(n){case l.specIds.shared.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.smallBasic.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase(
)},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.mediumBasic.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.largeBasic.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.smallStandard.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.smallStandard.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.mediumStandard.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase(
)},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.smallStandard.toLowerCase()},{specId:l.specIds.mediumStandard.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.largeStandard.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.smallStandard.toLowerCase()},{specId:l.specIds.mediumStandard.toLowerCase()},{specId:l.specIds.largeStandard.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.smallPremium.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.smallStandard.toLowerCase()},{specId:l.specIds.mediumStandard.toLowerCase()},{specId:l.specIds.largeStandard.toLowerCase()},{specId:l.specIds.smallPremium.toLowerCase()},{
specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.mediumPremium.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.smallStandard.toLowerCase()},{specId:l.specIds.mediumStandard.toLowerCase()},{specId:l.specIds.largeStandard.toLowerCase()},{specId:l.specIds.smallPremium.toLowerCase()},{specId:l.specIds.mediumPremium.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;case l.specIds.largePremium.toLowerCase():t=[{specId:l.specIds.free.toLowerCase()},{specId:l.specIds.smallBasic.toLowerCase()},{specId:l.specIds.mediumBasic.toLowerCase()},{specId:l.specIds.largeBasic.toLowerCase()},{specId:l.specIds.smallStandard.toLowerCase()},{specId:l.specIds.mediumStandard.toLowerCase()},{specId:l.specIds.largeStandard.toLowerCase()},{specId:l.specIds.smallPremium.toLowerCase()},{specId:l.specIds.mediumPremium.toLowerCase()},{specId:
l.specIds.largePremium.toLowerCase()},{specId:l.specIds.shared.toLowerCase()}];break;default:t=[{specId:l.specIds.free.toLowerCase()}]}return t}function k(n){if(h.isOnPrem()){var t=n.split("-");return{Id:n,Sku:t[0],InstanceCount:1,VMSize:parseInt(t[1])-1,ComputeMode:"",SiteMode:""}}return o.specsForAzure[n]}function d(n,t){return[{specId:c.SkuSize.Small,message:n,helpBalloonMessage:t},{specId:c.SkuSize.Medium,message:n,helpBalloonMessage:t},{specId:c.SkuSize.Large,message:n,helpBalloonMessage:t},{specId:c.SkuSize.ExtraLarge,message:n,helpBalloonMessage:t}]}function g(){return[{specId:c.ServerFarmSKUSpecs.small_basic,message:r.premiumAppSkuMessage},{specId:c.ServerFarmSKUSpecs.medium_basic,message:r.premiumAppSkuMessage},{specId:c.ServerFarmSKUSpecs.large_basic,message:r.premiumAppSkuMessage},{specId:c.ServerFarmSKUSpecs.shared,message:r.premiumAppSkuMessage},{specId:c.ServerFarmSKUSpecs.free,message:r.premiumAppSkuMessage}]}function nt(){var n=i.clickHereTo+"<a href='https://go.microsoft.com/fwlink/?linkid=856301' target='_blank'>"+
i.learnMore+"<\/a>";return[{specId:c.ServerFarmSKUSpecs.small_premiumV2,message:r.premiumv2AppSkuMessage,helpBalloonMessage:n},{specId:c.ServerFarmSKUSpecs.medium_premiumV2,message:r.premiumv2AppSkuMessage,helpBalloonMessage:n},{specId:c.ServerFarmSKUSpecs.large_premiumV2,message:r.premiumv2AppSkuMessage,helpBalloonMessage:n}]}function tt(n){var t=[];return n.indexOf(c.ServerFarmSku.free)>-1&&t.push({specId:c.ServerFarmSKUSpecs.free,message:r.premiumAppSkuMessage}),n.indexOf(c.ServerFarmSku.shared)>-1&&t.push({specId:c.ServerFarmSKUSpecs.shared,message:r.premiumAppSkuMessage}),n.indexOf(c.ServerFarmSku.basic)>-1&&(t.push({specId:c.ServerFarmSKUSpecs.large_basic,message:r.premiumAppSkuMessage}),t.push({specId:c.ServerFarmSKUSpecs.medium_basic,message:r.premiumAppSkuMessage}),t.push({specId:c.ServerFarmSKUSpecs.small_basic,message:r.premiumAppSkuMessage})),n.indexOf(c.ServerFarmSku.standard)>-1&&(t.push({specId:c.ServerFarmSKUSpecs.large_standard,message:r.premiumAppSkuMessage}),t.push({
specId:c.ServerFarmSKUSpecs.medium_standard,message:r.premiumAppSkuMessage}),t.push({specId:c.ServerFarmSKUSpecs.small_standard,message:r.premiumAppSkuMessage})),t}function it(n){var t=c.Create.upgradeSubscriptionUrlFormat.format(y.fx.environment.subscriptionUpgradeUrl,n);return[{specId:c.ServerFarmSKUSpecs.small_premium_container,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.medium_premium_container,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.large_premium_container,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:
t},{specId:c.ServerFarmSKUSpecs.small_isolated,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.medium_isolated,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.large_isolated,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.small_premiumV2,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.medium_premiumV2,message:r.
DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.large_premiumV2,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.small_premium,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.medium_premium,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.large_premium,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.
helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.small_standard,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.medium_standard,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.large_standard,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.small_basic,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.
helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.medium_basic,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.large_basic,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t},{specId:c.ServerFarmSKUSpecs.shared,message:r.DreamSparkDisabledSpec.message,helpBalloonMessage:r.DreamSparkDisabledSpec.helpBalloonMessage,helpBalloonLinkText:r.DreamSparkDisabledSpec.helpBalloonLinkText,helpBalloonLinkUri:t}]}function rt(n){var t,i,r;return arguments.length===1?(t=n.SubscriptionId(),i=n.ResourceGroup(),r=n.Name()):(t=arguments[0],i=arguments[1],r=arguments[2]),t&&i&&r?"{0}~{1}~{2}".format(t,i,r):null}function ut(n,t){if(n&&t)for(var i=0;i<t.length;i++)if(n===t[i].id)return t[
i];return null}function ft(n){switch(n){case"mediumBlue":return"#4668c5";case"yellowGreen":return"#7fba00";case"darkOrchid":return"#9b4f96";case"orange":return"#FAAF40";default:return"#000"}}function v(n,t){if(h.isOnPrem())return n+(t+1);throw"getOnPremSpecCodeBySkuAndSize is OnPrem only";}function et(n,i){if(h.isOnPrem())throw"getSpecCodeBySkuAndSize not compatible with OnPrem";var u=t(n,i),f=u.Id,r=l.getAzureSpecData().specs.first((function(n){return n.id===f}));return r?r.specCode:null}function ot(n){return l.getAzureSpecData().specs.first((function(t){return t.id===n}))}function st(n){var t=i.specPickerInstances;switch(n.toLowerCase()){case c.ServerFarmSKUSpecs.small_isolated:case c.ServerFarmSKUSpecs.small_premium:case c.ServerFarmSKUSpecs.small_standard:case c.ServerFarmSKUSpecs.small_basic:case c.ServerFarmSKUSpecs.small_premium_container:t=i.specPickerSmallInstances;break;case c.ServerFarmSKUSpecs.medium_isolated:case c.ServerFarmSKUSpecs.medium_premium:case c.ServerFarmSKUSpecs.medium_standard:
case c.ServerFarmSKUSpecs.medium_basic:case c.ServerFarmSKUSpecs.medium_premium_container:t=i.specPickerMediumInstances;break;case c.ServerFarmSKUSpecs.large_isolated:case c.ServerFarmSKUSpecs.large_premium:case c.ServerFarmSKUSpecs.large_standard:case c.ServerFarmSKUSpecs.large_basic:case c.ServerFarmSKUSpecs.large_premium_container:t=i.specPickerLargeInstances;break;case c.ServerFarmSKUSpecs.extralarge_premium:t=i.specPickerExtraLargeInstances}return t}function ht(n,t,r){var o,l,v;return h.isOnPrem()?t.ComputeMode()===f.ComputeModeOptions.Dedicated?t.SkuFamily()+(t.WorkerSize()+1)+": "+t.NumberOfWorkers():t.SkuFamily()+(t.WorkerSize()+1):(o=a(t.Sku()),l=s.getVirtualMachineSizeDisplayName(t.WorkerSizeId()),r?t&&t.Status&&t.Status()===u.StatusOptions.Creating?e.webHostingPlanCreatingState:(r&&r.Kind()===c.ASEv1.kind&&(v=i.pricingTierWorkerPoolFormat.format(t.WorkerSizeId()+1),l=v),"{0} ({1}: {2} {3})".format(n?t.Name():r.Name(),o,t.NumberOfWorkers(),l)):t.HostingEnvironmentProfile()?"{0} ({1}: {2})".
format(n?t.Name():t.HostingEnvironmentProfile().Name(),o,t.NumberOfWorkers()):"{0} ({1}: {2} {3})".format(t.Name(),o,t.NumberOfWorkers(),l))}var y=window;n.getServerFarmSpecBySku=t;n.getSkuDisplayName=a;n.getOnPremWhpSkuName=p;n.getServerFarmSpecId=w;n.getDisabledSpecsSpecId=b;n.getWebsiteSpecDetails=k;n.getAseDisabledSpec=d;n.getPremiumAppDisabledSpec=g;n.getPremiumV2AppDisabledSpec=nt;n.getForbiddenAppDisabledSpec=tt;n.getDreamSparkDisabledSpec=it;n.getWebHostingPlanId=rt;n.findSpecBySpecId=ut;n.getColorByColorScheme=ft;n.getOnPremSpecCodeBySkuAndSize=v;n.getSpecCodeBySkuAndSize=et;n.getSpecDataById=ot;n.getLocalizedInstanceSizeBySpecId=st;n.getPricingTierDisplayText=ht})(a||(a={})),a}));define("WebsitesExtension/TypeScript/Operations/Operations",["require","exports","f","ko","$","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Ajax/Ajax","WebsitesExtension/TypeScript/Ajax/Ajax.ASE","WebsitesExtension/TypeScript/_generated/ExtensionDefinition","WebsitesExtension/TypeScript/Data/Data.Websites",
"WebsitesExtension/TypeScript/Models/Website","WebsitesExtension/TypeScript/Data/Data.Config","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/Ajax/Ajax.SourceControl","WebsitesExtension/TypeScript/Operations/WebsiteOperationNotification","Websites/ClientResources/PdlResources","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/UI/Notifications","WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/Utility/Utility.Specs","WebsitesExtension/TypeScript/Environment/RuntimeType"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){"use strict";var g;return (function(n){function g(n){var t=e.createASP(n).then((function(n){return h.addServerFarm(n)}));return w.createOperationNotification(n.SubscriptionId(),t,f.Asset.ExtensionName,f.NotificationEventSource.CreateWebHostingPlan,[name])}function nt(n,t,i){var r=e.createWebsiteSlot(n.SubscriptionId(),n.ResourceGroup(),n.Location(),n.ProductionSiteName(),t,i,n.Kind()).done((function(n){
return h.addWebsite(n)}));return y.WebsiteNotification(n,r,f.NotificationEventSource.CreateWebsiteSlot,[n.ProductionSiteName(),t])}function tt(n,t,r){var u,o=n,c,s;AntUx.StringEx.equals(f.WebSites.ProductionSlotName,t,AntUx.StringComparison.IgnoreCase)?u=n.Name():(u="{0}({1})".format(n.ProductionSiteName(),t),c=new a.WebsiteResourceId({Name:u,ResourceGroup:n.ResourceGroup(),SubscriptionId:n.SubscriptionId()}),o=h.getWebsiteFromCache(c));var y=e.applySlotConfig(n.SubscriptionId(),n.ResourceGroup(),n.ProductionSiteName(),u,r),p=n.Status(),w=new a.WebsiteResourceId({Name:"{0}({1})".format(n.ProductionSiteName(),r),ResourceGroup:n.ResourceGroup(),SubscriptionId:n.SubscriptionId()}),v=h.getWebsiteFromCache(w);return n.Status(f.WebsiteStatus.Swapping),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),s=y.then((function(){v&&l.refreshWebsiteConfig(v);o&&l.refreshWebsiteConfig(o);AntUx.StringEx.equals(n.SlotName(),t,AntUx.StringComparison.IgnoreCase)?n.TargetSwapSlot(r):AntUx.StringEx.equals(n.SlotName(
),r,AntUx.StringComparison.IgnoreCase)&&n.TargetSwapSlot(t)})),s.always((function(){i.Data.DataSet.unlockItem(n,!1);n.Status("");n.Status(p)})),s}function it(n){var u=n.SlotName(),t,r=n,o;AntUx.StringEx.equals(f.WebSites.ProductionSlotName,u,AntUx.StringComparison.IgnoreCase)?t=n.Name():(t="{0}({1})".format(n.ProductionSiteName(),u),o=new a.WebsiteResourceId({Name:t,ResourceGroup:n.ResourceGroup(),SubscriptionId:n.SubscriptionId()}),r=h.getWebsiteFromCache(o));var v=e.resetSlotSwapPhaseOne(n.SubscriptionId(),n.ResourceGroup(),n.ProductionSiteName(),t),s=n.Status(),y=new a.WebsiteResourceId({Name:"{0}({1})".format(n.ProductionSiteName(),r.TargetSwapSlot()),ResourceGroup:n.ResourceGroup(),SubscriptionId:n.SubscriptionId()}),c=h.getWebsiteFromCache(y);return n.Status(f.WebsiteStatus.SwapReverting),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),v.then((function(){c&&l.refreshWebsiteConfig(c);r&&l.refreshWebsiteConfig(r);n.TargetSwapSlot(null);i.Data.DataSet.unlockItem(n,!1);n.Status(s)}),(function(
){i.Data.DataSet.unlockItem(n,!1);n.Status(s)}))}function rt(n,t,r){var u,o=n,c,s;AntUx.StringEx.equals(f.WebSites.ProductionSlotName,t,AntUx.StringComparison.IgnoreCase)?u=n.Name():(u="{0}({1})".format(n.ProductionSiteName(),t),c=new a.WebsiteResourceId({Name:u,ResourceGroup:n.ResourceGroup(),SubscriptionId:n.SubscriptionId()}),o=h.getWebsiteFromCache(c));var y=e.swapWebsiteSlots(n.SubscriptionId(),n.ResourceGroup(),n.ProductionSiteName(),u,r),p=n.Status(),w=new a.WebsiteResourceId({Name:"{0}({1})".format(n.ProductionSiteName(),r),ResourceGroup:n.ResourceGroup(),SubscriptionId:n.SubscriptionId()}),v=h.getWebsiteFromCache(w);return n.Status(f.WebsiteStatus.Swapping),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),s=y.then((function(){v&&l.refreshWebsiteConfig(v);o&&l.refreshWebsiteConfig(o);n.TargetSwapSlot(null)})),s.always((function(){i.Data.DataSet.unlockItem(n,!1);n.Status("");n.Status(p)})),s}function ut(n){var c="/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.Web/sites/{2}",
u=new a.WebsiteResourceId(n),l=n.Status(),o={},s,t=h.getWebsiteSlots(u);return t().forEach((function(n){o[n.Name()]=n.Status()})),n.Status(f.WebsiteStatus.Deleting),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),n.IsProductionSite()&&t().forEach((function(n){n.Status(f.WebsiteStatus.Deleting);i.Data.DataSet.lockItem(n,i.Data.EditKind.Update)})),s=e.deleteWebsite(n.SubscriptionId(),r.toJS(n)).always((function(){i.Data.DataSet.unlockItem(n,!1);n.IsProductionSite()&&t().forEach((function(n){i.Data.DataSet.unlockItem(n,!1)}))})).done((function(){var e=h.getProductionWebsites(),r;n.IsProductionSite()?(t.removeAll(),e.remove(n)):t.remove(n);i.Data.DataSet.unlockItem(n,!1);n.Status(f.WebsiteStatus.Deleted);r=c.format(u.SubscriptionId,u.ResourceGroup,u.Name);i.UI.AssetManager.notifyAssetDeleted("Website",r)})).fail((function(){i.Data.DataSet.unlockItem(n,!1);n.Status(l);n.IsProductionSite()&&t().forEach((function(n){n.Status(o[n.Name()])}))})),w.createOperationNotification(n.SubscriptionId(),s,f.Asset.ExtensionName,
f.NotificationEventSource.DeleteWebsite,[n.Name()])}function ft(n,t){var r=e.updateWebsiteWebHostingPlan(n.SubscriptionId(),n.ResourceGroup(),n.Location(),n.Name(),t).done((function(){n.ServerFarmId(t);var i=h.getServerFarmForWebsite(n);i&&n.Sku(i.Sku())})),u=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(t);return y.WebsiteNotification(n,r,f.NotificationEventSource.ChangeWebsiteWebHostingPlan,[n.Name(),u.resource])}function et(n){var u=n.Status(),t;return n.Status(f.WebsiteStatus.Starting),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),t=e.startWebsite(n.SubscriptionId(),r.toJS(n)).always((function(){i.Data.DataSet.unlockItem(n,!1)})).done((function(){n.Status(c.WebsiteStatus.Running)})).fail((function(t){n.Status(u);var i=t&&t.responseJSON&&t.responseJSON.Message})),y.WebsiteNotification(n,t,f.NotificationEventSource.StartWebsite,[n.Name()])}function ot(n){var u=n.Status(),t;return n.Status(f.WebsiteStatus.Restarting),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),t=e.restartWebsite(
n.SubscriptionId(),r.toJS(n)).always((function(){i.Data.DataSet.unlockItem(n,!1)})).done((function(){n.Status(c.WebsiteStatus.Running)})).fail((function(t){n.Status(u);var i=t&&t.responseJSON&&t.responseJSON.Message})),y.WebsiteNotification(n,t,f.NotificationEventSource.RestartWebsite,[n.Name()])}function st(n){var u=n.Status(),t;return n.Status(f.WebsiteStatus.Stopping),i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),t=e.stopWebsite(n.SubscriptionId(),r.toJS(n)).always((function(){i.Data.DataSet.unlockItem(n,!1)})).done((function(){n.Status(c.WebsiteStatus.Stopped)})).fail((function(t){n.Status(u);var i=t&&t.responseJSON&&t.responseJSON.Message})),y.WebsiteNotification(n,t,f.NotificationEventSource.StopWebsite,[n.Name()])}function ht(n,t){return e.dismissSiteRecommendation(n.SubscriptionId(),n.ResourceGroup(),n.Name(),t)}function ct(n,t){var i=v.updateFTPUser(n.SubscriptionId(),t);return y.WebsiteNotification(n,i,f.NotificationEventSource.ResetFtpCredentials,[n.Name()])}function lt(n){var i={Name:
n.Name(),ResourceGroup:n.ResourceGroup()},t;return t=v.resetPublishProfile(n.SubscriptionId(),i),y.WebsiteNotification(n,t,f.NotificationEventSource.ResetPublishProfile,[n.Name()])}function at(n){var r=i.UI.NotificationManager.create(s.NotificationDefinitions.ScaleASE.name),t={};return t.asename=n.Name(),r.raise(s.NotificationDefinitions.ScaleASE.progress,null,t),o.updateHostingEnvironment(n.Id(),n).then((function(){var i=n.Kind()===f.ASEv2.kind,u=i?p.asev2ScaleSuccessMessage.format(n.Name()):s.NotificationDefinitions.ScaleASE.succeeded;r.raise(u,null,t)}),(function(){r.raise(s.NotificationDefinitions.ScaleASE.error,null,t)}))}function t(n){var t;return i.Data.DataSet.lockItem(n,i.Data.EditKind.Update),t=e.updateWebHostingPlan(r.toJS(n)).always((function(){i.Data.DataSet.unlockItem(n,!1)})).done((function(t){n.WorkerSize(t.WorkerSize);n.Sku(t.Sku);n.NumberOfWorkers(t.NumberOfWorkers)})).fail((function(n){var t=n&&n.responseJSON&&n.responseJSON.Message})),w.createOperationNotification(n.SubscriptionId(
),t,f.Asset.ExtensionName,f.NotificationEventSource.UpdateWebHostingPlan,[n.Name()])}function vt(n,u,f){var e=r.mapping.fromJSON(r.toJSON(n));return e.Sku(u),e.WorkerSize(f),e.NumberOfWorkers()===0&&e.NumberOfWorkers(1),t(e).done((function(){n.Sku(u);n.WorkerSize(f);n.NumberOfWorkers()===0&&n.NumberOfWorkers(1);var t=h.getProductionWebsites()().forEach((function(t){var r=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(t.ServerFarmId()).resource;AntUx.StringEx.equals(r,n.Name(),AntUx.StringComparison.IgnoreCase)&&t.Sku(u)}))}))}function yt(n,t){var i=d.isOnPrem()?k.getOnPremSpecCodeBySkuAndSize(t.Sku,t.VMSize):k.getSpecCodeBySkuAndSize(t.Sku,t.VMSize.toString());return n.sku({name:r.observable(i),tier:r.observable(t.Sku)}),n.properties().workerSize(t.VMSize),n.properties().numberOfWorkers()===0&&n.properties().numberOfWorkers(1),b.callArmWithNotifications(n.id(),"PUT",p.notificationWebHostingPlanUpdateInProgressLabel,p.notificationWebHostingPlanUpdateInProgressMessage,p.notificationWebHostingPlanUpdateSuccessMessage.
format(n.name()),p.notificationWebHostingPlanUpdateFailureMessage.format(n.name(),""),r.toJSON(n))}function pt(n){return b.callArm(n.id(),"PUT",r.toJSON(n))}function wt(n,t,o,s,h){var c,a,l;h||(l=s.split("/"),h=l&&l.length>1?l[l.length-1]:"");try{c={Key:i.ViewModels.Services.ResourceTypes.buildLinkTagName(s),Value:"empty"}}catch(v){i.Base.Diagnostics.Log.writeEntry(2,"Operations.TagWebsite","Failed to build tag for website '{0}' with data: {1}. Error: {2}".format(o,s,r.toJSON(v)))}c?(i.Base.Diagnostics.Log.writeEntry(0,"Operations.TagWebiste","Tagging '{0}' to website '{1}'. Tag: '{2}'".format(h,o,r.toJSON(c))),a=e.tagWebsite(n,t,o,[c])):a=u.Deferred().reject().promise();a.done((function(){i.Base.Diagnostics.Log.writeEntry(0,"Operations.TagWebsite","Successfully Tagged '{0}' to website '{1}'. Tag: '{2}'".format(h,o,r.toJSON(c)))})).fail((function(t){i.Base.Diagnostics.Log.writeEntry(2,"Operations.TagWebiste","Failed to tag '{0}' to website '{1}'. Error: {2}".format(h,o,r.toJSON(t)));w.createWarningNotification(
f.Asset.ExtensionName,f.NotificationEventSource.WebsiteTagResourceWarning,[h,o],n)}))}function bt(n,t){var i;return i=e.deleteSiteExtension(n.id(),t),w.createOperationNotification(t.SubscriptionId,i,f.Asset.ExtensionName,f.NotificationEventSource.DeleteSiteExtension,[n.title()])}function kt(n,t){var i;return i=e.installSiteExtension(n.id(),t),w.createOperationNotification(t.SubscriptionId,i,f.Asset.ExtensionName,f.NotificationEventSource.UpdateSiteExtension,[n.title()])}function dt(n,t,i,r){var o,u;return o=e.installSiteExtensionWithParams(n,t,i,r),AntUx.StringEx.equals(n,f.PerformanceMonitoring.NewRelicSiteExtensionId)?u=f.PerformanceMonitoring.NewRelicName:AntUx.StringEx.equals(n,f.PerformanceMonitoring.AppInsightsSiteExtensionId)&&(u=f.PerformanceMonitoring.AppInsightName),w.createOperationNotification(t.SubscriptionId,o,f.Asset.ExtensionName,f.NotificationEventSource.UpdateSiteExtension,[u])}function gt(n,t,i){var r;return r=e.installSiteExtension(n,i),w.createOperationNotification(
i.SubscriptionId,r,f.Asset.ExtensionName,f.NotificationEventSource.InstallSiteExtension,[t])}n.createASP=g;n.createWebsiteSlot=nt;n.swapWebsiteSlotsPhaseOne=tt;n.resetWebsiteSlotsPhaseOne=it;n.swapWebsiteSlots=rt;n.deleteWebsite=ut;n.updateWebsiteWebHostingPlan=ft;n.startWebsite=et;n.restartWebsite=ot;n.stopWebsite=st;n.dismissSiteRecommendation=ht;n.updateFtpUser=ct;n.resetPublishProfile=lt;n.updateHostingEnvironment=at;n.updateWebHostingPlan=t;n.updateWebHostingPlanSkuAndWorkerSize=vt;n.scaleCsmServerFarm=yt;n.updateCsmServerFarm=pt;n.tagWebsiteWithResourceId=wt;n.deleteSiteExtension=bt;n.updateSiteExtension=kt;n.installSiteExtensionWithParams=dt;n.installSiteExtension=gt})(g||(g={})),g}));define("WebsitesExtension/TypeScript/Rpc/Rpc.AzureTfsExtension",["require","exports","f","WebsitesExtension/TypeScript/ContinuousDeployment/Data/ScmData"],(function(n,t,i,r){"use strict";var u;return (function(n){function t(n){return i.Services.Rpc.invokeCallback("AzureTfsExtension","SetupTfsBuildDefinition",
n)}function u(n){return i.Services.Rpc.invokeCallback("AzureTfsExtension","CreateTeamProject",n)}function f(n){var t=new r.ScmData;return t.setupOAuth(n)}n.setupTfsBuildDefinition=t;n.createTeamProject=u;n.setupOAuthCallback=f})(u||(u={})),u}));define("WebsitesExtension/TypeScript/Operations/Operations.Scm",["require","exports","f","$","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Rpc/Rpc.AzureTfsExtension","WebsitesExtension/TypeScript/Operations/Operations","WebsitesExtension/TypeScript/Operations/WebsiteOperationNotification","WebsitesExtension/TypeScript/Ajax/Ajax.SourceControl","WebsitesExtension/TypeScript/ContinuousDeployment/Models/Provider","WebsitesExtension/TypeScript/ContinuousDeployment/Models/ProviderType","WebsitesExtension/TypeScript/_generated/ExtensionDefinition","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/Utility/Utility.Notifications","Websites/ClientResources/ContinuousDeploymentResources"],
(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){"use strict";var p;return (function(n){function k(n,t){var f={Name:n.Name(),ResourceGroup:n.ResourceGroup()},u=Q.defer(),e=a.WebsiteResourceId.toCsmResourceId(n),r=new i.Hubs.Notifications.ClientNotification({title:y.Disconnect.title,description:y.Disconnect.desc,status:i.Hubs.Notifications.NotificationStatus.InProgress,asset:{extensionName:l.definitionName,assetType:"Website",assetId:e}});return r.publish(),s.disconnectScm(n.SubscriptionId(),f,n.Location(),t).then((function(){r.status=i.Hubs.Notifications.NotificationStatus.Success;r.description=y.Disconnect.successDesc;r.publish();u.resolve()}),(function(n){v.setErrorDescription(r,n,y.Disconnect.failedDesc);r.status=i.Hubs.Notifications.NotificationStatus.Error;r.publish();u.reject()})),u.promise}function d(n){var t={Name:n.Name(),ResourceGroup:n.ResourceGroup()},i=s.syncScm(n.SubscriptionId(),t,n.Location());return o.WebsiteNotification(n,i,u.NotificationEventSource.SyncSourceControl,[n.Name()])}function g(
n,t){var i=b(n,t);return o.WebsiteNotification(n,i,u.NotificationEventSource.SetupContinuousDeployment,[n.Name(),h.GetProviderByType(t.scmProvider()).providerDisplayname()])}function t(n){return n.scmProvider()===c.ProviderType.Tfs?{BuildDefinitionId:n.tfsBuildDefinitionId(),AccountId:n.tfsProject().projectPicker.accountId(),ProjectId:n.tfsProject().projectPicker.id(),AccountType:null}:n.scmProvider()===c.ProviderType.VSO?{BuildDefinitionId:null,AccountId:null,ProjectId:null,AccountType:n.oAuthOrg().Type}:null}function p(n){var t=n.oAuthProject()?n.oAuthProject().html_url:null,i=n.oAuthBranch()?n.oAuthBranch().name:null,r=!1,u=!1,f=!!n.deploymentRollback();return n.scmProvider()===c.ProviderType.Dropbox||n.scmProvider()===c.ProviderType.OneDrive?(t=n.fileRepoFolder().Url,i=""):n.scmProvider()===c.ProviderType.External&&(t=n.externalRepoUrl(),i=n.externalRepoBranch(),r=!0,u=n.externalRepoIsMercurial().toLocaleLowerCase()==="true"?!0:!1),{RepoUrl:t,Branch:i,DeploymentRollbackEnabled:f,IsManualIntegration:
r,IsMercurial:u}}function w(n){return n.basicAuthPassword()?{Name:"ftp_name",PublishingPassword:n.basicAuthPassword(),PublishingUserName:n.basicAuthUsername()}:null}function b(n,u){var o=r.Deferred(),l={Name:n.Name(),ResourceGroup:n.ResourceGroup()},h=function(i){var f=s.setupScm(n.SubscriptionId(),l,u.scmProvider(),n.Location(),t(u),p(u),w(u));r.when(f,i).done((function(){o.resolve.apply(o,arguments)})).fail((function(){o.reject.apply(o,arguments)}))};switch(u.scmProvider()){case c.ProviderType.GitHub:case c.ProviderType.LocalGit:case c.ProviderType.Bitbucket:case c.ProviderType.Dropbox:case c.ProviderType.External:case c.ProviderType.OneDrive:case c.ProviderType.VSO:h();break;case c.ProviderType.Tfs:f.setupTfsBuildDefinition({AccountId:u.tfsProject().projectPicker.accountId(),ProjectId:u.tfsProject().projectPicker.id(),RepositoryId:u.tfsRepo()?u.tfsRepo().repositoryPicker.id():null,Branch:u.tfsBranch()?u.tfsBranch().branchPicker.id():null,ResourceGroup:"",Location:"",WebSiteName:n.Name(),
WebSiteSubscriptionId:n.SubscriptionId(),WebSpaceName:n.WebSpace()}).then((function(t){u.tfsBuildDefinitionId(t.Result.Options.BuildDefinitionId);t.Result.CsmID?e.tagWebsiteWithResourceId(n.SubscriptionId(),n.ResourceGroup(),n.Name(),t.Result.CsmID,u.tfsProject().projectPicker.name()):i.Base.Diagnostics.Log.writeEntry(0,"_setupScmInternal","No CSM id from TFS, skip tagging.");h()})).catch((function(){o.reject()}));break;default:throw new Error("Not supported scmType: '{0}'".format(u.scmProvider()));}return o.promise()}n.DisconnectSCM=k;n.SyncSCM=d;n.SetupSCM=g;n._getTfsOptions=t;n._getSiteSourceControlOptions=p;n._getUserOptions=w;n._setupScmInternal=b})(p||(p={})),p}));define("WebsitesExtension/TypeScript/ContinuousDeployment/SetupCDProvisioner",["require","exports","f","o","ko","Websites/ClientResources/GeneralResources","WebsitesExtension/TypeScript/ContinuousDeployment/Models/SetupCDDataModels","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/Utility/Utility.Website",
"WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/Utility/Utility.Notifications","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Shared/SharedArea","WebsitesExtension/TypeScript/_generated/ExtensionDefinition","WebsitesExtension/TypeScript/ContinuousDeployment/Models/ProviderType","WebsitesExtension/TypeScript/Operations/Operations.Scm"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){"use strict";var w;return (function(n){var t=(function(){function n(n,t,r,u){var f=this;this._partName=n;this._container=t;this._dataContext=r;this._selectable=u;this.scmInfoEntityView=this._dataContext.websitesData.scmInfoCache.createView(this._container);this._ftpEntityView=a.DataContext.instance.websitesData.ftpInfoCache.createView(this._container);this.websiteEntityView=a.DataContext.instance.websitesData.websiteCache.createView(this._container);this._appSettingsView=this._dataContext.websiteDataConfig.appSettingsCache.createView(this._container);
this._slotConfigNamesView=this._dataContext.websiteDataConfig.slotConfigNamesCache.createView(this._container);this._paramOptions={supplyInitialData:function(){return f._supplyInitialData()},supplyProviderConfig:function(){return f._supplyProviderConfig()},receiveResult:function(n){f._receiveResult(n)}};this.collector=this._selectable?new i.ViewModels.ParameterCollector(this._container,{selectable:this._selectable,supplyInitialData:this._paramOptions.supplyInitialData,supplyProviderConfig:this._paramOptions.supplyProviderConfig,receiveResult:this._paramOptions.receiveResult}):new i.ViewModels.ParameterCollector(this._container,this._paramOptions)}return n.prototype.onInputsSet=function(n,t){var u;this.resourceUri=n;this._initializeParameterCollectors();this.WebsiteId=o.WebsiteResourceId.fromCsmResourceId(this.resourceUri);u=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(this.resourceUri);this._baseSiteResourceUri=h.getWebsiteCsmId(u.subscription,u.resourceGroup,u.resources[
0]);var r=a.DataContext.instance.objectCache.incObjCount(this.resourceUri,this._partName),e=s.telemetryStartTrace(this._partName,"getFtp",r),c=s.telemetryStartTrace(this._partName,"getSite",r),l=s.telemetryStartTrace(this._partName,"getScm",r),v=s.telemetryStartTrace(this._partName,"getAppSettings",r),y=s.telemetryStartTrace(this._partName,"getSlotConfigNames",r),f=[];return t&&f.push(this._ftpEntityView.fetch(this.WebsiteId).then((function(){s.telemetryCompleteTrace(e,r)})),this.scmInfoEntityView.fetch(this.WebsiteId).then((function(){s.telemetryCompleteTrace(l,r)})),this._appSettingsView.fetch(this.resourceUri).then((function(){s.telemetryCompleteTrace(v,r)}))),f.push(this.websiteEntityView.fetch(this.WebsiteId).then((function(){s.telemetryCompleteTrace(c,r)})),this._slotConfigNamesView.fetch(this._baseSiteResourceUri).then((function(){s.telemetryCompleteTrace(y,r)}))),Q.all(f)},n.prototype._initializeParameterCollectors=function(){this.settingOptionsParameterCollector={supplyInitialData:this.
_paramOptions.supplyInitialData,supplyProviderConfig:this._paramOptions.supplyProviderConfig,receiveResult:this._paramOptions.receiveResult};this.parameterProviderOptions={supplyInitialData:this._paramOptions.supplyInitialData,supplyProviderConfig:this._paramOptions.supplyProviderConfig,receiveResult:this._paramOptions.receiveResult,parameters:{resourceUri:this.resourceUri}}},n.prototype._supplyInitialData=function(){var n=new e.SetupCDData;return n.websiteId(this.WebsiteId),n.basicAuthUsername(this._ftpEntityView.item().UserName()),n},n.prototype._supplyProviderConfig=function(){var n=new e.SetupCDConfig;return n.websiteId(this.WebsiteId),n},n.prototype._receiveResult=function(n){var t=this,h,i,e,a,r,o;if(s.logTelemetry(v.BladeNames.setupContinuousDeploymentBlade,l.TelemetryActions.EndSetupContinuousDeployment,y.ProviderType[n.scmProvider()]),n.performanceTestConfiguration()){h=this._appSettingsView.item().properties();i=s.upsertAppSetting(h,l.LoadTesting.performanceVersionKey,l.LoadTesting.
performanceVersionValue);i=s.upsertAppSetting(i,l.LoadTesting.performanceTestConfigKey,n.performanceTestConfiguration());e=this._appSettingsView.item();e.properties=u.observable(i);a=this._slotConfigNamesView.item().properties();r=s.upsertSlotConfigNameAppSettings(a,l.LoadTesting.performanceTestConfigKey);r=s.upsertSlotConfigNameAppSettings(r,l.LoadTesting.performanceVersionKey);o=this._slotConfigNamesView.item();o.properties=u.observable(r);var w=c.start(f.loadTestNotificationTitle,f.loadTestNotificationDesc),b=this._dataContext.websiteDataConfig.updateAppSettings(this.resourceUri,e),k=this._dataContext.websiteDataConfig.updateSlotConfigNames(this._baseSiteResourceUri,o);Q.all([b,k]).then((function(){c.success(w,f.loadTestNotificationSuccess);return p.SetupSCM(t.websiteEntityView.item(),n).then((function(){t._refresh()}))}),(function(i){c.failure(w,f.loadTestNotificationFailure,i);return p.SetupSCM(t.websiteEntityView.item(),n).then((function(){t._refresh()}))}))}else return p.SetupSCM(this.websiteEntityView.
item(),n).then((function(){t._refresh()}))},n.prototype._refresh=function(){this.scmInfoEntityView.refresh();this._ftpEntityView.refresh();this.websiteEntityView.refresh();this._appSettingsView.refresh();this._slotConfigNamesView.refresh()},n})();t.tfsDeploymentsBlade="DeploymentsBlade";n.SetupCDProvisioner=t})(w||(w={})),w}));define("WebsitesExtension/TypeScript/Utility/Utility.SourceControl",["require","exports"],(function(){"use strict";var n;return (function(n){function t(n,t){var i={containerModel:{id:t},preventActivation:!0};i.partName="WebsiteSetupContinuousDeploymentLauncher";n.mutate(i)}function i(n,t){var i={containerModel:{id:n},preventActivation:!0};i.partName="ContinuousDeploymentInfo";t.mutate(i)}n.MutateToSetupContinuousPart=t;n.MutateToDeploymentInfoPart=i})(n||(n={})),n}))