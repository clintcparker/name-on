var __decorate,__metadata;
define("Shared/ComponentIdHelper",["require","exports","f","o","Shared/Constants"],(function(n,t,i,r,u){"use strict";r.defineProperty(t,"__esModule",{value:!0});var f;(function(n){function t(n){var t={subscription:n.SubscriptionId,resourceGroup:n.ResourceGroup,resource:n.Name,type:u.ResourceType.Components,provider:u.Providers.InsightsProvider,types:[u.ResourceType.Components],resources:[n.Name],resourceMap:null};return i.ViewModels.Services.ResourceTypes.buildResourceIdFromDescriptor(t)}function r(n){var t={subscription:n.SubscriptionId,resourceGroup:n.ResourceGroup,resource:n.Name,type:u.ResourceType.Workspaces,provider:u.Providers.OperationalInsightsProvider,types:[u.ResourceType.Workspaces],resources:[n.Name],resourceMap:null};return i.ViewModels.Services.ResourceTypes.buildResourceIdFromDescriptor(t)}n.componentIdToResourceId=t;n.componentIdToWorkspaceId=r})(f=t.ComponentIdHelper||(t.ComponentIdHelper={}))}));__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};__metadata=this&&this.__metadata||function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};
define("Shared/Configuration",["require","exports","f","o","Shared/Constants"],(function(n,t,i,r,u){"use strict";function h(){return f||(f=new e,f._appInsightsVersion=i.getEnvironmentValue("version")),f}function c(){return o}function l(n){o=n}var f,o,s,e;r.defineProperty(t,"__esModule",{value:!0});s=["prod","mpac","df"];t.getSettings=h;t.getIbizaEnvironment=c;t._setIbizaEnvironment=l;e=(function(){function n(){var n=i.sessionId;n&&n.length>0&&n.toLowerCase().startsWith("testtraffic")&&(this._syntheticSource="uitest")}return n.prototype.getQuickPulseEndpointUrl=function(){return this._quickPulseEndpointUrl=this._quickPulseEndpointUrl||i.getEnvironmentValue("quickPulseEndpointUrl"),this._quickPulseEndpointUrl},n.prototype.getQuickPulsePPEEndpointUrl=function(){return this._quickPulsePPEEndpointUrl=this._quickPulsePPEEndpointUrl||i.getEnvironmentValue("quickPulsePPEEndpointUrl"),this._quickPulsePPEEndpointUrl},n.prototype.getQuickPulseServiceUrl=function(n){var t=this.getAIMonEndpointsByServiceNameMapping("quickpulse",n);return t||i.getEnvironmentValue("quickPulseEndpointUrl")},n.prototype.hasQuickPulsePPEEndpointUrl=function(){var n=i.getEnvironmentValue("quickPulsePPEEndpointUrl");return n?!0:!1},n.prototype.getAquaTimerProxyUrl=function(){return i.getEnvironmentValue("aquatimerproxyurl")},n.prototype.getAquatimerurlInternal=function(){return i.getEnvironmentValue("aquatimerurl")},n.prototype.getHockeyAppUrl=function(){return i.getEnvironmentValue("hockeyappurl")},n.prototype.getAnalyticsServiceUrl=function(n){var t=this.getAIMonEndpointsByServiceNameMapping("analyticsservice",n);return t||i.getEnvironmentValue("analyticsserviceurl")},n.prototype.getBillingServiceUrl=function(){return i.getEnvironmentValue("billingserviceurl")},n.prototype.getAppInsightsStampDisplayName=function(){return i.getEnvironmentValue("microsoft.appinsights.displayname")},n.prototype.getIframeManifest=function(){var n=i.getEnvironmentValue("iframehtmlmanifest").replaceAll("'",'"');return JSON.parse(n)},n.prototype.getAIMonEndpointsByServiceNameMapping=function(t,r){var f=null,u;return n.isAIMonRegion(r)&&(!this._aiMonEndpointsByServiceNames&&t&&(u=i.getEnvironmentValue("aimonendpointsbyservicename"),u&&(u=u.replaceAll("'",'"'),this._aiMonEndpointsByServiceNames=JSON.parse(u))),this._aiMonEndpointsByServiceNames&&t&&(f=this._aiMonEndpointsByServiceNames[t])),f},n.isAIMonRegion=function(n){return n&&n.location&&n.location===u.WestCentralUSLocationDisplayKey},n.prototype.getGraphHosts=function(n){var t=this.getGraphAIMONHosts(n);return t&&t.length!==0?t:this.getGraphHostsInternal()},n.prototype.getGraphHostsInternal=function(){if(!this._graphHosts){var n=i.getEnvironmentValue("graphhosts");this._graphHosts=this.getHosts(n,";")}return this._graphHosts},n.prototype.getGraphAIMONHosts=function(n){var t=this.getAIMonEndpointsByServiceNameMapping("graph",n);return this.getHosts(t,",")},n.prototype.getDraftHosts=function(n){var t=this.getDraftAIMONHosts(n);return t&&t.length!==0?t:this.getDraftHostsInternal()},n.prototype.getDraftHostsInternal=function(){if(!this._draftHosts){var n=i.getEnvironmentValue("drafthosts");this._draftHosts=this.getHosts(n,",")}return this._draftHosts},n.prototype.getDraftAIMONHosts=function(n){var t=this.getAIMonEndpointsByServiceNameMapping("draft",n);return this.getHosts(t,",")},n.prototype.getHosts=function(n,t){t===void 0&&(t=",");var i=[];return n&&(i=n.split(t)),i},n.prototype.getDraftOmsHosts=function(){if(!this._draftOmsHosts){var n=i.getEnvironmentValue("draftomshosts");this._draftOmsHosts=this.getHosts(n,",")}return this._draftOmsHosts},n.prototype.getCsmUrl=function(){return i.getEnvironmentValue("csmurl")},n.prototype.getAppInsightsEnvironmentName=function(){return i.getEnvironmentValue("appinsightsenvironmentname")},n.prototype.getCsmDomain=function(){if(!this._csmUrlDomain){var n=this.getCsmUrl();n.startsWith("https://")&&(this._csmUrlDomain=n.substring(8))}return this._csmUrlDomain},n.prototype.getUseCsmBypass=function(){return this._getCSCFGSettingValue("usecsmbypass")},n.prototype.getUseCsm=function(){return this._getCSCFGSettingValue("usecsm")},n.prototype.getCacheEvictionDelaySeconds=function(){return parseInt(i.getEnvironmentValue("cacheevictiondelayseconds"))},n.prototype.getUseCors=function(){return this._getCSCFGSettingValue("usecors")},n.prototype.getGraphApiVersion=function(){return i.getEnvironmentValue("graphapiversion")},n.prototype.getComponentsGraphPreviewVersion=function(){return i.getEnvironmentValue("componentsgraphpreviewversion")},n.prototype.getCsmApiVersion=function(){return i.getEnvironmentValue("csmapiversion")},n.prototype.getBillingPricingPlanV2018ApiVersion=function(){return i.getEnvironmentValue("billingpricingplanv2018apiversion")},n.prototype.getAlertRulesApiVersion=function(){return i.getEnvironmentValue("alertrulesapiversion")},n.prototype.getFeaturesApiVersion=function(){return i.getEnvironmentValue("featuresapiversion")},n.prototype.getWebSitesApiVersion=function(){return i.getEnvironmentValue("websitesapiversion")},n.prototype.getSqlApiVersion=function(){return i.getEnvironmentValue("sqlapiversion")},n.prototype.getStorageApiVersion=function(){return i.getEnvironmentValue("storageapiversion")},n.prototype.getClassicStorageApiVersion=function(){return i.getEnvironmentValue("classicstorageapiversion")},n.prototype.getOmsApiVersion=function(){return i.getEnvironmentValue("omsapiversion")},n.prototype.getAmsApiVersion=function(){return i.getEnvironmentValue("amsapiversion")},n.prototype.getDraftApiVersion=function(){return i.getEnvironmentValue("draftapiversion")},n.prototype.getEventTypesApiVersion=function(){return i.getEnvironmentValue("eventtypesapiversion")},n.prototype.getWorkbooksApiVersion=function(){return i.getEnvironmentValue("workbooksapiversion")},n.prototype.getPrivateWorkbooksApiVersion=function(){return i.getEnvironmentValue("privateworkbooksapiversion")},n.prototype.getWorkbooksDefaultLocation=function(){return i.getEnvironmentValue("workbooksdefaultlocation")},n.prototype.getSyntheticSource=function(){return this._syntheticSource},n.prototype.getShellVersion=function(){return i.getEnvironmentValue("shellVersion")},n.prototype.getResourceTokenTimeoutMinutes=function(){return parseInt(i.getEnvironmentValue("resourcetokentimeoutminutes"))},n.prototype.getResourceTokenTimeSkewMinutes=function(){return parseInt(i.getEnvironmentValue("resourcetokentimeskewminutes"))},n.prototype.getEnvironments=function(){var n={};return s.forEach((function(t){return n[t]=i.getEnvironmentValue("environment")})),n},n.prototype.getEnvironmentName=function(){if(this._environment)return this._environment;var n=this.getShellVersion();return n?(this._environment=i.getEnvironmentValue("appinsightsenvironmentname")||"dev",this._environment):""},n.prototype.getUseAuthenticatedUserIdInTelemetry=function(){return this._getCSCFGSettingValue("useauthenticateduseridintelemetry")},n.prototype.getLoadTimeExpiredTimeoutMilliseconds=function(){return parseInt(i.getEnvironmentValue("loadtimeexpiredtimeoutmilliseconds"))},n.prototype.getIsLocalDeployment=function(){return this._getCSCFGSettingValue("islocaldeployment")},n.prototype.getServiceConfiguration=function(){return i.getEnvironmentValue("serviceconfigurationname")},n.prototype.getALMIntegrationServiceUrl=function(n){var t=this.getAIMonEndpointsByServiceNameMapping("almintegration",n);return t?t:i.getEnvironmentValue("almintegrationserviceurl")},n.prototype.getEnableLatencyReporting=function(){return this._getCSCFGSettingValue("enablelatencyreporting")},n.prototype.getEnableLatencyMetricReporting=function(){return this._getCSCFGSettingValue("enablelatencymetricreporting")},n.prototype.getMpacUrl=function(){return i.getEnvironmentValue("mpacurl")},n.prototype.getBlobCdn=function(n){return n===void 0&&(n=!0),this._getCdn(i.getEnvironmentValue("blobcdnprefix"),"cdn",n)},n.prototype._getCdn=function(n,t,i){return i===void 0&&(i=!0),n&&this.isCdnEnabled()||!i?(n[n.length-1]==="/"&&(n=n.substr(0,n.length-1)),n="https:"+n+(t?"/"+t:"")):n=window.location.origin,n},n.prototype.isCdnEnabled=function(){var n=i.getEnvironmentValue("cdn");return n&&n.enabled||!1},n.prototype.getIKey=function(){return i.getEnvironmentValue("iKeyIbiza")},n.prototype.getTelemetryEndpoint=function(){return i.getEnvironmentValue("endpointAddressIbiza")},r.defineProperty(n.prototype,"_appInsightsVersion",{get:function(){return this._aiVersion},set:function(n){this._aiVersion=n},enumerable:!0,configurable:!0}),n.prototype.getAppInsightsEnvironmentUrl=function(){var n=i.getEnvironmentValue("appInsightsEnvironmentUrl");return i.isNullOrWhiteSpace(n)?"":n.trim()},n.prototype.getDemoAppName=function(){return i.getEnvironmentValue("demoappname")},n.prototype.getDemoAppResourceGroupName=function(){return i.getEnvironmentValue("demoappresourcegroup")},n.prototype.getDemoAppSubscriptionId=function(){return i.getEnvironmentValue("demoappsubscriptionid")},n.prototype.getSaMetricApiVersion=function(){return i.getEnvironmentValue("sametricapiversion")},n.prototype._getCSCFGSettingValue=function(n,t){t===void 0&&(t=!1);var r=i.getEnvironmentValue(n);return r!==undefined?(r=r.toString().toLowerCase(),r==="true"):t},n.prototype.getPortalRedirectionUrl=function(){var n=i.getEnvironmentValue("portalredirection");return i.isNullOrWhiteSpace(n)?"":n.trim()},n})();__decorate([i.Composition.NotProxied,__metadata("design:type",String),__metadata("design:paramtypes",[String])],e.prototype,"_appInsightsVersion",null);t.Configuration=e;t.ServiceConfigurationNames={DEV_PROD:"DEV-PROD",DEV_DF:"DEV-DF"}}));
define("Shared/Flighting/FlightingCache",["require","exports","f","o","Shared/ComponentIdHelper"],(function(n,t,i,r,u){"use strict";r.defineProperty(t,"__esModule",{value:!0});var f;(function(n){function o(n){var i=t(n);return r.has(i)?r.get(i):null}function h(n){var i=t(n);return r.has(i)}function c(n,i){var u=t(n);r.set(u,i)}function l(n){var i=t(n);return f.has(i)?f.get(i):null}function a(n,i){var r=t(n);f.set(r,i)}function v(n){var i=t(n);f.delete(i)}function y(){r.clear();e.clear()}function p(n){var r=t(n),i;return e.has(r)?e[r]:(i=w(n),i!=null&&(e[r]=i),i)}function w(n){var f=o(n),i,t,r,u;if(f==null)return null;for(i={},t=0,r=f.flights;t<r.length;t++)u=r[t],i[s+u.key]=u.value;return i}function t(n){return i.isNullOrUndefined(n)?"NULL":u.ComponentIdHelper.componentIdToResourceId(n)}var r=new i.Map,f=new i.Map,s="Flight_",e=new i.Map;n.getFlights=o;n.hasFlights=h;n.setFlights=c;n.getFlightsPromise=l;n.setFlightsPromise=a;n.deleteFlightsPromise=v;n.clear=y;n.getFlightTelemetryValues=p;n.componentIdToResourceId=t})(f=t.FlightingCache||(t.FlightingCache={}))}));
define("Shared/Flighting/FlightingTelemetryHelper",["require","exports","f","o","$","Shared/Flighting/FlightingCache"],(function(n,t,i,r,u,f){"use strict";r.defineProperty(t,"__esModule",{value:!0});var e;(function(n){function t(n,t){var f=r(n);i.isNullOrUndefined(f)||u.extend(t,f)}function r(n){return f.FlightingCache.getFlightTelemetryValues(n)}n.addFlightValuesToTelemetry=t})(e=t.FlightingTelemetryHelper||(t.FlightingTelemetryHelper={}))}));
define("Shared/Identifier",["require","exports","f","o","Shared/Constants"],(function(n,t,i,r,u){"use strict";function s(n,t){return n+"."+(t?t:i.newGuid())}function h(n){if(n){var t=n.indexOf(".");if(t>0)return n.substring(0,t)}return n}function c(n){if(n){var t=n.indexOf(".");if(t>0)return n.substring(t+1)}return n}var f,e,o;r.defineProperty(t,"__esModule",{value:!0});f=(function(){function n(){}return n.getBladeName=function(n){return h(n)},n.getBladeGuid=function(n){return c(n)},n.createBladeId=function(n,t){return s(n,t)},n})();t.BladeIdentifier=f;e=(function(){function n(){}return n.getConfigurationIdFromFavoriteId=function(n){return u.FavoriteConfigurationIdModifier+n},n.getFavoriteIdFromConfigurationId=function(t){return n.isFavoriteConfiguration(t)?t.replace(u.FavoriteConfigurationIdModifier,""):null},n.isFavoriteConfiguration=function(n){return n&&n.startsWith(u.FavoriteConfigurationIdModifier)},n})();t.FavoriteIdentifier=e;o=(function(){function n(){}return n.getBlankSearchConfigurationId=function(){return u.BlankSearchConfigurationIdModifier+i.newGuid()},n.isBlankSearchConfiguration=function(n){return n&&n.startsWith(u.BlankSearchConfigurationIdModifier)},n})();t.BlankSearchIdentifier=o}));__decorate=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};__metadata=this&&this.__metadata||function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};
define("Shared/LoadTimeList",["require","exports","f","o","$","Shared/Enumerations"],(function(n,t,i,r,u,f){"use strict";function s(){var n=document.hidden;return typeof n=="undefined"?f.VisibilityState.None:n?f.VisibilityState.Hidden:f.VisibilityState.Visible}var o,e;r.defineProperty(t,"__esModule",{value:!0});t.GetVisibilityState=s;o=(function(){function n(n){this._items=[];this._compare=n}return n.prototype.getItem=function(n){var t=this.indexOf(n);if(t!==-1)return{bladeInfo:this._items[t].key,parts:this._items[t].value}},r.defineProperty(n.prototype,"_length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),n.prototype.cleanup=function(n,t){var u=this,r=[];this._items.forEach((function(n){if(window.performanceNow()-n.key._StartTime>t){var u=n.value;(u.length===0||u.some((function(n){return i.isNullOrUndefined(n.partEndTime)})))&&r.push(n.key)}}));r.forEach((function(n){u.deleteItem(n)}))},n.prototype.addOrUpdateItem=function(t,r){var o=this.indexOf(t),s=!1,f,e;return o===-1?(f=[],i.isNullOrUndefined(r)||f.push(r),this._items.push({key:t,value:f})):i.isNullOrUndefined(r)||(f=this._items[o].value,e=n.findPart(f,r),e===-1?f.push(r):(u.extend(f[e],r),s=!0)),s},n.prototype.validate=function(n){var u=this.indexOf(n),t,r;if(u===-1||(t=this._items[u].value,!t))return!1;for(r=0;r<t.length;r++)if(i.isNullOrUndefined(t[r].partEndTime))return!1;return!0},n.prototype.contains=function(n){return this.indexOf(n)!==-1},n.prototype.deleteItem=function(n){var t=this.indexOf(n);this.deleteItemByIndex(t)},n.prototype.deleteItemByIndex=function(n){n>=0&&n<this._items.length?this._items.splice(n,1):console.log("Invalid index")},n.prototype.indexOf=function(n){for(var i,t=0;t<this._items.length;t++)if(i=this._items[t].key,this._compare(i,n))return t;return-1},n.findPart=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i],r.partNameOrId===t.partNameOrId&&r.hostingBladeName===t.hostingBladeName&&r.hostingBladeInstance===t.hostingBladeInstance)return i;return-1},n})();__decorate([i.Composition.NotProxied,__metadata("design:type",Number),__metadata("design:paramtypes",[])],o.prototype,"_length",null);t.LoadTimeList=o;e=(function(){function n(n,t,r,f,e,o){this._name=n;this._instance=t;e&&(this._componentId=e);r&&(this._startTime=r);i.isNullOrUndefined(f)||(this._hasDefaultInputs=f);o&&(this._customProperties={},u.extend(this._customProperties,o));this._visibilityStateInitial=s()}return r.defineProperty(n.prototype,"_Name",{get:function(){return this._name},enumerable:!0,configurable:!0}),r.defineProperty(n.prototype,"_BladeInstance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),r.defineProperty(n.prototype,"_ComponentId",{get:function(){return this._componentId},enumerable:!0,configurable:!0}),r.defineProperty(n.prototype,"_StartTime",{get:function(){return this._startTime},enumerable:!0,configurable:!0}),r.defineProperty(n.prototype,"_CustomProperties",{get:function(){return this._customProperties},enumerable:!0,configurable:!0}),r.defineProperty(n.prototype,"_HasDefaultInputs",{get:function(){return this._hasDefaultInputs},enumerable:!0,configurable:!0}),r.defineProperty(n.prototype,"_VisibilityStateInitial",{get:function(){return this._visibilityStateInitial},enumerable:!0,configurable:!0}),n.compare=function(n,t){return n&&t?n._name===t._name&&n._instance===t._instance:!1},n})();__decorate([i.Composition.NotProxied,__metadata("design:type",String),__metadata("design:paramtypes",[])],e.prototype,"_Name",null);__decorate([i.Composition.NotProxied,__metadata("design:type",String),__metadata("design:paramtypes",[])],e.prototype,"_BladeInstance",null);__decorate([i.Composition.NotProxied,__metadata("design:type",r),__metadata("design:paramtypes",[])],e.prototype,"_ComponentId",null);__decorate([i.Composition.NotProxied,__metadata("design:type",Number),__metadata("design:paramtypes",[])],e.prototype,"_StartTime",null);__decorate([i.Composition.NotProxied,__metadata("design:type",r),__metadata("design:paramtypes",[])],e.prototype,"_CustomProperties",null);__decorate([i.Composition.NotProxied,__metadata("design:type",Boolean),__metadata("design:paramtypes",[])],e.prototype,"_HasDefaultInputs",null);__decorate([i.Composition.NotProxied,__metadata("design:type",Number),__metadata("design:paramtypes",[])],e.prototype,"_VisibilityStateInitial",null);t.BladeInfo=e}));
define("Shared/Profiler",["require","exports","o"],(function(n,t,i){"use strict";function s(n,t){if(n){var i=new o(n,t);i.capture()}return n}function h(n){return n}function c(){t.Profiler=new r;t.instrumentPromise=s;window.AIProfiler=t.Profiler}i.defineProperty(t,"__esModule",{value:!0});var r=(function(){function n(){this.rootOps=[];this.opStack=[]}return n.prototype.flush=function(){var n=this.rootOps;return this.rootOps=[],this.opStack=[],n.map((function(n){return n.serialize()}))},n.prototype.enter=function(n){var t;return this.current()?t=this.current().createChild(n):(t=new u(n),this.rootOps.push(t)),this.pushOp(t),t.markStart(),t},n.prototype.current=function(){return this.opStack.length?this.opStack[this.opStack.length-1]:null},n.prototype.exit=function(){var n=this.current();n&&(n.markEnd(),this.popOp())},n.prototype.pushOp=function(n){this.opStack.push(n)},n.prototype.popOp=function(){this.opStack.pop()},n.prototype.enabled=function(){return!0},n.prototype.stopwatch=function(){for(var t=0,i=99999999999999,n=0;n<this.rootOps.length;n++)t=this.rootOps[n].findMaxTime(t),i=this.rootOps[n].findMinTime(i);return this.rootOps=[],this.opStack=[],Math.max(0,t-i)},n})(),u=(function(){function n(n){this.children=[];this.description=n;this.startTime=0;this.endTime=0}return n.prototype.createChild=function(t){var i=new n(t);return this.children.push(i),i},n.prototype.markStart=function(){this.startTime||(this.startTime=window.performanceNow())},n.prototype.markEnd=function(){this.endTime||(this.endTime=window.performanceNow())},n.prototype.serialize=function(){var n={name:this.description,startTime:this.startTime,endTime:this.endTime};return this.children.length>0&&(n.children=this.children.map((function(n){return n.serialize()}))),n},n.prototype.findMinTime=function(n){var t=n,i;for(this.startTime&&(t=Math.min(t,this.startTime)),i=0;i<this.children.length;i++)t=this.children[i].findMinTime(t);return t},n.prototype.findMaxTime=function(n){var t=n,i;for(this.endTime&&(t=Math.max(t,this.endTime)),this.startTime&&(t=Math.max(t,this.startTime)),i=0;i<this.children.length;i++)t=this.children[i].findMaxTime(t);return t},n})(),f=(function(){function n(){this._dummy=new e}return n.prototype.flush=function(){return[]},n.prototype.enter=function(){return this._dummy},n.prototype.current=function(){return this._dummy},n.prototype.exit=function(){return undefined},n.prototype.pushOp=function(){return undefined},n.prototype.popOp=function(){return undefined},n.prototype.enabled=function(){return!1},n.prototype.stopwatch=function(){return console.log("Profiler is disabled."),0},n})(),e=(function(){function n(){this.children=[];this.parent=null}return n.prototype.createChild=function(){return this},n.prototype.markStart=function(){return undefined},n.prototype.markEnd=function(){return undefined},n.prototype.serialize=function(){return{}},n})(),o=(function(){function n(n,i){this.promise=n;var r=t.Profiler.current();r?this.operation=r.createChild(i||"Promise"):(this.operation=t.Profiler.enter(i||"Untracked promise"),t.Profiler.popOp());this.operation.markStart();this.recursing=!1}return n.prototype._safeCall=function(n){if(this.recursing)return null;this.recursing=!0;try{return n()}finally{this.recursing=!1}},n.prototype.capture=function(){var n=this,i;this.promise["&INSTRUMENTED&"]||(this.promise["&INSTRUMENTED&"]=this,i=this.operation,this.promise.then&&(this.originalThen=this.promise.then,this._safeCall((function(){return n.promise.then((function(){i.markEnd()}),(function(){i.markEnd()}))})),this.promise.then=function(){for(var e,h,r=[],f=0;f<arguments.length;f++)r[f]=arguments[f];if(n.recursing)return n.originalThen.apply(n.promise,r);var o=r[0],s=r[1],c=function(){i.markEnd();t.Profiler.pushOp(i);try{return t.instrumentPromise(o.apply(this,arguments),"then-result")}finally{t.Profiler.popOp()}},l=function(){i.markEnd();t.Profiler.pushOp(i);try{return t.instrumentPromise(s.apply(this,arguments),"then-error-result")}finally{t.Profiler.popOp()}},u=[];for(o?u.push(c):r.length>0&&u.push(o),s?u.push(l):r.length>1&&u.push(s),e=2;e<r.length;e++)u.push(r[e]);t.Profiler.pushOp(i);try{return h=n._safeCall((function(){return n.originalThen.apply(n.promise,u)})),t.instrumentPromise(h,"then")}finally{t.Profiler.popOp()}}),this.promise.finally&&(this.originalFinally=this.promise.finally,this._safeCall((function(){return n.promise.finally((function(){i.markEnd()}),(function(){i.markEnd()}))})),this.promise.finally=function(){for(var f,h,i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];if(n.recursing)return n.originalFinally.apply(n.promise,i);var e=i[0],o=i[1],s=n.operation,c=function(){t.Profiler.pushOp(s);try{return t.instrumentPromise(e.apply(this,i),"finally-result")}finally{t.Profiler.popOp()}},l=function(){t.Profiler.pushOp(s);try{return t.instrumentPromise(o.apply(this,i),"finally-error-result")}finally{t.Profiler.popOp()}},r=[];for(e?r.push(c):i.length>0&&r.push(e),o?r.push(l):i.length>1&&r.push(o),f=2;f<i.length;f++)r.push(i[f]);t.Profiler.pushOp(s);try{return h=n._safeCall((function(){return n.originalFinally.apply(n.promise,r)})),t.instrumentPromise(h,"finally")}finally{t.Profiler.popOp()}}))},n})();t.Profiler=new f;t.instrumentPromise=h;t.enableProfiler=c}));
define("Shared/MonitoredApplicationsItemCache",["require","exports","f","o","Shared/Constants"],(function(n,t,i,r,u){"use strict";function o(n){if(n){var i=e(n),t=f[i];if(t)return t.item()}return undefined}function s(n,t){var i=e(n);f[i]=t}function h(n){var t=e(n);return f[t]}function c(){return r.keys(f).length}function l(){for(var i=[],t=r.keys(f),n=0;n<t.length;n++)f[t[n]]&&f[t[n]].refresh&&(i[n]=f[t[n]].refresh());return Q.allSettled(i)}function e(n){var t={subscription:n.SubscriptionId,resourceGroup:n.ResourceGroup,resource:n.Name,type:n.LinkedApplicationType===2?u.ResourceType.Workspaces:u.ResourceType.Components,provider:n.LinkedApplicationType===2?u.Providers.OperationalInsightsProvider:u.Providers.InsightsProvider,types:[n.LinkedApplicationType===2?u.ResourceType.Workspaces:u.ResourceType.Components],resources:[n.Name],resourceMap:null};return i.ViewModels.Services.ResourceTypes.buildResourceIdFromDescriptor(t)}r.defineProperty(t,"__esModule",{value:!0});var f={};t.get=o;t.setEntityView=s;t.getEntityView=h;t.getCacheSize=c;t.refreshAll=l}));
define("Shared/StringUtils",["require","exports","o","$","Shared/Constants"],(function(n,t,i,r,u){"use strict";function f(n,t){return n=n.replace(/\s+/i," ").trim(),n.length>t&&(n=n.substring(0,t-3)+"..."),n}function e(n,t){return r.grep(n,(function(n){return r.inArray(n,t)!==-1}))}function o(n){var t=0,r,i;if(n.length===0)return t;for(i=0;i<n.length;i++)r=n.charCodeAt(i),t=(t<<5)-t+r,t=t&t;return t}function s(n,t){return(t===void 0&&(t=undefined),n===u.SearchAllToken||t===u.SearchAllToken)?n===u.SearchAllToken?t:n:n&&t?"({0}) AND ({1})".format(n,t):n?n:t?t:""}i.defineProperty(t,"__esModule",{value:!0});t.truncateSearchString=f;t.intersection=e;t.hashCode=o;t.CreateAndStatement=s}));
define("Shared/Telemetry/TelemetryConstants",["require","exports","o"],(function(n,t,i){"use strict";var r,u,f,e,o,s,h,c;i.defineProperty(t,"__esModule",{value:!0}),(function(n){n[n.Verbose=0]="Verbose";n[n.Information=1]="Information";n[n.Warning=2]="Warning";n[n.Error=3]="Error";n[n.Critical=4]="Critical"})(r=t.SeverityLevel||(t.SeverityLevel={})),(function(n){n[n.Infrastructure=0]="Infrastructure";n[n.UserInteraction=1]="UserInteraction"})(u=t.EventCategory||(t.EventCategory={})),(function(n){n[n.Loaded=0]="Loaded";n[n.Failed=1]="Failed";n[n.Aborted=2]="Aborted"})(f=t.BladeLoadResult||(t.BladeLoadResult={})),(function(n){n[n.Abort=0]="Abort";n[n.Cancel=1]="Cancel";n[n.Ignore=2]="Ignore";n[n.No=3]="No";n[n.Ok=4]="Ok";n[n.Retry=5]="Retry";n[n.Yes=6]="Yes"})(e=t.IbizaDialogResult||(t.IbizaDialogResult={})),(function(n){n.AutoOpen="AutoOpen";n.ManualOpen="ManualOpen";n.StatusTextClientException="Client Exception";n.StatusUnknown="-100";n.StatusClientException="-101";n.GetAuthorizationTokenReturnsFailed="-102";n.InvalidData="-103";n.ContainsESDeprecatedMetricOrDimensions="-104";n.IFrameTimeout="-105";n.AccountSelectionBlade="AccountSelectionBlade";n.WebsitesBlade="WebsitesBlade";n.MetadataExplorerBlade="MetadataExplorerBlade";n.BrowseApplicationBlade="BrowseApplicationsBlade";n.EventDetailsBlade="EventDetailsBlade";n.DefaultFlowType="Redfield";n.DefaultRequestSource="IbizaAIExtensionAuto";n.CreateApiKeyPart="CreateApiKeyPart";n.ApiKeyButtonPart="ApiKeyButtonPart";n.ApiKeyPinnedPart="ApiKeyPinnedPart";n.ApiKeyPart="ApiKeyPart";n.AddApiKeyCommand="AddApiKeyCommand";n.DeleteApiKeyCommand="DeleteApiKeyCommand";n.RefreshApiKeyCommand="RefreshApiKeyCommand";n.HelpApiKeyCommand="HelpApiKeyCommand";n.ContinuousExportButtonPart="ContinuousExportButtonPart";n.ContinuousExportPart="ContinuousExportPart";n.CreateContinuousExportPart="CreateContinuousExportPart";n.ContinuousExportEventTypesPart="ContinuousExportEventTypesPart";n.ContinuousExportPinnedPart="ContinuousExportPinnedPart";n.ContinuousExportQueuePart="ContinuousExportQueuePart";n.HelpContinuousExportCommand="HelpContinuousExportCommand";n.AddContinuousExportCommand="AddContinuousExportCommand";n.DeleteContinuousExportCommand="DeleteContinuousExportCommand";n.RefreshContinuousExportCommand="RefreshContinuousExportCommand";n.EnableContinuousExportCommand="EnableContinuousExportCommand";n.DisableContinuousExportCommand="DisableContinuousExportCommand";n.AddAnalyticsDataSourceCommand="AddAnalyticsDataSourceCommand";n.RefreshAnalyticsDataSourceCommand="RefreshAnalyticsDataSourceCommand";n.CreateApplicationForm="CreateApplicationForm";n.SelectApplicationTypePart="SelectApplicationTypePart";n.BrowsersPart="BrowsersPart";n.ConfigurationLauncherPart="ConfigurationLauncherPart";n.ConfigurationPart="ConfigurationPart";n.DevicesPart="DevicesPart";n.EndUserAnalyticsPart="EndUserAnalyticsPart";n.SlowestPagesPart="SlowestPagesPart";n.PageViewsPart="PageViewsPart";n.SessionsPart="SessionsPart";n.SlowestRequestsPart="SlowestRequestsPart";n.SummaryPageViewsDetailGridPart="SummaryPageViewsDetailGridPart";n.TopExceptionsPart="TopExceptionsPart";n.TopFailedRequestsPart="TopFailedRequestsPart";n.QuickStartOverviewPart="QuickStartOverviewPart";n.ComingSoonDevicesPart="ComingSoonDevicesPart";n.ComingSoonAnalyticsPart="ComingSoonAnalyticsPart";n.PinnedOverviewsPart="PinnedOverviewsPart";n.UsagePart="UsagePart";n.PinnedUsageOverviewPart="PinnedUsageOverviewPart";n.QuickPulseButtonPartViewModel="QuickPulseButtonPartViewModel";n.QuickPulsePinnedPart="QuickPulsePinnedPart";n.IntroPartViewModel="IntroPartViewModel";n.IntroHeaderViewModel="IntroHeaderViewModel";n.IntroControlViewModel="IntroControlViewModel";n.IntroGridViewModel="IntroGridViewModel";n.IntroGridViewModelBase="IntroGridViewModelBase";n.IntroDiagnosticsViewModel="IntroDiagnosticsViewModel";n.IntroCustomEventsOverridePartViewModel="IntroCustomEventsOverridePartViewModel";n.IntroCustomEventsPartViewModel="IntroCustomEventsPartViewModel";n.IntroCustomEventsSummaryPartViewModel="IntroCustomEventsSummaryPartViewModel";n.OverviewIntroGridItemServerSide="OverviewIntroGridItemServerSide";n.OverviewIntroGridItemClientSide="OverviewIntroGridItemClientSide";n.OverviewIntroGridItemCustomMetricsEvents="OverviewIntroGridItemCustomMetricsEvents";n.WebTestResultIntroGridViewModel="WebTestResultIntroGridViewModel";n.WebTestResultIntroGridItemServerSide="WebTestResultIntroGridItemServerSide";n.MonitoredApplicationsTile="MonitoredApplicationsTile";n.ApplicationsBrowseService="ApplicationsBrowseService";n.OverviewBladeBase="OverviewBladeBase";n.RenameApplicationBladeCommand="RenameApplicationBladeCommand";n.SearchOverviewPartViewModel="SearchOverviewPartViewModel";n.SearchCommand="SearchCommand";n.ServersPart="ServersPart";n.DockerPart="DockerPart";n.DockerActiveImages="DockerActiveImages";n.DockerActiveContainers="DockerActiveContainers";n.TopDeviceModelsPart="Usage_L0_TopDeviceModelsPart";n.TopSessionByCountryPart="Usage_L0_TopSessionByCountryPart";n.DeviceTopSessionByCountryPart="Usage_L0_DeviceTopSessionByCountryPart";n.TopBrowsersPart="Usage_L0_TopBrowsersPart";n.SlowestServerRequestsPart="SlowestServerRequestsPart";n.CustomEventsPart="Usage_L0_CustomEventsPart";n.WindowsEventsLogfailuresPart="WAD_WindowsEventsLogfailuresPart";n.TopCrashesPart="TopCrashesPart";n.FailedRequestsRatePart="FailedRequestsRatePart";n.PropertiesButtonPart="PropertiesButtonPart";n.RetiredPart="RetiredPart";n.PropertiesFormPart="PropertiesFormPart";n.ResourceSummaryPart="ResourceSummaryPart";n.AlertsPart="AlertsPart";n.MetricsExplorerBlank="MetricsExplorerBlank";n.MetricsExplorerCommand="MetricsExplorerCommand";n.SessionEngagementPart="Usage_L0_SessionEngagementPart";n.DauSummaryPart="Usage_L0_DauSummaryPart";n.DeviceDauSummaryPart="Usage_L0_DeviceDauSummaryPart";n.SettingsListPart="SettingsListPart";n.SummaryTrendlinePart="SummaryTrendlinePart";n.ASyncTrendlinePart="AsyncTrendlinePart";n.SessionsSummaryTrendlinePart="Usage_L0_SessionsSummaryTrendlinePart";n.CrashesSummaryTrendlinePart="Usage_L0_CrashesSummaryTrendlinePart";n.UserSummaryPart="Usage_L0_UserSummaryPart";n.SessionsSummaryPart="Usage_L0_SessionsSummaryPart";n.PageViewsSummaryPart="Usage_L0_PageViewsSummaryPart";n.CustomEventsSummaryPart="Usage_L0_CustomEventsSummaryPart";n.ComponentResourceSummary="ComponentResourceSummary";n.JavaWebGetCodeConfigurationPart="JavaWebGetCodeConfigurationPart";n.JavaWebLogConfigurationDescriptionPart="JavaWebLogConfigurationDescriptionPart";n.JavaWebLogConfigurationPartOne="JavaWebLogConfigurationPartOne";n.JavaWebLogConfigurationPartTwo="JavaWebLogConfigurationPartTwo";n.SampleAsyncNavButtonPart="SampleAsyncNavButtonPart";n.ServerOverviewPairedTimeline="ServerOverviewPairedTimeline";n.ServerOverviewPairedTimelineChart="ServerOverviewPairedTimelineChart";n.WorkItemIntegrationConfigPart="WorkItemIntegrationConfigPart";n.FeatureLearnMorePart="FeatureLearnMorePart";n.EnterpriseFeaturePackConfigBlade="EnterpriseFeaturePackConfigBlade";n.FavoritesPart="FavoritesPart";n.FavoritesBladeCommand="FavoritesBladeCommand";n.FavoritesListPart="FavoritesListPart";n.FavoritesSplitter="FavoritesSplitter";n.FavoritesListRefreshCommand="FavoritesListRefreshCommand";n.FavoriteSaveCommand="FavoriteSaveCommand";n.FavoriteSaveAsCommand="FavoriteSaveAsCommand";n.FavoriteDeleteCommand="FavoriteDeleteCommand";n.FavoriteCommand="FavoriteCommand";n.FavoriteContextDeleteCommand="FavoriteContextDeleteCommand";n.FavoriteContextDeleteMsgDialog="FavoriteContextDeleteMsgDialog";n.QuickStartInfoListPart="QuickStartInfoListPart";n.SettingsCommand="SettingsCommand";n.ApplicationAnalyticsCommand="ApplicationAnalyticsCommand";n.BillingComingSoonPart="BillingComingSoonPart";n.BillingSpecPickerPart="BillingSpecPickerPart";n.BillingPricingTierPart="BillingPricingTierPart";n.TelemetryEventsGaugePart="TelemetryEventsGaugePart";n.OverageOnOffSwitchPart="OverageOnOffSwitchPart";n.PinnedQuotaAndPricingPart="PinnedQuotaAndPricingPart";n.SamplingPercentagePart="SamplingPercentagePart";n.ChangeSamplingPercentagePart="ChangeSamplingPercentagePart";n.DataManagementPart="DataManagementPart";n.BillingFeaturesPart="BillingFeaturesPart";n.BillingUsageAndEstimatedCostsPart="BillingUsageAndEstimatedCostsPart";n.DataManagementBlade="DataManagementBlade";n.EnterpriseNodesBlade="EnterpriseNodesBlade";n.SamplingPercentageChanged="SamplingPercentageChanged";n.DataSamplingCommand="DataSamplingCommand";n.DailyCapCommand="DailyCapCommand";n.UsageUsersBlade="UsageUsersBlade";n.UsageSessionsBlade="UsageSessionsBlade";n.UsageEventsBlade="UsageEventsBlade";n.UsageOnboardingBlade="UsageOnboardingBlade";n.UsageRetentionBlade="UsageRetentionBlade";n.UsageFilters="UsageFilters";n.FunnelStepsPart="FunnelStepsPart";n.AddFunnelBlade="AddFunnelBlade";n.UsageFunnelBlade="UsageFunnelBlade";n.FunnelListBlade="FunnelListBlade";n.FunnelDetailsBlade="FunnelDetailsBlade";n.UsageCohortsBlade="UsageUserCohortsBlade";n.UsageNotebooksBlade="UsageNotebookBlade";n.UserFlowAppBlade="UserFlowAppBlade";n.UsageImpactBlade="UsageImpactBlade";n.UsersBlade="UsersBlade";n.SessionsBlade="SessionsBlade";n.EventsBlade="EventsBlade";n.UsageFavoriteDataList="UsageFavoriteDataList";n.UserTimelineUsersLinkClicked="User Timeline Users Link Clicked";n.FunnelDeleted="FunnelDeleted";n.FunnelReplaced="FunnelReplaced";n.AnalyticsOpened="AnalyticsOpened";n.SamplesClicked="Samples clicked";n.SampleQuerySelected="Sample query selected";n.SessionTimelineSessionLinkClicked="Session Timeline Session Link Clicked";n.UsersSegmentationPinnedPart="UsersSegmentationPinnedPart";n.UsersSegmentationOverviewPart="UsersSegmentationOverviewPart";n.SessionsSegmentationPinnedPart="SessionsSegmentationPinnedPart";n.EventsSegmentationPinnedPart="EventsSegmentationPinnedPart";n.NotebooksPinnedPart="NotebooksPinnedPart";n.RetentionPinnedPart="RetentionPinnedPart";n.UserFlowsPinnedPart="UserFlowsPinnedPart";n.CohortsPinnedPart="CohortsPinnedPart";n.ImpactPinnedPart="ImpactPinnedPart";n.ExceptionsBarChartPart="ExceptionsBarChartPart";n.AnalyticsBarChartPart="AnalyticsBarChartPart";n.AnalyticsGroupedBarChartPart="AnalyticsGroupedBarChartPart";n.Analytics100StackedBarChartPart="Analytics100StackedBarChartPart";n.AnalyticsAreaChartPart="AnalyticsAreaChartPart";n.AnalyticsUnstackedAreaChartPart="AnalyticsUnstackedAreaChartPart";n.Analytics100StackedAreaChartPart="Analytics100StackedAreaChartPart";n.AnalyticsLineChartPart="AnalyticsLineChartPart";n.AnalyticsScatterChartPart="AnalyticsScatterChartPart";n.AnalyticsGenericChartPart="AnalyticsGenericChartPart";n.AnalyticsDonutPart="AnalyticsDonutPart";n.AnalyticsGridPart="AnalyticsGridPart";n.AnalyticsEditPart="AnalyticsEditPart";n.AnalyticsPartSettingsChanged="AnalyticsPartSettingsChanged";n.AnalyticsPartFetchContent="AnalyticsPartFetchContent";n.AnalyticsEditPartCommand="AnalyticsEditPartCommand";n.AnalyticsEditPartBlade="AnalyticsEditPartBlade";n.AnalyticsPartDeeplinkOpened="AnalyticsPartDeeplinkOpened";n.currentPartsAndBladesVersion="V2: no-PDL";n.ServiceProfilerSamplesGridPart="ServiceProfilerSamplesGridPart";n.ServiceProfilerPart="ServiceProfilerPart";n.ServiceProfilerEnablementPart="ServiceProfilerEnablementPart";n.ServiceProfilerLinkWebAppPart="ServiceProfilerLinkWebAppPart";n.DetailTraceSampleContainer="DetailTraceSampleContainer";n.ServiceProfilerHelpCommand="ServiceProfilerHelpCommand";n.CreateCustomPerformanceBladeCommand="CreateCustomPerformanceBladeCommand";n.MetricsExplorerCustomPart="MetricsExplorerCustomPart";n.MetricsExplorerBaseChart="MetricsExplorerBaseChart";n.MetricsExplorerBaseChartV2="MetricsExplorerBaseChartV2";n.MetricsExplorerLineChartV2="MetricsExplorerLineChartV2";n.MetricsExplorerBarChartV2="MetricsExplorerBarChartV2";n.MetricsExplorerAreaChartV2="MetricsExplorerAreaChartV2";n.MetricsExplorerGridV2="MetricsExplorerGridV2";n.MetricsExplorerRawGrid="MetricsExplorerRawGrid";n.MetricsExplorerDeveloperEditPart="MetricsExplorerDeveloperEditPart";n.MetricsExplorerEditPart="MetricsExplorerEditPart";n.MetricsExplorerAlertRulesCommand="MetricsExplorerAlertRulesCommand";n.MetricsExplorerAddChartCommand="MetricsExplorerAddChartCommand";n.MetricsExplorerRemoveChartCommand="MetricsExplorerRemoveChartCommand";n.MetricsExplorerResetCommand="MetricsExplorerResetCommand";n.MetricsExplorerResetSettingsDialog="MetricsExplorerResetSettingsDialog";n.MetricsExplorerExportCommand="MetricsExplorerExportCommand";n.ViewInMetricsExplorerCommand="ViewInMetricsExplorerCommand";n.ViewInDiagnosticsSearchCommand="ViewInDiagnosticsSearchCommand";n.ViewInSearchDetailsCommand="ViewInSearchDetailsCommand";n.MetricsMetadataResult="MetricsMetadataResult";n.JsonDefintionService="JsonDefintionService";n.MetricsExplorerHelpCommand="MetricsExplorerHelpCommand";n.MetricsExplorerPairedTimeline="MetricsExplorerPairedTimeline";n.AnnotationsViewModel="AnnotationsViewModel";n.AnnotationDetailsGridPart="AnnotationDetailsGridPart";n.AnnotationDeleteCommand="AnnotationDeleteCommand";n.AnnotationDetailsBlade="AnnotationDetailsBlade";n.AnnotationAddBlade="AnnotationAddBlade";n.EditTitlePart="EditTitlePart";n.EditTitleCommand="EditTitleCommand";n.MetricsExplorerBladePinnedPart="MetricsExplorerBladePinnedPart";n.MetricsFramePart="MetricsFramePart";n.MetricsMetadataContainerPart="MetricsMetadataContainerPart";n.AttributeMetadataContainerPart="AttributeMetadataContainerPart";n.NonMeOverviewTimeline="NonMeOverviewTimeline";n.AppInsightsCollectionPart="AppInsightsCollectionPart";n.RPCCheckAIResourceExistsInSubscription="RPC.CheckAIResourceExistsInSubscription";n.RPCGetAIResourceForResource="RPC.GetAIResourceForResource";n.RPCCreateAIResourceAssociation="RPC.CreateAIResourceAssociation";n.RPCGetAIResourceByIkey="RPC.GetAIResourceByIkey";n.RPCCheckAIResourceHasData="RPC.CheckAIResourceHasData";n.RBAC="RBAC";n.SearchControlPart="SearchControlPart";n.SearchTimelineChartPart="SearchTimelineChartPart";n.SearchPinnedPart="SearchPinnedPart";n.SearchAsyncPinnedPart="SearchAsyncPinnedPart";n.TimeSelectorDetailPart="TimeSelectorDetailPart";n.SearchResultDetailsPart="SearchResultDetailsPart";n.SearchFilterDetailPart="SearchFilterDetailPart";n.EventDetailsPart="EventDetailsPart";n.ExceptionDetailsPart="ExceptionDetailsPart";n.PageViewDetailsPart="PageViewDetailsPart";n.RequestDetailsPart="RequestDetailsPart";n.TraceDetailsPart="TraceDetailsPart";n.DependencyDetailsPart="DependencyDetailsPart";n.EventDetailTilePart="EventDetailTilePart";n.RelatedItemsPart="RelatedItemsPart";n.MonacoPart="FullValuePart";n.TelemetryInstanceCreateWorkItemCommand="TelemetryInstanceCreateWorkItemCommand";n.relatedEventsfor5Min="relatedEventsfor5Min";n.relatedTrace="relatedTrace";n.relatedException="relatedException";n.relatedRequest="relatedRequest";n.relatedDependency="relatedDependency";n.relatedProfilerTrace="relatedProfilerTrace";n.relatedRequestFromExternalAIResource="relatedRequestFromExternalAIResource";n.relatedDependencyFromExternalAIResource="relatedDependencyFromExternalAIResource";n.relatedExternalOverviewHealthModel="relatedExternalOverviewHealthModel";n.relatedView="relatedView";n.relatedEventsInSession="relatedEventsInSession";n.relatedAllTelemetry="relatedAllTelemetry";n.relatedAllTelemetryForTransaction="relatedAllTelemetryForTransaction";n.relatedEventsSingleTrace="relatedEventsSingleTrace";n.relatedEventsforSameRole="relatedEventsforSameRole";n.relatedEventsOnlyTracesfor5MinSameRole="relatedEventsOnlyTracesfor5MinSameRole";n.relatedEventsUserTimeline="relatedEventsTimeline";n.relatedEventsSessionTimeline="relatedEventsSessionTimeline";n.relatedRequestTrend="relatedRequestTrend";n.relatedRequestTrendWithResponseCode="relatedRequestTrendWithResponseCode";n.relatedTelemetryfor5MinforWebTest="relatedEventsfor5MinforWebTest";n.relatedTracesforWebTest="relatedTracesforWebTest";n.relatedExceptionsforWebTest="relatedExceptionsforWebTest";n.relatedRequestsforWebTest="relatedRequestsforWebTest";n.relatedDependenciesforWebTest="relatedDependenciesforWebTest";n.relatedAllTelemetryforWebTest="relatedAllTelemetryforWebTest";n.TimeRangeCommand="TimeRangeCommand";n.SearchFilterCommand="SearchFilterCommand";n.RefreshCommand="RefreshCommand";n.SearchRefreshCommand="SearchRefreshCommand";n.ResetFiltersCommand="SearchFiltersResetFiltersCommand";n.ClearFiltersCommand="SearchFiltersClearFiltersCommand";n.EventSearchCommand="EventSearchCommand";n.EventFilterCommand="EventFilterCommand";n.EventViewFullPropertyCommand="EventViewFullPropertyCommand";n.ExceptionPropertySearchCommand="ExceptionPropertySearchCommand";n.ExceptionPropertyFilterCommand="ExceptionPropertyFilterCommand";n.ExceptionPropertyViewFullValueCommand="ExceptionPropertyViewFullValueCommand";n.SearchSetupLoggingCommand="SetupLoggingCommand";n.OpenFeedbackCommand="OpenFeedbackCommand";n.ClearFiltersYes=n.ClearFiltersCommand+"Yes";n.ClearFiltersNo=n.ClearFiltersCommand+"No";n.ResetFiltersYes=n.ResetFiltersCommand+"Yes";n.ResetFiltersNo=n.ResetFiltersCommand+"No";n.EventDetailResourceMappingService="EventDetailResourceMappingService";n.FilterableDataModelsCache="FilterableDataModelsCache";n.SearchFilterBladeUsable="SearchFilterBladeUsable";n.SearchFilterBladeEventCountLoaded="SearchFilterBladeEventCountLoaded ";n.SearchFilterBladeFacetExpanded="SearchFilterBladeFacetExpanded";n.RemoveFacetTagClick="RemoveFacetTagClick";n.OpenFacetTagClick="OpenFacetTagClick";n.SearchStringChanged="SearchStringChanged";n.SearchFilterChanged="SearchFilterChanged";n.SearchTimeRangeChanged="SearchTimeRangeChanged";n.InitialSearch="InitialSearch";n.FacetsSearchStringChanged="FacetsSearchStringChanged";n.FacetValueLoadMoreClick="FacetValueLoadMoreClick";n.EventFacetChecked="EventFacetChecked";n.EventFacetRemoved="EventFacetRemoved";n.FacetChecked="FacetChecked";n.FacetRemoved="FacetRemoved";n.FacetExpanded="FacetExpanded";n.FacetCollapsed="FacetCollapsed";n.FunnelStepCohortQueried="FunnelUserCohortQueried";n.SelectRelatedItem="SelectRelatedItem";n.RowSelected="RowSelected";n.SearchGridLoaded="SearchGridLoaded";n.SearchChartLoaded="SearchChartLoaded";n.TimelineItemInteracted="TimelineItemInteracted";n.TimelineToggleInteracted="TimelineToggleInteracted";n.DependenciesGridInteracted="DependenciesGridInteracted";n.FilterBladePermissiveFiltersCheckBoxChecked="FilterBladePermissiveFiltersCheckBoxChecked";n.SearchErrorOnlineClick="SearchErrorOnlineClick";n.SeeAllPropertiesClick="SeeAllPropertiesClick";n.EventPaginationPrevButtonClick="EventPaginationPrevButtonClick";n.EventPaginationNextButtonClick="EventPaginationNextButtonClick";n.OpenUserFlowBladeClicked="Open UserFlowBlade Clicked";n.TabResultsClicked="TabResultsClicked";n.TabInsightsClicked="TabInsightsClicked";n.SearchDataNavigator="SearchDataNavigator";n.CreateWorkItemCommand="CreateWorkItemCommand";n.ViewWorkItemCommand="ViewWorkItemCommand";n.WebsitesPart="WebsitesPart";n.MetricsExplorerPart="MetricsExplorerPart";n.CreateApplicationProvisioningPart="CreateApplicationProvisioningPart";n.AccountSelectionDevPart="AccountSelectionDevPart";n.AccountSelectionCsmPart="AccountSelectionCsmPart";n.AspNetOverviewLauncherPart="AspNetOverviewLauncherPart";n.DevicesOverviewLauncherPart="DevicesOverviewLauncherPart";n.JavaWebOverviewLauncherPart="JavaWebOverviewLauncherPart";n.ComingSoonLauncherPart="ComingSoonLauncherPart";n.MetadataExplorerLauncherPart="MetadataExplorerLauncherPart";n.MetadataExplorerPart="MetadataExplorerPart";n.WindowsAzureDiagnosticsLauncherPart="WindowsAzureDiagnosticsLauncherPart";n.SegmentationOverviewLauncherPart="SegmentationOverviewPart";n.MobileCenterOverviewLauncherPart="MobileCenterOverviewLauncherPart";n.XCloudOverviewLauncherPart="XCloudOverviewLauncherPart";n.AquaTimerGridPart="AquaTimerGridPart";n.AquaTimerEditorPart="AquaTimerEditorPart";n.AquaTimerCreateCommand="AquaTimerCreateCommand";n.AquaTimerDeleteCommand="AquaTimerDeleteCommand";n.HockeyAppTransferPart="HockeyAppTransferPart";n.HockeyAppIdUpdateFailed="HockeyAppIdUpdateFailed";n.HockeyAppTransferFailed="HockeyAppTransferFailed";n.HockeyAppLinkOpened="HockeyAppLinkOpened";n.HockeyAppLinkOpenedInDeviceOverview="HockeyAppLinkOpenedInDeviceOverview";n.AppAnalyticsDeeplinkOverviewNonMeOpened="AppAnalyticsDeeplinkOverviewNonMeOpened";n.AppAnalyticsButtonMetricsExplorerOpened="AppAnalyticsButtonMetricsExplorerOpened";n.AppAnalyticsButtonGridOpened="AppAnalyticsButtonGridOpened";n.AppAnalyticsLinkOpenedInDeviceOverview="AppAnalyticsLinkOpenedInDeviceOverview";n.AllWebTestsBlade="AllWebTestsBlade";n.CreateWebTestNopdlBlade="CreateWebTestNopdlBlade";n.AllWebTestsScatterChartPart="AllWebTestsScatterChartPart";n.AllWebTestsResponseTimePart="AllWebTestsResponseTimePart";n.WebTestsSetupPart="WebTestsSetupPart";n.WebTestsPart="WebTestsPart";n.AvailabilityNavigationButton="AvailabilityNavigationButton";n.AlertNavigationButton="AlertNavigationButton";n.ResponseTimePart="ResponseTimePart";n.AllWebTestsPart="AllWebTestsPart";n.ResponseAndAvailabilityLocationPart="ResponseAndAvailabilityLocationPart";n.ResponseAndAvailabilityPart="ResponseAndAvailabilityPart";n.WebTestsTestLocationPart="WebTestsTestLocationPart";n.FailedTestsPart="FailedTestsPart";n.WebTestsSummaryPart="WebTestsSummaryPart";n.WebTestsInfoPart="WebTestsInfoPart";n.WebTestsDownloadPart="WebTestsDownloadPart";n.WebTestFileDownloadPart="WebTestFileDownloadPart";n.WebTestsResultGridPart="WebTestsResultGridPart";n.ResultGridDetailExceptionPart="ResultGridDetailExceptionPart";n.ResultGridDetailRulesPart="ResultGridDetailRulesPart";n.ResultGridResponseHeadersPart="ResultGridResponseHeadersPart";n.ResultGridResponseBodyPart="ResultGridResponseBodyPart";n.CreateWebTestPart="CreateWebTestPart";n.CreateWebTestLocationPart="CreateWebTestLocationPart";n.CreateWebTestCriteriaPart="CreateWebTestCriteriaPart";n.CreateWebTestAlertPart="CreateWebTestAlertPart";n.WebTestsGettingStartedPart="WebTestsGettingStartedPart";n.WebTestTilePart="WebTestTilePart";n.WebTestPinnedPart="WebTestPinnedPart";n.WebTestResultRelatedItemsPart="WebTestResultRelatedItemsPart";n.AppInsightsAdaptedPart="AppInsightsAdaptedPart";n.OverviewTimelineAdaptedPart="OverviewTimelineAdaptedPart";n.PerformanceTimelineAdaptedPart="PerformanceTimelineAdaptedPart";n.DiagnosticsTimelineAdaptedPart="DiagnosticsTimelineAdaptedPart";n.UsageTimelineAdaptedPart="UsageTimelineAdaptedPart";n.TopExceptionsAdaptedPart="TopExceptionsAdaptedPart";n.SlowestPagesAdaptedPart="SlowestPagesAdaptedPart";n.SlowestRequestsAdaptedPart="SlowestRequestsAdaptedPart";n.TopFailedRequestsAdaptedPart="TopFailedRequestsAdaptedPart";n.QuickStartAdaptedPart="QuickStartAdaptedPart";n.PageViewsAdaptedPart="PageViewsAdaptedPart";n.AllWebTestsResponseTimeFullGalleryAdaptedPart="AllWebTestsResponseTimeFullGalleryAdaptedPart";n.PropertiesAdaptedPart="PropertiesAdaptedPart";n.TopEventsAdaptedPart="TopEventsAdaptedPart";n.TopCrashesAdaptedPart="TopCrashesAdaptedPart";n.ResourceMapAdaptedPart="ResourceMapAdaptedPart";n.CustomEventsAdaptedPart="CustomEventsAdaptedPart";n.FavoritesAdaptedPart="FavoritesAdaptedPart";n.MetricsExplorerAdaptedPart="MetricsExplorerAdaptedPart";n.SearchNavButtonOverviewPart="SearchNavButtonOverviewPart";n.FailuresExceptionsAdaptedPart="FailuresExceptionsAdaptedPart";n.PerformanceDependenciesAdaptedPart="PerformanceDependenciesAdaptedPart";n.ServerAdaptedPart="ServerAdaptedPart";n.BrowserAdaptedPart="BrowserAdaptedPart";n.UsageAdaptedPart="UsageAdaptedPart";n.AvailabilityNavButtonAdaptedPart="AvailabilityNavButtonAdaptedPart";n.AdaptedAlertsPart="AdaptedAlertsPart";n.WindowsAzureDiagnosticsTimlineAdaptedPart="WAD_WindowsAzureDiagnosticsTimlineAdaptedPart";n.AzureDiagnosticsTopIssuesGridAdaptedPart="AzureDiagnosticsTopIssuesGridAdaptedPart";n.ProactiveDetectionAdaptedPart="ProactiveDetectionAdaptedPart";n.UnconfiguredChartAdaptedPart="UnconfiguredChartAdaptedPart";n.UsersTrendlineAdaptedPart="UsersTrendlineAdaptedPart";n.SessionsTrendlineAdaptedPart="SessionsTrendlineAdaptedPart";n.PageViewsTrendlineAdaptedPart="PageViewsTrendlineAdaptedPart";n.AvailabilityHelpCommand="AvailabilityHelpCommand";n.CreateWebTestCommand="CreateWebTestCommand";n.EditWebTestCommand="EditWebTestCommand";n.EnableWebTestCommand="EnableWebTestCommand";n.DisableWebTestCommand="DisableWebTestCommand";n.DeleteWebTestCommand="DeleteWebTestCommand";n.DeleteApplicationCommand="DeleteApplicationCommand";n.DeleteApplicationCommandDialog="DeleteApplicationCommandDialog";n.UnconfiguredExceptionHotspot="UnconfiguredExceptionHotspot";n.UnconfiguredRemoteDependencyHotspot="UnconfiguredRemoteDependencyHotspot";n.ConfigurationBladeHotSpot="ConfigurationBladeHotSpot";n.JavaWebConfigurationBladeHotSpot="JavaWebConfigurationBladeHotSpot";n.ProactiveDetectionAbnormalBehaviorPart="ProactiveDetectionAbnormalBehaviorPart";n.ProactiveDetectionTimeSeriesPart="ProactiveDetectionTimeSeriesPart";n.ProactiveDetectionDetailedPart="ProactiveDetectionDetailedPart";n.ProactiveDetectionAnomalyDetectionPropertiesPart="ProactiveDetectionAnomalyDetectionPropertiesPart";n.ProactiveDetectionAnomalyDetectionAnalysisPart="ProactiveDetectionAnomalyDetectionAnalysisPart";n.ProactiveDetectionExtensionsPropertiesPart="ProactiveDetectionExtensionsPropertiesPart";n.ProactiveDetectionExtensionsAnalysisPart="ProactiveDetectionExtensionsAnalysisPart";n.ProactiveDetectionFeedPart="ProactiveDetectionFeedPart";n.ProactiveDetectionAsyncPart="ProactiveDetectionAsyncPart";n.ProactiveDetectionPercentileGridPart="ProactiveDetectionPercentileGridPart";n.ProactiveDetectionLinksPart="ProactiveDetectionLinksPart";n.ProactiveDetectionFeedbackPart="ProactiveDetectionFeedbackPart";n.ProactiveDetectionSettingsPart="ProactiveDetectionSettingsPart";n.ProactiveDetectionPinnedSettingsPart="ProactiveDetectionPinnedSettingsPart";n.ProactiveDetectionLinksAvgPart="ProactiveDetectionLinksAvgPart";n.ProactiveDetectionLinksFailureRatePart="ProactiveDetectionLinksFailureRatePart";n.ProactiveDetectionLinksCountPart="ProactiveDetectionLinksCountPart";n.ProactiveDetectionInfoBoxPart="ProactiveDetectionInfoBoxPart";n.ProactiveDetectionNrtpdBannerPart="ProactiveDetectionNrtpdBannerPart";n.ProactiveDetectionImpactedUsersDetailedPart="ProactiveDetectionImpactedUsersDetailedPart";n.ProactiveDetectionNRTCardFRRPart="ProactiveDetectionNrtFrrCardPart";n.ProactiveDetectionNRTFRRRelatedItemsPart="ProactiveDetectionNrtFrrRelatedItemsPart";n.ViewWorkItemsPart="ViewWorkItemsPart";n.ProactiveDetectionPageNavigatorPart="ProactiveDetectionPageNavigatorPart";n.ProactiveDetectionAzureDiagnosticsCardPart="ProactiveDetectionAzureDiagnosticsCardPart";n.ProactiveDetectionAnomalyLinksPart="ProactiveDetectionAnomalyLinksPart";n.ProactiveDetectionAzureDiagnosticsDetailsPart="ProactiveDetectionAzureDiagnosticsDetailsPart";n.ProactiveDetectionAzureDiagnosticsLinksPart="ProactiveDetectionAzureDiagnosticsLinksPart";n.ProactiveDetectionReleaseAnotationPart="ProactiveDetectionReleaseAnotationPart";n.ProactiveDetectionNrtDetailedPart="ProactiveDetectionNrtFrrDetailedPart";n.ProactiveDetectionFrrPropertiesPart="ProactiveDetectionFrrPropertiesPart";n.ProactiveDetectionFrrTimelineChartPart="ProactiveDetectionFrrTimelineChartPart";n.ProactiveDetectionNrtLinksPart="ProactiveDetectionNrtFrrLinksPart";n.ProactiveDetectionTimeSeriesTimelineChartPart="ProactiveDetectionTimeSeriesTimelineChartPart";n.ProactiveDetectionTimeSeriesBarChartPart="ProactiveDetectionTimeSeriesBarChartPart";n.ProactiveDetectionUnderlyingDegradationChartPart="ProactiveDetectionTimeSeriesUnderlyingDegradationChartPart";n.ProactiveDetectionTimeSeriesCardPart="ProactiveDetectionTimeSeriesCardPart";n.ProactiveDetectionTimeSeriesLinksPart="ProactiveDetectionTimeSeriesLinksPart";n.ProactiveDetectionTimeSeriesDetailsPart="ProactiveDetectionTimeSeriesDetailsPart";n.ProactiveDetectionTimeSeriesAnalysisPart="ProactiveDetectionTimeSeriesAnalysisPart";n.ProactiveDetectionProfilerHotSpot="ProactiveDetectionProfilerHotSpot";n.ProactiveDetectionDefaultRulesInfoBox="ProactiveDetectionDefaultRulesInfoBox";n.ProactiveDetectionExtensionsCardPart="ProactiveDetectionExtensionsCardPart";n.ProactiveDetectionExtensionsLinksPart="ProactiveDetectionExtensionsLinksPart";n.ConfigureWorkItemIntegration="ConfigureWorkItemIntegration";n.PinnedProactiveDetectionPart="PinnedProactiveDetectionPart";n.ProactiveDetectionDataNavigator="ProactiveDetectionDataNavigator";n.ProactiveDetectionOverviewCommandPart="ProactiveDetectionOverviewCommandPart";n.ProactiveDetectionFeedHelpCommand="ProactiveDetectionFeedHelpCommand";n.ProactiveDetectionHelpCommand="ProactiveDetectionHelpCommand";n.ProactiveDetectionAskCommunityCommand="ProactiveDetectionAskCommunityCommand";n.ProactiveDetectionSuggestIdeaCommand="ProactiveDetectionSuggestIdeaCommand";n.ProactiveDetectionNrtHelpCommand="ProactiveDetectionNrtHelpCommand";n.ProactiveDetectionAzureDiagnosticsHelpCommand="ProactiveDetectionAzureDiagnosticsHelpCommand";n.ProactiveDetectionFeedbackCommand="ProactiveDetectionFeedbackCommand";n.ProactiveDetectionSettingsCommand="ProactiveDetectionSettingsCommand";n.ProactiveDetectionRefreshFeedCommand="ProactiveDetectionRefreshFeedCommand";n.proactivedetectionAnalyticsLink="ProactivedetectionAnalyticsLink";n.DeepInsightsExtensionsGuideLink="DeepInsightsExtensionsGuideLink";n.ProactiveDetectionfetchConfiguration="ProactiveDetectionfetchConfiguration";n.ProactiveDetectionPutConfiguration="ProactiveDetectionPutConfiguration";n.ProactiveAlertEnableCommand="ProactiveAlertEnableCommand";n.ProactiveAlertSaveCommand="ProactiveAlertSaveCommand";n.ProactiveAlertDiscardCommand="ProactiveAlertDiscardCommand";n.ProactiveAlertDisableCommand="ProactiveAlertDisableCommand";n.ProactiveAlertEditPart="ProactiveAlertEditPart";n.ProactiveAlertPinnedPart="ProactiveAlertPinnedPart";n.ProactiveAlertEditPartSave="ProactiveAlertEditPartSave";n.ProactiveRulesPart="ProactiveRulesPart";n.ProactiveRuleEditRuleInfoBoxPart="ProactiveRuleEditRuleInfoBoxPart";n.ProactiveRuleEditPart="ProactiveRuleEditPart";n.ProactiveRulePinnedPart="ProactiveRulePinnedPart";n.ProactiveRuleEnableCommand="ProactiveRuleEnableCommand";n.ProactiveRuleSaveCommand="ProactiveRuleSaveCommand";n.ProactiveRuleDiscardCommand="ProactiveRuleDiscardCommand";n.ProactiveRuleDisableCommand="ProactiveRuleDisableCommand";n.TopologyNotConfiguredPart="TopologyNotConfiguredPart";n.ComponentResourceMapping="ComponentResourceMapping";n.ComponentIdService="ComponentIdService";n.WebsiteComponentIdHelper="WebsiteComponentIdHelper";n.TimeRangeChangedEventName="Time range changed";n.GridBladeAction="Grid blade action";n.GridRowClicked="Grid row clicked";n.AppInsightsExtensionLoadedEventName="AppInsightsExtension Loaded";n.EntryPoint="EntryPoint";n.UnknownIbizaUser="UnknownIbizaUser";n.ZoomIn="ZoomIn";n.ZoomOut="ZoomOut";n.UndoTimeRange="UndoTimeRange";n.ServerNodeClicked="ServerNodeClicked";n.ErrorMessage="ErrorMessage";n.UnknownParentBlade="UnknownParentBlade";n.ApplicationMapV3="ApplicationMapV3";n.ApplicationMapOverviewButton="ApplicationMapOverviewButton";n.TopologyInstallExtensionButton="TopologyInstallExtensionButton";n.TopologyAdapterPart="TopologyAdapterPart";n.SearchWorkItemCreatePart="SearchBladeWorkItemCreatePart";n.ProactiveDetectionWorkItemCreatePart="ProactiveDetectioneWorkItemCreatePart";n.WebTestResultWorkItemCreatePart="WebTestResultWorkItemCreatePart";n.ExtensionUpdate="AzureExtensionUpdate";n.ExtensionInstall="AzureExtensionInstall";n.ExtensionDelete="AzureExtensionDelete";n.CuratedIFramePart="CuratedIFramePart";n.CuratedBladeButton="CuratedBladeButton";n.CuratedBladePinnedPart="CuratedBladePinnedPart";n.SampleUserIdClicked="Sample User Id Clicked";n.SampleSessionsIdClicked="Sample Sessions Id Clicked";n.SampleEventsIdClicked="Sample Events Id Clicked";n.SampleSessionsClicked="Sample Sessions Clicked";n.SampleUserSessionsClicked="Sample User Sessions Clicked";n.SampleUserEventsClicked="Sample User Events Clicked";n.SampleTimelineUserIdClicked="Sample Timeline User Id Clicked";n.SampleTimelineSessionsIdClicked="Sample Timeline Sessions Id Clicked";n.SessionTimelineOpened="Usage Session Timeline Opened";n.UserTimelineOpened="Usage User Timeline Opened";n.UserTimelineMetricClicked="Usage User Timeline Metric Clicked";n.DetailsV2Part="DetailsV2Part"})(o=t.AITelemetryConstants||(t.AITelemetryConstants={})),(function(n){n.UnresolvedPromise="UnresolvedPromise";n.MethodCompletedWithError="MethodError";n.InnerPromiseCompletedWithError="InnerPromiseError";n.ViewModelInstrumented="VMInstrumented";n.LogException="Log exception";n.AjaxQuery="Ajax query";n.CommandClicked="Command clicked";n.DialogClicked="Dialog clicked";n.PartClicked="Part clicked";n.LoadWarning="Load warning";n.OtherActionCompleted="Other action completed";n.BladeLoadCompleted="BladeLoadCompleted";n.HotSpotClicked="HotSpot Clicked";n.HotSpotDisplayed="HotSpot Displayed"})(s=t.AITelemetryMessages||(t.AITelemetryMessages={})),(function(n){n.ibizaSessionRE=/sessionId=([\w\d]+)/i;n.operationIdExtractor=new RegExp("[a-z0-9]{32}(_([0-9]*))?")})(h=t.RegexConstants||(t.RegexConstants={})),(function(n){n.containerTypeConst=["None","Blade","Part","Command","Other"];n.actionTypeConst=["OnInputsSet","OnInputsSetWithSettings","OnInputsSetWithJourneyRestore","OnRefresh","OnAutoRefresh","OnInternalRefresh","Other"];n.refreshReasonConst=["None","Manual","Auto","Internal"];n.userDataStatusConst=["HasData","NoData","NotProvisioned","NoData_NotProvisioned","ErrorRetrievingData","InvalidData","NoMetrics"];n.documentVisibilityConst=["Unknown","Hidden","Visible"]})(c=t.LookupArrays||(t.LookupArrays={}))}));
define("Shared/Telemetry/TelemetryBase",["require","exports","f","o","$","Shared/Configuration","Shared/Constants","Shared/Enumerations","Shared/Flighting/FlightingTelemetryHelper","Shared/LoadTimeList","Shared/MonitoredApplicationsItemCache","Shared/StringUtils","Shared/Telemetry/TelemetryConstants"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a){"use strict";function b(n){var t,e,r,f;if(i.isNullOrUndefined(n))return{ErrorMessage:"_extractProperty errorObj is falsy."};if(t=n,u.isArray(t)&&t.length>0&&(t=t[0]),i.isNullOrUndefined(t))return{ErrorMessage:"_extractProperty sanitizedErrorObj is falsy."};if(e=g(t,o.Result.Fail),r={},typeof t=="string"||typeof t=="number"||typeof t=="boolean")return r[a.AITelemetryConstants.ErrorMessage]=t,r;for(f in t)switch(String(f).toLowerCase()){case"reason":t[f]&&(r.Reason=t[f]);break;case"_errordata":t[f].reason&&(r.Reason=t[f].reason);t[f].statusText&&(r.StatusText=t[f].statusText);t[f].status&&(r.Status=t[f].status);break;case"readystate":r.ReadyState=t[f];break;case"responsetext":r.ResponseText=e;break;case"status":r.Status=t[f];break;case"statustext":r.StatusText=t[f];break;case"timeout":r.Timeout=t[f];break;case"withcredentials":r.WithCredentials=t[f];break;case"responsetype":r.ResponseType=t[f];break;case"mscaching":r.MsCaching=t[f];break;case"clientrequestid":r.ClientRequestId=t[f]}return r.Error=t.stack?t.stack:JSON.stringify(t),!r.ErrorMessage&&t.message&&(r.ErrorMessage=t.message),!r.Name&&t.name&&(r.Name=t.name),r}function k(){var n=a.RegexConstants.ibizaSessionRE.exec(window.location.search);return n?n[1]:""}function d(n,i,r,f){var e,h,o,l,a,v;return n.IbizaSessionId=k(),r&&(n.SubscriptionId=r.SubscriptionId,n.ResourceGroup=r.ResourceGroup,n.ComponentName=r.Name,r.LinkedApplicationType&&(n.LinkedApplicationType=r.LinkedApplicationType.toString()),e=c.get(r),e&&e.properties&&(n.AppId=e.properties.AppId,n.Application_ID_V2=e.properties.TenantId+r.Name,n.AccountId=e.properties.TenantId,n.ApplicationType=e.properties.Application_Type,n.FlowType=e.properties.Flow_Type,n.RequestSource=e.properties.Request_Source,n.CreationDate=e.properties.CreationDate,n.ApplicationLocation=e.location)),h=nt(),h&&(n.syntheticSource=h),i&&(n.PartName=i),o=n.AccountId,o&&(t._appInsights.config&&(t._appInsights.config.accountId=o),t._appInsights.context&&t._appInsights.context.user&&(t._appInsights.context.user.accountId=o),delete n.AccountId),l=f.getEnvironments(),l&&u.extend(n,l),a=f.getAppInsightsStampDisplayName(),n.AppInsightsStampDisplayName=a?a:"<not specified>",v=f._appInsightsVersion,n.AppInsightsVersion=v?v:"<not specified>",n.ClientRequestId||(n.ClientRequestId="<not specified>"),s.FlightingTelemetryHelper.addFlightValuesToTelemetry(r,n),n.CustomerAlias=y.userAlias,n}function g(n,t){var r,f,u,e,s;if(n&&t===o.Result.Succeed&&n.responseText)return null;r=n&&n.responsetext;try{r=n.responsetext||n.responseText&&JSON.parse(n.responseText)}catch(h){}if(r&&r.error&&r.error.message&&typeof r.error.message=="string"&&r.error.message.length>0){for(f in r)r.hasOwnProperty(f)&&f.toLowerCase()!=="error"&&delete r[f];return u=r.error.message,e=u.match(/\b\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*\b/g),e&&e.length>0&&e.forEach((function(n){n&&n.toLowerCase().indexOf("@microsoft.com")===-1&&(s=l.hashCode(n),u=i.replaceAll(u,n,s.toString()))})),r.error.message=u,JSON.stringify(r)}if(n&&n.responseText)return null}function nt(){var n=f.getSettings();return n?n.getSyntheticSource():undefined}function tt(n){var t=n.data.baseData,i;return v||(v=new AI.ContextTagKeys),t!=null&&t.properties!=null&&(t.properties.HostingBladeName&&(n.tags[v.operationName]=t.properties.HostingBladeName),t.properties.HostingBladeInstance&&(i=a.RegexConstants.operationIdExtractor.exec(t.properties.HostingBladeInstance),i&&i.length>0&&(n.tags[v.operationId]=i[0]))),!0}function it(n){var r={};for(var t in n)n.hasOwnProperty(t)&&i.notNullOrUndefined(n[t])&&(r[t]=n[t].toString());return r}function rt(n){v||(v=new AI.ContextTagKeys);var i=n.tags[v.userId],t=n.tags[v.userAuthUserId],r=i,u=t;return i!==t&&(p||(p=!0,window.setTimeout((function(){w.traceMessage("AnonIdAuthId mismatch: anonId:{anonId}, authId:{authId}".format({anonId:r,authId:u}),0,e.NoBladeSpecific,undefined,{})}),1)),t&&t!==a.AITelemetryConstants.UnknownIbizaUser&&(i=t)),t=i,n.tags[v.userId]=i,n.tags[v.userAuthUserId]=t,!0}var v,p,w,y;r.defineProperty(t,"__esModule",{value:!0});v=null;p=!1,(function(n){function t(n,t,i,r,f,e,s){var h=e?b(e):{},c;t&&(h.ContainerType=a.LookupArrays.containerTypeConst[t]);f&&u.extend(h,f);y.internalLogEvent(o.EventType.Trace,n||"no message provided",i,r,undefined,h,s,a.SeverityLevel.Error);console&&!window.sinon&&(c="App Insights error: "+n+". container name: "+i,r&&(c+=". componentId: "+r.Name),console.warn(c))}function i(n,t,i,r,f,e){var s={};t&&(s.ContainerType=a.LookupArrays.containerTypeConst[t]);u.extend(s,f);y.internalLogEvent(o.EventType.Trace,n,i,r,undefined,s,e)}n.logError=t;n.traceMessage=i})(w=t.TelemetryWriter||(t.TelemetryWriter={})),(function(n){function s(){if(t._appInsights=window.appInsights,t._appInsights&&t._appInsights.config||i.Base.Diagnostics.Log.writeEntry(2,"InsightsTelemetry","Failed to initialize _appInsights or no _appInsights.config"),t._appInsights){var n=function(){t._appInsights.context&&(t._appInsights.context.session&&(t._appInsights.context.session.id=i.sessionId),t._appInsights.context.addTelemetryInitializer(tt),t._appInsights.context.addTelemetryInitializer(rt))};t._appInsights.context?n():t._appInsights.queue.push(n)}}function c(i){if(i&&i.userId&&t._appInsights){var r=function(){var n=i;t._appInsights.context&&t._appInsights.context.user&&(t._appInsights.context.user.id=n.userId,t._appInsights.setAuthenticatedUserContext(n.userId))};t._appInsights.context?r():t._appInsights.queue.push(r);n.userAlias=i.userAlias;n.userId=i.userId}}function l(){r.resolve()}function v(n,s,c,l,v,y,p,w){var b,k,g;(w===void 0&&(w=a.SeverityLevel.Information),t._appInsights)&&(b={},k=f.getSettings(),u.extend(b,y),d(b,c,l,k),i.isNullOrUndefined(v)||(b.IsConfigured=a.LookupArrays.userDataStatusConst[v]),b.MEJsonDefinitionId&&(b.MEJsonDefinitionId.startsWith(e.RawJsonPrefix)?b.MEJsonDefinitionId=e.MEDrillInjsonDefinitionId:b.MEJsonDefinitionId.startsWith(e.PinJsonPrefix)&&(b.MEJsonDefinitionId=e.PinJsonDefinitionId)),g=h.GetVisibilityState(),b.VisibilityState=a.LookupArrays.documentVisibilityConst[g],Q.allSettled([r.promise]).finally((function(){var e=k.getShellVersion(),r,u,f,i;e&&(b.IbizaVersion=e,r=k.getEnvironmentName(),r&&(b.IbizaEnvironment=r));n===o.EventType.BasicException&&(u=b.ErrorObject,u&&delete b.ErrorObject,f=b.HandledAt,f&&delete b.HandledAt);i=it(b);switch(n){case o.EventType.View:t._appInsights.trackPageView(s,undefined,i,p,p.BladeLoadTime);return;case o.EventType.BasicException:t._appInsights.trackException(u,f,i,p,w);return;case o.EventType.Trace:t._appInsights.trackTrace(s,i,w);return;default:t._appInsights.trackEvent(s,i,p);return}})))}var r=Q.defer();n.initializeTelemetry=s;n.setUserInfo=c;n.resolveGetAuthenticatedUserIdDeferred=l;n.internalLogEvent=v})(y=t.Base||(t.Base={}));t.extractProperty=b;t.getCurrentIbizaSessionId=k;t.populateCustomProperties=d;t.sanitizeResponseText=g}));
define("Shared/TelemetryContextHelper",["require","exports","f","o"],(function(n,t,i,r){"use strict";function f(n,t){if(n){var r;return t===1&&(n._bladeContext&&(r=n._bladeContext.instanceId),i.isNullOrUndefined(r)&&(t=2)),t===2&&n._partContext&&(r=n._partContext.bladeInstanceId),r}}function e(n,r){var u,f;if(n&&(r===1&&(n._bladeContext&&(u=n._bladeContext.id),i.isNullOrUndefined(u)&&(r=2)),r===2&&n._partContext&&(u=n._partContext.bladeId),u&&(f=u.split(t._bladeNamePrefix),f&&f.length===2)))return f[1]}function o(n){return n?n.instanceId:undefined}function s(){return{_partContext:u.getPartContext(),_bladeContext:u.getBladeContext(),_journeyContext:undefined}}r.defineProperty(t,"__esModule",{value:!0});var u=i.Base.Diagnostics.Telemetry.Context;t._bladeNamePrefix="Extension/AppInsightsExtension/Blade/";t.getBladeInstance=f;t.getBladeName=e;t.getPartInstance=o;t.createInsightsTelemetryContext=s}));
define("Shared/InsightsTelemetry",["require","exports","f","o","$","Shared/Configuration","Shared/Enumerations","Shared/Profiler","Shared/LoadTimeList","Shared/Identifier","Shared/TelemetryContextHelper","Shared/Constants","Shared/Telemetry/TelemetryBase","Shared/Telemetry/TelemetryConstants"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";function ht(){return{StartTime:0,GetRouteInfoBegin:0,ResourceInfoAvailable:!1,GetByPassUrlBegin:0,ByPassRoute:"",GetByPassUrlEnd:0,GetRouteInfoEnd:0,GetAuthHeaderBegin:0,GetUseInvokeApiBegin:0,GetUseInvokeApiEnd:0,GetAuthHeaderEnd:0,QueryBegin:0,QueryEnd:0,EndTime:0}}function ct(n,r){var e=n?n:{},f=p(e);return f?(f.hasOwnProperty("status")||u.extend(f,{status:i.isNullOrUndefined(f.Status)?t.AITelemetryConstants.StatusUnknown:f.Status}),f.hasOwnProperty("statusText")||u.extend(f,{statusText:f.StatusText||r||"unknown"}),f.hasOwnProperty("reason")||(f.Reason?u.extend(f,{reason:f.Reason}):r&&f.StatusText&&u.extend(f,{reason:r})),f):{status:t.AITelemetryConstants.StatusUnknown,statusText:"unknown"}}function k(n){var t="";return n&&n._partContext&&n._partContext.instanceId&&(t=n._chartId?n._partContext.instanceId+"_"+n._chartId+"_":n._partContext.instanceId+"_"),t}function lt(n,t){var i,r;if(t&&performance&&n&&n._partContext&&n._partContext.instanceId&&performance.mark)try{i=k(n);performance.mark(i+t+"_Start")}catch(u){r={ErrorMessage:"Failure to run performance.mark",QueryName:t};w("Failure to run performance.mark",0,"InsightsTelmetry",undefined,"performanceMarkStart",r)}}function at(n,t){var u;if(t&&performance&&n&&n._partContext&&n._partContext.instanceId&&performance.mark&&performance.measure){var f=k(n),i=f+t,e=i+"_Start",r=i+"_End";try{performance.mark(r);performance.measure(i,e,r)}catch(o){u={ErrorMessage:"Failure to run performance.measure",QueryName:t};w("Failure to run performance.measure",0,"InsightsTelmetry",undefined,"performanceMarkAndMeasure",u)}}}function vt(n){var t,r,i,u,f,e;if(n&&n._partContext&&n._partContext.instanceId&&performance&&performance.getEntriesByType&&(t=performance.getEntriesByType("measure"),t&&t.length>0)){for(r=[],i=0;i<t.length;i++)t[i].name&&typeof t[i].name=="string"&&(u=t[i].name,f=k(n),u.startsWith(f)&&(e=u.substring(f.length),r.push({name:e,duration:t[i].duration,startTime:t[i].startTime})));if(r.length>0)return JSON.stringify(r)}return undefined}function p(n){return a.extractProperty(n)}function yt(n){a._appInsights&&(a._appInsights.context?(a._appInsights.context.operation.id=i.newGuid(),a._appInsights.context.operation.name=n):a._appInsights.queue.push((function(){a._appInsights.context.operation.id=i.newGuid();a._appInsights.context.operation.name=n})));o.Profiler.enter("Blade load: "+n)}function it(n,i,r,f){var o={};f&&u.extend(o,f);o.EventCategory=v.EventCategory[v.EventCategory.UserInteraction];a.Base.internalLogEvent(e.EventType.Event,t.AITelemetryMessages.PartClicked,n,r,i,o,undefined)}function rt(n,i,r){var f={};r&&u.extend(f,r);f.EventCategory=v.EventCategory[v.EventCategory.UserInteraction];a.Base.internalLogEvent(e.EventType.Event,t.AITelemetryMessages.CommandClicked,n,i,undefined,r,undefined)}function d(n,r,o,s,h,c,l,y,p){var d=s===4?" auto-refresh":" load",g=v.LookupArrays.containerTypeConst[r]+d,nt=e.EventType.Event,w={ActionType:t.actionTypeConst[s],Result:e.Result[h]},k,b;l&&u.extend(w,l);i.isNullOrUndefined(w.Status)&&(w.Status="No status");i.isNullOrUndefined(w.StatusText)&&(w.StatusText="No status text");kt(w,h);a.Base.internalLogEvent(nt,g,o,n,c,w,y);p&&y&&y.duration&&(k=10,y.duration>k*1e3&&(b=vt(p),b&&(w.AdditionalTraceType="PerformanceTrace",w.CustomMetrics=JSON.stringify(y),a.Base.internalLogEvent(e.EventType.Trace,b,o,n,c,w),f.getSettings().getIsLocalDeployment()&&(console.log(w.PartName||w.ContainerName+" LoadTime: "+y.duration),console.log(w.PartName||w.ContainerName+" LoadTime detail: "+b)))))}function pt(n,i,r,u,f,e,o){et(t.AITelemetryMessages.AjaxQuery,n,i,u,f,e,o,r)}function ut(n,t,i,r,f,o){var s={};t&&(s.ContainerType=v.LookupArrays.containerTypeConst[t]);u.extend(s,f);s.EventCategory=v.EventCategory[v.EventCategory.UserInteraction];a.Base.internalLogEvent(e.EventType.Event,n,i,r,undefined,s,o)}function g(n,t,i,r,f,o){var s={};t&&(s.ContainerType=v.LookupArrays.containerTypeConst[t]);u.extend(s,f);s.EventCategory=v.EventCategory[v.EventCategory.Infrastructure];a.Base.internalLogEvent(e.EventType.Event,n,i,r,undefined,s,o)}function nt(n,t,i,r,u,f,e){return a.TelemetryWriter.logError(n,t,i,r,u,f,e)}function ft(n,i,r,f,o,s,h){var c={Status:t.AITelemetryConstants.StatusClientException,StatusText:t.AITelemetryConstants.StatusTextClientException,ErrorMessage:n&&n.message?n.message:"",ErrorObject:n,Error:n&&n.stack?n.stack:"",HandledAt:o,ContainerType:i?v.LookupArrays.containerTypeConst[i]:undefined};return u.extend(c,s),a.Base.internalLogEvent(e.EventType.BasicException,t.AITelemetryMessages.LogException,r,f,undefined,c,h),c}function w(n,t,i,r,u,f){return a.TelemetryWriter.traceMessage(n,t,i,r,u,f)}function tt(n,t,i,r,f,o){var s={};t&&(s.ContainerType=v.LookupArrays.containerTypeConst[t]);u.extend(s,f);a.Base.internalLogEvent(e.EventType.Trace,n||"no message provided",i,r,undefined,s,o,v.SeverityLevel.Warning)}function et(n,t,r,f,o,s,h,c){var y={},l={},b,k,d,w,p;if(t&&(b=t._componentId,k=t._containerName,d=t._queryName,t._customProperties&&u.extend(y,t._customProperties),t._chartId&&(y.ChartId=t._chartId),t._jsonDefinitionId&&(y.MEJsonDefinitionId=t._jsonDefinitionId),t._cacheControl&&(y.CacheControl=t._cacheControl)),f){if(w=a.sanitizeResponseText(f,r),w){y.ResponseText=w;try{p=JSON.parse(w);p&&p.error&&p.error.code&&p.error.code.starts!=="200"&&(y.ErrorCode=p.error.code)}catch(g){}}f.statusText&&(y.StatusText=f.statusText);y.Status=i.isNullOrUndefined(f.status)?"-1":f.status.toString()}y.Result=e.Result[r];d&&(y.QueryName=d);o&&u.extend(y,o);s&&(l.duration=s);c&&(c.EndTime>0&&c.StartTime>0&&(l.Ajax_TotalTime=c.EndTime-c.StartTime),c.GetRouteInfoBegin>0&&c.GetRouteInfoEnd>0&&(l.Ajax_GetRouteInfoDuration=c.GetRouteInfoEnd-c.GetRouteInfoBegin),c.GetAuthHeaderEnd>0&&c.GetAuthHeaderBegin>0&&(l.Ajax_GetAuthHeaderDuration=c.GetAuthHeaderEnd-c.GetAuthHeaderBegin),c.GetByPassUrlEnd>0&&c.GetByPassUrlBegin>0&&(l.Ajax_GetByPassUrlDuration=c.GetByPassUrlEnd-c.GetByPassUrlBegin),c.GetUseInvokeApiEnd>0&&c.GetUseInvokeApiBegin>0&&(l.Ajax_GetUseInovkeApiDuration=c.GetUseInvokeApiEnd-c.GetUseInvokeApiBegin),c.Query_FetchStart>0&&c.Query_AppCacheEnd>0&&(l.Ajax_Query_AppCacheDuration=c.Query_AppCacheEnd-c.Query_FetchStart),c.Query_DNS_TCPBegin>0&&c.Query_DNS_TCPEnd>0&&(l.Ajax_Query_DNS_TCPDuration=c.Query_DNS_TCPEnd-c.Query_DNS_TCPBegin),c.Query_Start>0&&c.Query_RedirectEnd>0&&(l.Ajax_Query_RedirectDuration=c.Query_RedirectEnd-c.Query_Start),c.Query_RequestBegin>0&&c.Query_ResponseBegin>0&&(l.Ajax_Query_RequestDuration=c.Query_ResponseBegin-c.Query_RequestBegin),c.Query_ResponseBegin>0&&c.Query_ResponseEnd>0&&(l.Ajax_Query_ResponseDuration=c.Query_ResponseEnd-c.Query_ResponseBegin),c.Query_RequestBegin>0&&c.Query_ResponseEnd>0&&(l.Ajax_Query_TotalServerRequestDuration=c.Query_ResponseEnd-c.Query_RequestBegin),c.Query_Start>0&&c.Query_ResponseEnd>0&&(l.Ajax_Query_StartToResponseEnd=c.Query_ResponseEnd-c.Query_Start),c.QueryEnd>0&&c.QueryBegin>0&&(l.Ajax_QueryTime=c.QueryEnd-c.QueryBegin),c.QueryBegin>0&&c.Query_Start>0&&(l.Ajax_Query_IbizaStart_ActualStart=c.Query_Start-c.QueryBegin),c.Query_ResponseEnd>0&&c.QueryEnd>0&&(l.Ajax_Query_ActualResponseEnd_IbizaEnd=c.QueryEnd-c.Query_ResponseEnd),c.Query_Duration>0&&(l.Ajax_Query_IbizaDuration=c.Query_Duration),y.IsConfigured=c.ResourceInfoAvailable?"true":"false",y.From=c.ByPassRoute);y.EventCategory=v.EventCategory[v.EventCategory.Infrastructure];a.Base.internalLogEvent(e.EventType.Event,n,k,b,undefined,y,l);r===e.Result.Fail&&(n="Ajax query failed\npayload: "+h,y.Status==="-1"&&(n+="\nraw response: "+JSON.stringify(f)),a.Base.internalLogEvent(e.EventType.Trace,n,k,b,undefined,y,l,v.SeverityLevel.Error))}function wt(){return a.getCurrentIbizaSessionId()}function bt(n,t,i,r){return a.populateCustomProperties(n,t,i,r)}function kt(n,t){if(n||(n={}),t===e.Result.Fail)if(n&&!i.isNullOrUndefined(n.Status))switch(n.Status){case 500:case 502:case 503:case 504:n.LoadFailReason=e.ContainerLoadFailReason[e.ContainerLoadFailReason.Backend];break;case 401:case 403:case 404:case l.ConnectionFailedStatusCode:n.LoadFailReason=e.ContainerLoadFailReason[e.ContainerLoadFailReason.KnownError];break;default:n.LoadFailReason=e.ContainerLoadFailReason[e.ContainerLoadFailReason.Other]}else n.LoadFailReason=e.ContainerLoadFailReason[e.ContainerLoadFailReason.Other]}function dt(n,t){var i=o.instrumentPromise(n,t);return i&&i.catch&&i.catch((function(n){var i=p(n);i.ActionName=t;i.Reason&&(t=i.Reason);nt(t,4,"",null,i)})),i}var b,ot,y,st;r.defineProperty(t,"__esModule",{value:!0});b=i.Base.Diagnostics.Telemetry.Context;t.AITelemetryConstants=v.AITelemetryConstants;t.AITelemetryMessages=v.AITelemetryMessages;t.actionTypeConst=v.LookupArrays.actionTypeConst;t.documentVisibilityConst=v.LookupArrays.documentVisibilityConst;t.refreshReasonConst=v.LookupArrays.refreshReasonConst;t.GetEmptyAjaxQueryDetails=ht;t.createErrorObject=ct;t.performanceMarkStart=lt;t.performanceMarkAndMeasure=at;t._extractProperty=p;t.logBladeLoadStart=yt;t.logPartClicked=it;t.logCommandClicked=rt;t.logContainerLoad=d;t.logAjaxQuery=pt;t.logUserInteraction=ut;t.logCustomEvent=g;t.logError=nt;t.logException=ft;t.traceMessage=w;t.logWarning=tt;t.internalLogAjaxQuery=et;t.getCurrentIbizaSessionId=wt;t.populateCustomProperties=bt;ot=(function(){function n(n,t){var i=this,r;this._viewModel=n;this.disableInstrumentation=!1;this._customProperties={};this._lifetimeManager=t;this._viewModel&&(this._viewModel._containerName&&(this._customProperties.ContainerName=this._viewModel._containerName),this._viewModel._containerType&&(this._customProperties.ContainerType=v.LookupArrays.containerTypeConst[this._viewModel._containerType]));this._getTelemetryContext();this._telemetryContextCustomProperties=this._getTelemetryContextCustomProperties();this._viewModel.size&&this._viewModel.size.subscribe&&(r=this._viewModel,r.size.subscribe(this._lifetimeManager,(function(n){if(i._currentSize!==undefined){var t={};t.OldSize=i._currentSize;t.NewSize=n;i.logCustomEvent("Part Resized",null,t,null)}i._currentSize=n})))}return n.prototype.instrumentSelectable=function(n,t){return this._instrumentSelectable(n,t,undefined)},n.prototype.instrumentHotSpotSelectable=function(n,t,i){return this._instrumentSelectable(n,i,t)},n.prototype.instrumentHotSpotDisplayed=function(n,i,r,f){var o={};i&&(o.HotSpotName=i);u.extend(o,f);o.EventCategory=v.EventCategory[v.EventCategory.Infrastructure];a.Base.internalLogEvent(e.EventType.Event,t.AITelemetryMessages.HotSpotDisplayed,n,r,undefined,o,undefined)},n.prototype.logOnInputsSet=function(n,i,r,f){var e={};u.extend(e,f);r&&r.content&&(e.ActionType=t.actionTypeConst[2]);i&&i.content&&(e.ActionType=t.actionTypeConst[1]);this.logCustomEvent("OnInputsSet",n,e)},n.prototype._instrumentSelectable=function(n,t,i){var e=this,r,f;return n?(r=n.onClick,n.onClick=function(){for(var s,o=[],f=0;f<arguments.length;f++)o[f]=arguments[f];s=t?t():undefined;e._logSelectableEvent(s,i);u.isFunction(r)&&r.apply(n,o)}):(f=t?t():undefined,this.logWarning("instrumentSelectable called on viewmodel with null selectable!",f,this.getCustomProperties())),n},n.prototype._logSelectableEvent=function(n,t){t?this._logHotSpotClicked(n,t):this._logPartClicked(n)},n.prototype._logHotSpotClicked=function(n,i){var r={};i&&(r.HotSpotName=i);u.extend(r,this._customProperties);this.logUserInteraction(t.AITelemetryMessages.HotSpotClicked,n,r)},n.prototype.getCustomProperties=function(){return this._customProperties},n.prototype.setCustomProperties=function(n){this._customProperties=n},n.prototype.instrument=function(n,t,i,r){return this.instrumentAndProfile(this._viewModel._containerName+"."+t.toString(),n,t,i,r)},n.prototype.instrumentAndProfile=function(n,r,f,h,l){var v=this,d,it,b;if(this.disableInstrumentation)return h();var k=window.performanceNow(),g=function(){return k},rt=s.GetVisibilityState(),nt=function(){return rt},a=u.Deferred(),w={hostingBladeName:c.getBladeName(this._viewModel._telemetryContext,this._viewModel._containerType),hostingBladeInstance:c.getBladeInstance(this._viewModel._telemetryContext,this._viewModel._containerType),partNameOrId:this._viewModel._partIdentifier?this._viewModel._partIdentifier:this._viewModel._containerName,telemetryContext:this._viewModel._telemetryContext};(f===0||f===5)&&y.includeInLoadTimeTelemetry(w)&&y._partLoadStart(w,k)?a.promise().then((function(n){var t={partStartTime:g(),partEndTime:n.endTime,partInitialVisibility:nt(),hostingBladeInstance:w.hostingBladeInstance,hostingBladeName:w.hostingBladeName,partNameOrId:w.partNameOrId,telemetryContext:w.telemetryContext},f;t.customProperties={};u.extend(t.customProperties,v._customProperties,l,n.resultProperties,v._telemetryContextCustomProperties);t.instrumentedActionResult=e.Result[n.result];t.partEndTime=n.endTime;t.componentId=r;t.hasUserData=v._viewModel._hasUserData();t.customProperties.PartName=v._viewModel._containerName;f=v._getIsCustomDataModel();i.isNullOrUndefined(f)||(t.customProperties.IsCustomDataModel=f);y._partLoadEnd(t)})):a.promise().then((function(n){var i={},e,o;u.extend(i,v._customProperties,l,n.resultProperties,v._telemetryContextCustomProperties);e=nt();i.VisibilityInitial=t.documentVisibilityConst[e];o={duration:n.endTime-g()};v._logInstrumentCompleteTelemetry(f,r,n.result,i,o)}));o.Profiler.enter(n);try{d=o.instrumentPromise(h(),"Result promise")}catch(tt){it=this.logException(tt,r,"TelemetryHelper.instrumentAndProfile: Profiler.instrumentPromise");a.resolve({result:e.Result.Fail,endTime:window.performanceNow(),resultProperties:it});throw tt;}finally{o.Profiler.exit()}return d?(b=this,d.then((function(){for(var n,i=[],f=0;f<arguments.length;f++)i[f]=arguments[f];return n={},i&&i[0]&&(n=p(i[0])),u.isArray(b._viewModel._promisesTelemetry)?Q.all(b._viewModel._promisesTelemetry).then((function(){a.resolve({result:e.Result.Succeed,endTime:window.performanceNow(),resultProperties:n})}),(function(){for(var i,s,f=[],o=0;o<arguments.length;o++)f[o]=arguments[o];i={};f&&f[0]&&(i=p(f[0]));u.extend(i,n);s=window.performanceNow();a.resolve({result:e.Result.Succeed,endTime:s,resultProperties:i});b.logWarning(t.AITelemetryMessages.LoadWarning,r,i,{duration:s-k})})):a.resolve({result:e.Result.Succeed,endTime:window.performanceNow(),resultProperties:n}),a.promise()}),(function(){for(var i,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return i={},n&&n[0]&&(i=p(n[0])),u.extend(i,{Error:JSON.stringify(n)}),a.resolve({result:e.Result.Fail,endTime:window.performanceNow(),resultProperties:i}),u.Deferred().reject(n).promise()}))):(a.resolve({result:e.Result.Succeed,endTime:window.performanceNow()}),null)},n.prototype.logCommandClicked=function(n,t){var i={};u.extend(i,this._customProperties,t,this._telemetryContextCustomProperties);rt(this._viewModel._containerName,n,i)},n.prototype.logDialogClicked=function(n,i,r,f,e){var o=this.getCustomProperties();u.extend(o,f);r&&(o.DialogResult=v.IbizaDialogResult[r]);i&&(o.DialogName=i);this.logUserInteraction(t.AITelemetryMessages.DialogClicked,n,o,e)},n.prototype.instrumentBladeStarted=function(n,t,i){var r;i===void 0&&(i={});r=this._getBladeProperties(n,t);u.extend(r,i);var e=n._getBladeInitializationInfo(),f=c.getBladeInstance(this._viewModel._telemetryContext,this._viewModel._containerType),o=this._viewModel._telemetryContext&&(this._viewModel._telemetryContext._bladeContext||this._viewModel._telemetryContext._partContext);!f&&o&&this.logWarning("Missing bladeInstance in the InsightsTelemetryContext!",t,this._customProperties);y._bladeLoadStart(r.BladeName,f,t,e,r)},n.prototype.logCustomEvent=function(n,t,i,r){var f={};u.extend(f,this._customProperties,i,this._telemetryContextCustomProperties);g(n,this._viewModel._containerType,this._viewModel._containerName,t,f,r)},n.prototype.logUserInteraction=function(n,t,i,r){var f={};u.extend(f,this._customProperties,i,this._telemetryContextCustomProperties);ut(n,this._viewModel._containerType,this._viewModel._containerName,t,f,r)},n.prototype.logError=function(n,t,i,r,f){var e={};u.extend(e,this._customProperties,i,this._telemetryContextCustomProperties);nt(n,this._viewModel._containerType,this._viewModel._containerName,t,e,r,f)},n.prototype.logWarning=function(n,t,i,r){var f={};u.extend(f,this._customProperties,i,this._telemetryContextCustomProperties);tt(n,this._viewModel._containerType,this._viewModel._containerName,t,f,r)},n.prototype.logException=function(n,t,i,r,f){var e={};return u.extend(e,this._customProperties,r,this._telemetryContextCustomProperties),ft(n,this._viewModel._containerType,this._viewModel._containerName,t,i,e,f)},n.prototype.traceMessage=function(n,t,i,r){var f={};u.extend(f,this._customProperties,i,this._telemetryContextCustomProperties);w(n,this._viewModel._containerType,this._viewModel._containerName,t,f,r)},n.prototype._logInstrumentCompleteTelemetry=function(n,i,r,f,o){switch(n){case 3:case 0:case 5:case 4:this._logContainerLoad(i,this._viewModel._containerType,this._viewModel._containerName,n,r,this._getDataStatus(),f,o);break;case 6:default:var s={};r&&(s.Result=e.Result[r]);u.extend(s,this._customProperties,f,this._telemetryContextCustomProperties);this.logCustomEvent(t.AITelemetryMessages.OtherActionCompleted,i,s,o)}},n.prototype._logPartClicked=function(n){var t={};u.extend(t,this._customProperties,this._telemetryContextCustomProperties);it(this._viewModel._containerName,this._getDataStatus(),n,t)},n.prototype._getBladeProperties=function(n,t){var o=this._viewModel._telemetryContext&&(this._viewModel._telemetryContext._bladeContext||this._viewModel._telemetryContext._partContext),e=c.getBladeName(this._viewModel._telemetryContext,this._viewModel._containerType),r={BladeName:e},f=n._getBladeInitializationInfo();return f&&!i.isNullOrUndefined(f.hasDefaultInputs)&&(r.BladeHasDefaultInputs=f.hasDefaultInputs),u.extend(r,this._customProperties,this._telemetryContextCustomProperties),!e&&o&&this.logWarning("Missing bladeName in the InsightsTelemetryContext!",t,this._customProperties),r},n.prototype._logContainerLoad=function(n,t,r,f,e,o,s,h){var c={},l;u.extend(c,this._customProperties,s,this._telemetryContextCustomProperties);l=this._getIsCustomDataModel();i.isNullOrUndefined(l)||(c.IsCustomDataModel=l);d(n,t,r,f,e,o,c,h,this._viewModel._telemetryContext)},n.prototype._getDataStatus=function(){var n;return u.isFunction(this._viewModel._hasUserData)?this._viewModel._hasUserData():n},n.prototype._getIsCustomDataModel=function(){var n;return u.isFunction(this._viewModel._isCustomDataModel)?this._viewModel._isCustomDataModel():n},n.prototype._getTelemetryContext=function(){this._viewModel._telemetryContext||(this._viewModel._telemetryContext={_partContext:b.getPartContext(),_bladeContext:b.getBladeContext(),_journeyContext:undefined});this._telemetryContext=this._viewModel._telemetryContext},n.prototype._getTelemetryContextCustomProperties=function(){var n=this._viewModel._telemetryContext,t={},r,i;return n._partContext&&(t.PartInstance=c.getPartInstance(n),r=c.getBladeInstance(n,this._viewModel._containerType),i=c.getBladeName(n,this._viewModel._containerType),t.HostingBladeName=i,t.HostingBladeInstance=h.BladeIdentifier.createBladeId(i,r),t.BladeCustomized=n._partContext.bladeCustomized,t.OnBlade=n._partContext.onBlade,t.OnStartBoard=n._partContext.onStartBoard,t.IsAtf=n._partContext.loadDelayed||n._partContext.loadDelayed===undefined?!1:!0),n._journeyContext&&(t.JourneyId=n._journeyContext.id),t},n})();t.TelemetryHelper=ot;t.instrumentPromise=dt;y=(function(){function n(){}return n._partLoadStart=function(t,r){var u=t.hostingBladeName,f=t.hostingBladeInstance,e=t.partNameOrId,h;if(!u||!e||!f||i.isNullOrUndefined(r))return!1;var c={hostingBladeInstance:t.hostingBladeInstance,hostingBladeName:t.hostingBladeName,partInitialVisibility:s.GetVisibilityState(),partNameOrId:t.partNameOrId,partStartTime:r},o=!1,l=new s.BladeInfo(u,f);return o=n.bladeList.addOrUpdateItem(l,c),o&&(h={HostingBladeName:u},tt("MultipleOnInputsSet",2,e,undefined,h)),n.bladeList.cleanup(u,n._loadTimeExpiredPeriodMs),!0},n._partLoadEnd=function(t){var u=t.hostingBladeName,f=t.hostingBladeInstance,e=t.partNameOrId,r;u&&e&&f&&!i.isNullOrUndefined(t.partEndTime)&&(r=new s.BladeInfo(u,f),n.bladeList.addOrUpdateItem(r,t),n.bladeList.validate(r)&&window.setTimeout((function(){n._validateAndLog(r)}),n._reportDelay))},n.includeInLoadTimeTelemetry=function(t){return n.bladeList.contains(new s.BladeInfo(t.hostingBladeName,t.hostingBladeInstance))},n._bladeLoadStart=function(t,r,u,f,e){if(t&&r&&!i.isNullOrUndefined(f)){var o=new s.BladeInfo(t,r,f.startTime,f.hasDefaultInputs,u,e);n.bladeList.addOrUpdateItem(o)}},n._validateAndLog=function(r){var ot=r._Name,y=n.bladeList.getItem(r),f,p,tt,l,v,it,ht,et,ct,lt,rt;if(y&&y.parts&&y.bladeInfo&&(f=y.bladeInfo,p=y.parts,n.bladeList.validate(f))){var st=h.BladeIdentifier.getBladeGuid(f._BladeInstance),w={},b=0,k="",ut=0,nt="";for(tt=0;tt<p.length;tt++)l=p[tt],v=l.partEndTime-f._StartTime,n._isLocalDeployment&&console.log("loadTime for "+l.partNameOrId+": "+v),v>b&&(b=v,k=l.partNameOrId),l.customProperties&&l.customProperties.IsAtf&&v>ut&&(ut=v,nt=l.partNameOrId);for(it=0;it<p.length;it++){var o=p[it],c={},ft={HostingBladeInstance:st,PartId:o.partNameOrId,HostingBladeName:f._Name,MaxLoadTimeEntity:k,MaxLoadTimeEntity_atf:nt,BladeHasDefaultInputs:f._HasDefaultInputs,VisibilityInitial:i.isNullOrUndefined(o.partInitialVisibility)?"None":t.documentVisibilityConst[o.partInitialVisibility]};o.customProperties&&u.extend(ft,o.customProperties);f._CustomProperties&&u.extend(ft,f._CustomProperties);ht=o.partStartTime-f._StartTime;c.BladeStartTime=f._StartTime&&f._StartTime;c.PartStartTime=o.partStartTime&&o.partStartTime;c.BladeStartToPartStartDurationMs=ht;et=o.partEndTime-f._StartTime;c.PartLoadFromBladeStartDurationMs=et;c.durationext=et;c.PartLoadDurationMs=o.partEndTime-o.partStartTime;c.duration=c.PartLoadDurationMs;o.instrumentedActionResult&&(ct=e.Result[o.instrumentedActionResult]);d(o.componentId,2,undefined,0,ct,o.hasUserData,ft,c,o.telemetryContext)}lt=s.GetVisibilityState();rt={HostingBladeName:ot,MaxLoadTimeEntity:k,MaxLoadTimeEntity_atf:nt,HostingBladeInstance:st,VisibilityInitial:t.documentVisibilityConst[f._VisibilityStateInitial],VisibilityState:t.documentVisibilityConst[lt]};f._CustomProperties&&u.extend(rt,f._CustomProperties);w.BladeLoadTime=b;w.duration=ut;n._isLocalDeployment&&(console.log(ot+"LoadTime: "+b),console.log("MaxLoadTimeEntity: "+k),console.log("MaxLoadTimeEntity_atf: "+nt));a.Base.internalLogEvent(e.EventType.View,f._Name,undefined,f._ComponentId,undefined,rt,w);g(t.AITelemetryMessages.BladeLoadCompleted,4,undefined,f._ComponentId,rt,w);n.bladeList.deleteItem(f)}},n})();y.bladeList=new s.LoadTimeList(s.BladeInfo.compare);y._reportDelay=1e4;y._loadTimeExpiredPeriodMs=f.getSettings().getLoadTimeExpiredTimeoutMilliseconds();y._isLocalDeployment=f.getSettings().getIsLocalDeployment();st=(function(){function n(){}return n.prototype.traceBrowserInfo=function(){},n.prototype.trace=function(n){var t={},i;t.DocTypes="IbizaShellTelemetry";n&&n.action&&(n.action.indexOf("Ext")===0||n.action==="BladeReady")&&(i=JSON.stringify(n),w(i,0,l.NoBladeSpecific,undefined,t))},n.prototype.flush=function(){return Q()},n})();t.ShellTelemetryEventProcessor=st}))