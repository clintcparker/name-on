define("Core/TypeScript/TFS.Core.Utils",["require","exports","o","$","Core/TypeScript/TFS.Core","Core/TypeScript/TFS.Diag"],(function(n,t,i,r,u,f){"use strict";function a(n){return r("<div/>").html(n).text()}function v(n){return n===undefined||n===null?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y(n,t,i,u){var e,o,s;return f.assertIsString(n,"htmlString"),f.assertIsString(t,"tagName"),f.assertIsString(i,"attributeName"),f.assertIsString(u,"attributeValue"),e=n,n.indexOf("<"+t)>-1&&(o=(new DOMParser).parseFromString(n,"text/html"),s=o.getElementsByTagName(t),r.each(s,(function(n,t){r(t).attr(i,u)})),e=o.body.innerHTML),e}function e(n){var t,i;return document.cookie.length>0&&(t=document.cookie.indexOf(n+"="),t!==-1)?(t=t+n.length+1,i=document.cookie.indexOf(";",t),i===-1&&(i=document.cookie.length),decodeURIComponent(document.cookie.substring(t,i))):""}function p(n){var t=e(n);return parseInt(t,10)}function o(n,t){return Sys.Serialization.JavaScriptSerializer.deserialize(n,t)}function w(n){return Sys.Serialization.JavaScriptSerializer.serialize(n)}function s(n,t){var r,i;if(!n||!t)return!1;for(i in n)if(r=!0,n.hasOwnProperty(i)&&(r=typeof n[i]=="object"?s(n[i],t[i]):n[i]===t[i]),!r)return!1;return!0}function b(n,t,i){f.assertParamIsJQueryObject(n,"$context");t!==undefined&&t!==null&&f.assertParamIsStringNotEmpty(t,"selectionFilter");i!==undefined&&f.assertParamIsBool(i,"remove");var r,u,e=null;return r=n.find('script[type="application/json"]'),t&&(r=r.filter(t)),r.length>0&&(u=r.eq(0).html(),u&&(e=o(u,!1)),i&&r.eq(0).remove()),e}function h(n,t,i,r){var o,e,s,f=null,l,c,a;if(n&&(s=this.children,s&&(a=s.length)>0)){t=t||"/";do o=n.indexOf(t),o>=0?(e=n.substring(0,o),n=n.substring(o+t.length)):(e=n,n=null);while(n&&e===t);if(e){for(r=r||"text",i=i||u.StringUtils.localeIgnoreCaseComparer,c=0;c<a;c++)if(l=s[c],i(l[r],e)===0){f=l;break}if(f&&n){if(f.children)return h.call(f,n,t,i,r);f=null}}}return f}function c(n,t,i,r){var u=this.parent;return r=r||"root",u&&!n&&u[r]&&(u=null),i=i||"text",u?(t=t||"/",c.call(u,n,t,i,r)+t+this[i]):this[i]}function l(n){var t,r,i,u;if(n&&(n.call(this,this),i=this.children,i&&(r=i.length)))for(t=0;t<r;t++)u=i[t],l.call(u,n)}function k(n,t,i){var u,f;if(n&&n.length)if(i)r.each(n,(function(n,i){i.end>=t&&(i.start>=t&&i.start++,i.end++)}));else return u=[],f={},r.each(n,(function(n,i){var r;i.end>=t&&(i.start>t&&(i.start=Math.max(1,i.start-1)),i.end=Math.max(1,i.end-1));i.start!==i.end&&(r=i.start+"_"+i.end,r in f||(f[r]=!0,u.push(i)))})),u;return n}function d(n){function i(n,u){r.each(n,(function(r,f){u?f!==u&&u.start<=f.start&&u.end>=f.end&&(i(n,f),u.level=Math.max(u.level,f.level+1),t=Math.max(t,u.level)):i(n,f)}))}var t=0;return n&&n.length&&(r.each(n,(function(n,t){t.level=0})),i(n,null)),t}function g(n,t){return n!==null&&typeof n!="undefined"?typeof n=="string"?n:n instanceof Date?u.DateUtils.localeFormat(n,t||"G"):typeof n=="number"?t?u.DateUtils.localeFormat(new Date(n),t):u.NumberUtils.toDecimalLocaleString(n):typeof n=="boolean"?n?"True":"False":n.toString():""}i.defineProperty(t,"__esModule",{value:!0});t.decodeHTML=a;t.encodeHTML=v;t.ensureAttributeValueInTags=y;t.getCookie=e;t.getCookieAsInt=p;t.parseMSJSON=o;t.stringifyMSJSON=w;t.deepEqual=s;t.parseJsonIsland=b;t.findTreeNode=h;t.calculateTreePath=c;t.walkTree=l;t.updateFilterGroups=k;t.updateFilterGroupLevels=d;t.convertValueToDisplayString=g;var nt;(function(n){function t(n){return n&&n.length<=2e3}function i(t){var o=n.SAFE_URI_SCHEME_LIST,i,r,e,s;if(f.assert(typeof t=="string"),r=t.trim(),e=r.indexOf(":"),e>=0)for(s=r.substr(0,e),i=0;i<o.length;i++)if(u.StringUtils.ignoreCaseComparer(s,o[i])===0)return!0;return!1}n.SAFE_URI_SCHEME_LIST=["http","https","ftp","gopher","mailto","news","telnet","wais","vstfs","tfs","alm","mtm","mtms","mtr","mtrs","mfbclient","mfbclients","x-mvwit"];n.isUrlWithinConstraints=t;n.isSafeProtocol=i})(nt=t.UrlHelper||(t.UrlHelper={}))}));
define("Core/TypeScript/TFS.Azure.Context",["require","exports","f","o","Core/TypeScript/TFS.Core","Core/TypeScript/TFS.Core.Utils","Core/TypeScript/TFS.Diag"],(function(n,t,i,r,u,f,e){"use strict";function l(){var n,r,u,t;return o||(o=i.getEnvironmentValue("azureTfsContext")?f.parseMSJSON(i.getEnvironmentValue("azureTfsContext"),!1):f.parseJsonIsland($(document),".azure-tfs-context"),n=i.getFeatureValue("PortalExtensionStamp"),o&&(n=i.isNullOrUndefined(n)?"peprodscussu2":n,r=["peprodwcus0","peprodscussu2","pepfcusc"],r.indexOf(n)<0&&(n="peprodscussu2"),u=o.extensionConfiguration.extensionUrl,u.indexOf("visualstudio.com")!=-1&&(t=o.extensionConfiguration.serverUrl.split("https://")[1].split(".")[0],o.extensionConfiguration.extensionUrl=o.extensionConfiguration.extensionUrl.replace(t,n),o.extensionConfiguration.serverUrl=o.extensionConfiguration.serverUrl.replace(t,n),o.extensionConfiguration.staticContentUrl=o.extensionConfiguration.staticContentUrl.replace(t,n)))),o}function v(){return l().extensionConfiguration.isHosted}function y(n){c=n}function p(n){return c?c[n]?!0:!1:(e.logError("Tfs.Azure.isPortalFeatureEnabled: Feature availability check made before Azure.ready()."),!1)}function w(n){s.push(n)}function b(n){h[n.toLowerCase()]=!0}function k(n){var i,t;if(s){for(i=s.length,t=0;t<i;t++)if(s[t].indexOf(n)!==-1)return!0;return!1}return!1}function d(n){var i,t,r;return h?(i="",t=u.UrlUtils.URL_REGEX.exec(n),t&&t[4]&&(r=t[4].split("."),r&&(i=r[0])),a(i)):!1}function a(n){return h?n!==""&&h[n.toLowerCase()]?!0:!1:!1}r.defineProperty(t,"__esModule",{value:!0});var s=[],h={},o=null,c={};t.getAzureTfsContext=l;t.isHosted=v;t.setEnabledFeaturesLookup=y;t.isPortalFeatureEnabled=p;t.addSpsAccountUrl=w;t.addMsaAccount=b;t.isSpsAccountUrl=k;t.isMsaAccountUrl=d;t.isMsaAccount=a}))