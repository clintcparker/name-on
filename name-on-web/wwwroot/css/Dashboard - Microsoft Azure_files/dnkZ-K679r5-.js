define("Shared/AjaxExtensions",["require","exports","o","Shared/AuthenticatedToAdIbizaUxUntracked","Shared/BrowserOperationsLoggingHelper","CommonConstants"],(function(n,t,i,r,u,f){"use strict";function o(n,t){if(n&&n.length>0)try{var i=parseInt(n);if(i<1)return t}catch(r){return t}return t}i.defineProperty(t,"__esModule",{value:!0});var e=(function(){function n(){}return n.trackedAjax=function(t,i,r,u,f){return n.trackedAjaxPerTargetObject(t,i,r,u,"","",f)},n.trackedAjaxPerTargetObject=function(t,i,u,f,e,o,s){var h=new Date;return r.AuthenticatedToAdIbizaUxUntracked.ajax(s).then((function(r){var c=r.content,l=r.jqXHR;return n.trackScenarioAjax(s,l,t,i,u,f,e,o,h),c})).catch((function(r){var c=r.jqXHR;n.trackScenarioAjax(s,c,t,i,u,f,e,o,h);throw c;}))},n.trackedSupplyData=function(t,i,r,u,e,o,s,h){return n.trackedAjaxPerTargetObject(t,i,r,u,"","",{uri:o,type:e,data:h,headers:s,contentType:f.httpContentTypes.applicationJson})},n.trackedSupplyDataPerTargetObject=function(t,i,r,u,e,o,s,h,c,l){return n.trackedAjaxPerTargetObject(t,i,r,u,e,o,{uri:h,type:s,data:l,headers:c,contentType:f.httpContentTypes.applicationJson})},n.trackScenarioAjax=function(t,i,r,u,f,e,s,h,c){var y=t.headers["x-ms-client-request-id"],p=t.headers["x-ms-client-session-id"],w=i.getResponseHeader("x-ms-correlation-id"),b=i.getResponseHeader("x-ms-operation-maturity"),k=i.getResponseHeader("x-ms-expected-duration"),d=o(k,8001),l=i.status,a,v;l>=500&&(a=i.responseText,v="Response Code: {0}, Response Text: {1}",n.browserOperationsLogger.logEvent("Error",r.scenarioName(),"AjaxError","Ajax.error",v.format(l,a),null));n.browserOperationsLogger.auditEvent(y,p,w,r,u,f,e,s,h,d,l,b,c);n.browserOperationsLogger.metricEvent(r.scenarioName(),u,f,l,c)},n})();e.browserOperationsLogger=new u.BrowserOperationsLoggingClient;t.AuthenticatedToAdIbizaUx=e}))