var __extends;define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Net/AjaxOld",["require","exports","f","ko","$"],(function(n,t,i,r,u){"use strict";var f=(function(){function n(){}return n.ajax=function(t,r){var u=n._getNetAjaxSettings(t,r);return i.Base.Net.ajax(u)},n.cachedAjax=function(t,r){var u=n._getNetAjaxSettings(t,r);return i.Base.Net.cachedAjax(u)},n.post=function(t,i){return n.ajax(t,{data:i,type:"POST"})},n.get=function(t,i){return n.ajax(t,{data:i,type:"GET"})},n._getNetAjaxSettings=function(n,t){n&&(n=i.Base.Resources.getAppRelativeUri(n));t=this._applyDefaultSettings(t);t.url=n;var r=t;return r.uri=r.url,r},n._applyDefaultSettings=function(t){return t?(t=u.extend({},n.defaultAjaxSettings,t),t.traditional&&t.data&&(t.data=typeof t.data=="string"?t.data:r.toJSON(t.data||{})),t):t},n})();return f.defaultAjaxSettings={cache:!1,contentType:"application/json",traditional:!0,setAuthorizationHeader:!0},f}));define("WebsitesExtension/TypeScript/Ajax/Ajax",["require","exports",
"ko","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Net/AjaxOld"],(function(n,t,i,r,u){"use strict";var f;return (function(n){function t(n,t){AntUx.Requires.Argument("endPoint",n).notNullOrEmpty();var i=r.Asset.UrlPath.format(r.Asset.Controller,n);return u.post(i,t)}function f(n,t){AntUx.Requires.Argument("endPoint",n).notNullOrEmpty();var i;return i=t?n:r.Asset.UrlPath.format(r.Asset.Controller,n),u.get(i)}function e(n,t){AntUx.Requires.Argument("endPoint",n).notNullOrEmpty();var i=r.Asset.UrlPath.format(r.Asset.Controller,n);return u.ajax(i,t)}function o(){return t("ListRegions")}function s(n){var i={Name:n.Name,ResourceGroup:n.ResourceGroup};return t("GetWebsite",{subscriptionId:n.SubscriptionId,siteId:i})}function h(n){return t("ListWebsiteCsmTemplates",{subscriptionIds:n})}function c(n){return t("ListWebsiteMySqlCsmTemplates",{subscriptionIds:n})}function l(n){return t("ListWebsiteSqlCsmTemplates",{subscriptionIds:n})}
function a(n,i,r,u,f,e,o){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("siteName",u).notNullOrEmpty(),AntUx.Requires.Argument("slotName",f).notNullOrEmpty(),t("CreateWebsiteSlot",{subscriptionId:n,resourceGroupName:i,region:r,siteName:u,slotName:f,configSource:e,kind:o})}function v(n,i,r,u,f){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("websiteName",r).notNullOrEmpty(),AntUx.Requires.Argument("sourceSlot",u).notNullOrEmpty(),AntUx.Requires.Argument("targetSlot",f).notNullOrEmpty(),t("ApplySlotConfig",{subscriptionId:n,resourceGroupName:i,productionSiteName:r,sourceSlotName:u,targetSlot:f})}function y(n,i,r,u){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("websiteName",
r).notNullOrEmpty(),AntUx.Requires.Argument("sourceSlot",u).notNullOrEmpty(),t("ResetSlotConfig",{subscriptionId:n,resourceGroupName:i,productionSiteName:r,sourceSlotName:u})}function p(n,i,r,u,f){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("websiteName",r).notNullOrEmpty(),AntUx.Requires.Argument("sourceSlot",u).notNullOrEmpty(),AntUx.Requires.Argument("targetSlot",f).notNullOrEmpty(),t("SwapWebsiteSlots",{subscriptionId:n,resourceGroupName:i,productionSiteName:r,sourceSlotName:u,targetSlot:f})}function w(n,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("website",i).notNullOrEmpty(),t("DeleteWebsite",{SubscriptionId:n,SiteId:{Name:i.Name,ResourceGroup:i.ResourceGroup}})}function b(n,i,r,u){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteName",r).notNullOrEmpty(),AntUx.Requires.Argument(
"resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("recommendationName",u).notNullOrEmpty(),t("DismissSiteRecommendation",{SubscriptionId:n,ResourceGroupName:i,SiteName:r,RecommendationName:u})}function k(n){return AntUx.Requires.Argument("resourceUri",n).notNullOrEmpty(),t("DeleteHostingEnvironment",{ResourceUri:n})}function d(n){return AntUx.Requires.Argument("resourceUri",n).notNullOrEmpty(),t("ResumeHostingEnvironment",{ResourceUri:n})}function g(n){return AntUx.Requires.Argument("resourceUri",n).notNullOrEmpty(),t("RebootHostingEnvironment",{ResourceUri:n})}function nt(n,i,r,u,f){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroup",i).notNullOrEmpty(),AntUx.Requires.Argument("location",r).notNullOrEmpty(),AntUx.Requires.Argument("siteName",u).notNullOrEmpty(),AntUx.Requires.Argument("serverFarmId",f).notNullOrEmpty(),t("UpdateWebsiteWebHostingPlan",{SubscriptionId:n,Location:r,SiteId:{Name:u,ResourceGroup:i},ServerFarmId:
f})}function tt(n,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("website",i).notNull(),t("StartWebsite",{SubscriptionId:n,SiteId:{Name:i.Name,ResourceGroup:i.ResourceGroup}})}function it(n,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("website",i).notNull(),t("RestartWebsite",{SubscriptionId:n,SiteId:{Name:i.Name,ResourceGroup:i.ResourceGroup}})}function rt(n,i){return AntUx.Requires.Argument("processUrl",n).notNullOrEmpty(),AntUx.Requires.Argument("instanceName",i).notNull(),t("RestartSiteProcess",{processUrl:n,instanceName:i})}function ut(n){return AntUx.Requires.Argument("params",n).notNull(),t("GetKuduW3wpProcessList",i.toJS(n))}function ft(n){return AntUx.Requires.Argument("websiteId",n).notNull(),t("GetSiteProperties",{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}})}function et(n,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(
),AntUx.Requires.Argument("website",i).notNull(),t("StopWebsite",{SubscriptionId:n,SiteId:{Name:i.Name,ResourceGroup:i.ResourceGroup}})}function ot(n,i){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("envName",i).notNullOrEmpty(),t("ValidateHostingEnvironmentName",{SubscriptionId:n,HostingEnvironmentName:i})}function st(n,i,r,u,f){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("serverName",i).notNullOrEmpty(),AntUx.Requires.Argument("userName",r).notNullOrEmpty(),AntUx.Requires.Argument("password",u).notNullOrEmpty(),t("ValidateSqlDatabaseCredentials",{subscriptionId:n,serverName:i,userName:r,password:u,databaseName:f})}function ht(n){return t("CreateServerFarm",{subscriptionId:n.SubscriptionId(),resourceGroup:n.ResourceGroup(),ServerFarm:n})}function ct(n){return AntUx.Requires.Argument("webHostingPlan",n).notNullOrEmpty(),AntUx.Requires.Argument("subscriptionId",n.SubscriptionId).notNullOrEmpty(
),t("UpdateServerFarm",{subscriptionId:n.SubscriptionId,serverFarm:n})}function lt(n,i,r,u,f){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupLocation",r).notNullOrEmpty(),AntUx.Requires.Argument("templateName",u).notNullOrEmpty(),AntUx.Requires.Argument("parameters",f).notNull(),t("CreateWebsiteWithCsmTemplate",{subscriptionId:n,resourceGroupName:i,resourceGroupLocation:r,templateName:u,parameters:f})}function at(n,i,r,u){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).notNullOrEmpty(),AntUx.Requires.Argument("siteName",r).notNullOrEmpty(),AntUx.Requires.Argument("tagsKeyValuePairs",u).notNull(),t("TagWebsite",{SubscriptionId:n,ResourceGroupName:i,SiteName:r,Tags:u})}function vt(n,i,r,u){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",i).
notNullOrEmpty(),AntUx.Requires.Argument("siteName",r).notNullOrEmpty(),AntUx.Requires.Argument("tagsKeyValuePairs",u).notNull(),t("UntagWebsiteResourceGroup",{SubscriptionId:n,ResourceGroupName:i,SiteName:r,Tags:u})}function yt(n,i){return AntUx.Requires.Argument("websiteId",i).notNullOrEmpty(),AntUx.Requires.Argument("siteExtensionId",n).notNullOrEmpty(),t("DeleteSiteExtension",{websiteInput:{subscriptionId:i.SubscriptionId,siteId:{name:i.Name,resourceGroup:i.ResourceGroup}},siteExtensionId:n})}function pt(n,i){return AntUx.Requires.Argument("websiteId",i).notNullOrEmpty(),AntUx.Requires.Argument("siteExtensionId",n).notNullOrEmpty(),t("InstallSiteExtension",{websiteInput:{subscriptionId:i.SubscriptionId,siteId:{name:i.Name,resourceGroup:i.ResourceGroup}},siteExtensionId:n})}function wt(n,r,u,f){return AntUx.Requires.Argument("websiteId",r).notNullOrEmpty(),AntUx.Requires.Argument("siteExtensionId",n).notNullOrEmpty(),t("InstallSiteExtensionWithParams",{WebsiteInput:{SubscriptionId:r.
SubscriptionId,SiteId:{Name:r.Name,ResourceGroup:r.ResourceGroup}},SiteExtensionId:n,AppendAppSettings:i.toJS(f),Location:u})}n.post=t;n.get=f;n.ajax=e;n.listRegions=o;n.getWebsite=s;n.listWebsiteCsmTemplates=h;n.listWebsiteMySqlCsmTemplates=c;n.listWebsiteSqlCsmTemplates=l;n.createWebsiteSlot=a;n.applySlotConfig=v;n.resetSlotSwapPhaseOne=y;n.swapWebsiteSlots=p;n.deleteWebsite=w;n.dismissSiteRecommendation=b;n.deleteHostingEnvironment=k;n.resumeHostingEnvironment=d;n.rebootHostingEnvironment=g;n.updateWebsiteWebHostingPlan=nt;n.startWebsite=tt;n.restartWebsite=it;n.restartSiteProcess=rt;n.getW3wpProcesses=ut;n.getWebsiteProperties=ft;n.stopWebsite=et;n.validateEnvironmentName=ot;n.validateSqlDatabaseCredentials=st;n.createASP=ht;n.updateWebHostingPlan=ct;n.createWebsiteWithCsmTemplate=lt;n.tagWebsite=at;n.UntagWebsiteResourceGroup=vt;n.deleteSiteExtension=yt;n.installSiteExtension=pt;n.installSiteExtensionWithParams=wt})(f||(f={})),f}));define("WebsitesExtension/TypeScript/Ajax/Ajax.ASE",
["require","exports","WebsitesExtension/TypeScript/Ajax/Ajax"],(function(n,t,i){"use strict";var r;return (function(n){function t(n,t){return AntUx.Requires.Argument("resourceUri",n).notNullOrEmpty(),AntUx.Requires.Argument("HostingEnvironment",t).notNull(),i.post("UpdateHostingEnvironment",{resourceUri:n,hostingEnvironment:t})}function r(n,t){return AntUx.Requires.Argument("resourceUri",n).notNullOrEmpty(),AntUx.Requires.Argument("WorkerPool",t).notNull(),i.post("UpdateWorkerPool",{resourceUri:n,workerPool:t})}n.updateHostingEnvironment=t;n.updateWorkerPool=r})(r||(r={})),r}));define("WebsitesExtension/TypeScript/ViewModels/FormData/WebsiteLogsFormData",["require","exports","ko"],(function(n,t,i){"use strict";var r;return (function(n){var t,r;(function(n){n[n.Off=0]="Off";n[n.Storage=1]="Storage";n[n.FileSystem=2]="FileSystem"})(t=n.WebServerLoggingOption||(n.WebServerLoggingOption={}));r=(function(){function n(){this.ApplicationLoggingStorage=i.observable({storageAccountId:i.observable(""),
sasUri:i.observable(""),containerUri:i.observable("")});this.WebServerLoggingStorage=i.observable({storageAccountId:i.observable(""),sasUri:i.observable(""),containerUri:i.observable("")});this.WebServerLoggingOptions=i.observable(t.Off);this.AzureApplicationLogsFileSystemEnabled=i.observable(!1);this.AzureApplicationLogsFileSystemTraceLevel=i.observable(null);this.AzureApplicationLogsTableEnabled=i.observable(!1);this.AzureApplicationLogsTableTraceLevel=i.observable(null);this.AzureApplicationLogsTableSasUrl=i.observable(null);this.AzureApplicationLogsBlobEnabled=i.observable(!1);this.AzureApplicationLogsBlobTraceLevel=i.observable(null);this.AzureApplicationLogsBlobSasUrl=i.observable(null);this.AzureApplicationLogsBlobRetentionInDays=i.observable(null);this.FileSystemHttpLogsEnabled=i.observable(!1);this.FileSystemHttpLogsRetentionInMb=i.observable(null);this.FileSystemHttpLogsRetentionInDays=i.observable(null);this.AzureHttpLogsBlobEnabled=i.observable(!1);this.AzureHttpLogsBlobSasUrl=
i.observable(null);this.AzureHttpLogsBlobRetentionInDays=i.observable(null);this.FailedRequestsTracingEnabled=i.observable(!1);this.DetailedErrorMessagesEnabled=i.observable(!1)}return n})();n.WebsiteLogsFormData=r})(r||(r={})),r}));define("WebsitesExtension/TypeScript/Ajax/Ajax.Config",["require","exports","f","ko","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/ViewModels/FormData/WebsiteLogsFormData","WebsitesExtension/TypeScript/Ajax/Ajax"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){function t(n,t){AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty();AntUx.Requires.Argument("siteId",t).notNull();var r=[],e=[],s=f.WebsiteResourceId.toCsmResourceId({SubscriptionId:n,Name:t.Name,ResourceGroup:t.ResourceGroup});return e.push(i.Base.Security.hasPermission(s,["./config/read"]).then((function(n){n&&r.push(u.ConfigDataType.general)}))),e.push(i.Base.Security.hasPermission(
s,["./config/list/action"]).then((function(n){n&&(r.push(u.ConfigDataType.connectionStrings),r.push(u.ConfigDataType.appSettings),r.push(u.ConfigDataType.stickySlotConfigNames),r.push(u.ConfigDataType.publishingCredential))}))),e.push(i.Base.Security.hasPermission(s,["./config/connectionStrings/action"]).then((function(n){n&&r.push(u.ConfigDataType.connectionStrings)}))),e.push(i.Base.Security.hasPermission(s,["./config/appSettings/action"]).then((function(n){n&&(r.push(u.ConfigDataType.appSettings),r.push(u.ConfigDataType.stickySlotConfigNames))}))),e.push(i.Base.Security.hasPermission(s,["./config/publishingCredential/action"]).then((function(n){n&&r.push(u.ConfigDataType.publishingCredential)}))),Q.all(e).then((function(){return o.post("GetConfig",{subscriptionId:n,siteId:t,dataTypes:r})}))}function s(n,t,i,r,u){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",t).notNullOrEmpty(),AntUx.Requires.Argument("productionSiteName",i).notNullOrEmpty(
),AntUx.Requires.Argument("targetSlotName",u).notNullOrEmpty(),o.post("GetSlotDiffs",{subscriptionId:n,resourceGroupName:t,productionSiteName:i,sourceSlotName:r,targetSlot:u})}function h(n,t){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("resourceGroupName",t).notNullOrEmpty(),o.post("ListCertificates",{subscriptionId:n,resourceGroupName:t})}function c(n,t){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNull(),o.post("GetApplicationDiagnosticsSettings",{subscriptionId:n,siteId:t})}function l(n,t){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNull(),o.post("ListInstalledSiteExtensions",{subscriptionId:n,siteId:t})}function a(n,t,i){return AntUx.Requires.Argument("resourceUri",n).notNullOrEmpty(),AntUx.Requires.Argument("location",t).notNull(),AntUx.Requires.Argument("settings",i).notNull(),i.ApplicationLoggingStorage&&i.ApplicationLoggingStorage(
)&&(i.AzureApplicationLogsBlobSasUrl(i.ApplicationLoggingStorage().sasUri()),i.AzureApplicationLogsBlobRetentionInDays(i.AzureApplicationLogsBlobRetentionInDays())),i.WebServerLoggingStorage&&i.WebServerLoggingStorage()&&i.AzureHttpLogsBlobSasUrl(i.WebServerLoggingStorage().sasUri()),i.WebServerLoggingOptions&&(i.WebServerLoggingOptions()===e.WebServerLoggingOption.FileSystem?(i.FileSystemHttpLogsEnabled(!0),i.FileSystemHttpLogsRetentionInMb(i.FileSystemHttpLogsRetentionInMb()),i.FileSystemHttpLogsRetentionInDays(i.FileSystemHttpLogsRetentionInDays()),i.AzureHttpLogsBlobEnabled(!1),i.AzureHttpLogsBlobSasUrl(null)):i.WebServerLoggingOptions()===e.WebServerLoggingOption.Storage?(i.AzureHttpLogsBlobEnabled(!0),i.FileSystemHttpLogsEnabled(null),i.AzureHttpLogsBlobRetentionInDays(i.AzureHttpLogsBlobRetentionInDays())):(i.FileSystemHttpLogsEnabled(null),i.AzureHttpLogsBlobEnabled(!1),i.AzureHttpLogsBlobSasUrl(null))),o.post("UpdateApplicationDiagnosticsSettings",{resourceUri:n,location:t,settings:
i})}function v(n,t,e,s){AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty();AntUx.Requires.Argument("siteId",t).notNull();AntUx.Requires.Argument("siteConfig",e).notNull();AntUx.Requires.Argument("location",s).notNull();var l=[],h=[],c=[],a=f.WebsiteResourceId.toCsmResourceId({SubscriptionId:n,Name:t.Name,ResourceGroup:t.ResourceGroup}),v={subscriptionId:n,siteId:t,siteConfig:r.toJS(e),location:s};return h.push(i.Base.Security.hasPermission(a,["./config/write"]).then((function(i){i&&(l.push(u.ConfigDataType.general),c.push(o.post("UpdateSiteConfigRoutingRules",{subscriptionId:n,siteId:t,siteConfig:r.toJS(e),location:s})))}))),Q.all(h).then((function(){return Q.all(c)}))}function y(n,t){return AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty(),AntUx.Requires.Argument("siteId",t).notNull(),o.post("GetStickySlotConfigNames",{subscriptionId:n,siteId:t})}function p(n,t,u,e){AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty();AntUx.Requires.Argument("siteId",t).notNull(
);AntUx.Requires.Argument("stickySlotConfigNames",u).notNull();AntUx.Requires.Argument("location",e).notNull();var c=f.WebsiteResourceId.toCsmResourceId({SubscriptionId:n,Name:t.Name,ResourceGroup:t.ResourceGroup}),h=!1,l=i.Base.Security.hasPermission(c,["./config/appSettings/write"]).then((function(n){h=n})),a={subscriptionId:n,siteId:t,slotConfigNames:r.toJS(u),location:e},s=Q.defer();return l.then((function(){h?o.post("UpdateStickySlotConfigNames",a).done((function(){s.resolve()})).fail((function(n){var t=n&&n.responseJSON&&n.responseJSON.Message?n.responseJSON.Message:"";s.reject(t)})):s.resolve()})),s.promise}function w(n,t,u,e,s){s===void 0&&(s=!1);AntUx.Requires.Argument("subscriptionId",n).notNullOrEmpty();AntUx.Requires.Argument("siteId",t).notNull();AntUx.Requires.Argument("siteConfig",u).notNull();AntUx.Requires.Argument("location",e).notNull();var c=[],y=f.WebsiteResourceId.toCsmResourceId({SubscriptionId:n,Name:t.Name,ResourceGroup:t.ResourceGroup}),h=!1,l=!1,a=!1;c.push(i.Base.Security.
hasPermission(y,["./config/write"]).then((function(n){h=n})));c.push(i.Base.Security.hasPermission(y,["./config/connectionStrings/write"]).then((function(n){a=n})));c.push(i.Base.Security.hasPermission(y,["./config/appSettings/write"]).then((function(n){l=n})));var p={subscriptionId:n,siteId:t,connectionStrings:r.toJS(u.ConnectionStrings()),location:e},w={subscriptionId:n,siteId:t,appSettings:r.toJS(u.AppSettings()),location:e},v={subscriptionId:n,siteId:t,siteConfig:r.toJS(u),location:e};return Q.all(c).then((function(){var n=Q.defer();return l&&a&&!s?o.post("UpdateConfigConnectionStrings",p).done((function(){o.post("UpdateConfigAppSettings",w).done((function(){h?o.post("UpdateSiteConfig",v).done((function(){n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)})):n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)}))})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.
Message?t.responseJSON.Message:"";n.reject(i)})):!l||a||s?!a||l||s?h?o.post("UpdateSiteConfig",v).done((function(){n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)})):n.resolve():o.post("UpdateConfigConnectionStrings",p).done((function(){h?o.post("UpdateSiteConfig",v).done((function(){n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)})):n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)})):o.post("UpdateConfigAppSettings",w).done((function(){h?o.post("UpdateSiteConfig",v).done((function(){n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)})):n.resolve()})).fail((function(t){var i=t&&t.responseJSON&&t.responseJSON.Message?t.responseJSON.Message:"";n.reject(i)})),n.promise}))}n.getWebsiteConfig=t;n.getSlotDiffs=s;n.getSslCertificates=h;n.getApplicationDiagnosticsSettings=
c;n.getInstalledSiteExtensions=l;n.updateApplicationDiagnosticsSettings=a;n.updateSiteConfigRoutingRules=v;n.getStickySlotConfigNames=y;n.updateStickySlotConfigNames=p;n.updateSiteConfig=w})(s||(s={})),s}));define("WebsitesExtension/TypeScript/ApiHub/ApiHubUtils",["require","exports","f","WebsitesExtension/TypeScript/ExtensionAssets/Constants","Websites/ClientResources/GeneralResources"],(function(n,t,i,r,u){"use strict";var f;return (function(n){function t(n){var t=n&&n.properties&&n.properties()&&n.properties().connectionParameters&&n.properties().connectionParameters(),i;if(t)for(i in t)if(t.hasOwnProperty(i)&&t[i]().type()==="oauthSetting")return!0;return!1}function f(n){var t=n&&n.properties&&n.properties();return t&&t.statuses&&t.statuses()&&t.statuses().length>0&&t.statuses()[0].status&&t.statuses()[0].status()===r.ApiHubConnectionStatus.Connected}function e(n){var t=n&&n.properties;return t&&t.statuses&&t.statuses.length>0&&t.statuses[0].status===r.ApiHubConnectionStatus.Connected}
function o(n){if(n.status()===r.ApiHubConnectionStatus.Error){var t=n.error&&n.error().code&&n.error().code();return t===r.ApiHubConnectionErrorCode.Unauthenticated?u.unauthenticated:u.errorStatus}return n.status()===r.ApiHubConnectionStatus.Connected?u.connected:n.status()}function s(n){if(n){n=window.atob(n);i.Base.Diagnostics.Log.writeEntry(2,"ApiHubs",n);var r={status:i.Hubs.Notifications.NotificationStatus.Error,title:u.ApiHub.errorAuthorizing,description:n},t=new i.Hubs.Notifications.ClientNotification(r);return t.percentComplete=100,t.publish(),!0}return!1}function h(n){return n.hasOwnProperty(r.ApiConnectionProperties.connectionParameters)?n.connectionParameters():{}}n.isOAuthApi=t;n.isConnectionAuthenticated=f;n.isConnectionAuthenticatedNoKo=e;n.getLocalizedStatus=o;n.isOauthError=s;n.getConnectionParametersFromApiProperties=h})(f||(f={})),f}));define("WebsitesExtension/TypeScript/ApiHub/ApiHubData",["require","exports","f","ko","WebsitesExtension/TypeScript/Utility/Utility.Urls",
"WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Ajax/Ajax","Websites/ClientResources/GeneralResources","WebsitesExtension/TypeScript/ApiHub/ApiHubUtils"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){var c=(function(){function n(){var n=this;this.connectionEditScope=i.Data.EditScopeCache.create({entityTypeName:"ApiHub.EditModels.DataModel",supplyExistingData:function(t,i){var f=Q.defer(),u={api:r.observable(null),isOAuth:r.observable(!1),connection:r.observable(null)};return Q.all([n.connection.fetch(t,i),]).then((function(t){var r=t[0].data();return u.connection(r),n.managedApi.fetch(r.properties().api().id(),i)})).then((function(n){var s=n.data().properties().hasOwnProperty(e.ApiConnectionProperties.generalInformation)?n.data():n.data(),o,i,t,c;u.api(s);o=r.toJS(h.getConnectionParametersFromApiProperties(s.properties()));i=u.connection();i.properties().parameterValues=r.observable(
{});for(t in o)o.hasOwnProperty(t)&&(c=o[t],i.properties().parameterValues()[t]=!i.properties().nonSecretParameterValues()[t]?r.observable(null):i.properties().nonSecretParameterValues()[t]);f.resolve(u)})).catch((function(n){f.reject(n)})),f.promise},saveEditScopeChanges:function(n,t){var s=Q.defer(),p=t.root.api(),u=t.root.connection(),c={name:u.name(),id:u.id(),location:u.location(),properties:{displayName:u.properties().displayName(),api:u.properties().api(),parameterValues:{}},tags:u.tags&&u.tags()},v=!1,y=h.getConnectionParametersFromApiProperties(p.properties()),l=u.properties().parameterValues(),o,a;for(o in l)l.hasOwnProperty(o)&&(a=l[o](),(a||y&&y[o]().type().toLowerCase()==="bool")&&(v=!0,c.properties.parameterValues[o]=a));return v||delete c.properties.parameterValues,f.callArm(n,"PUT",JSON.stringify(r.toJS(c)),e.Asset.ApiHubApiVersion).then((function(){s.resolve({action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges})}),(function(n){s.reject({action:i.Data.AcceptEditScopeChangesAction.
AcceptClientChanges,error:n})})),s.promise}});this.deletedConnectionUri=r.observable("");this.managedApis=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(),n,e.Asset.ApiHubApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.managedApi=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(),n,e.Asset.ApiHubApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.connectionsForApiAndLocation=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?$filter=location eq '{2}' and managedApiName eq '{3}'&api-version={4}".format(u.getCSMManagementEndpoint(),n.resourceUri,n.location,n.api,e.Asset.ApiHubApiVersion)},setAuthorizationHeader:!0,processServerResponse:
function(n){return{data:n.value}},extendEntryLifetimes:!0});this.connectionsForIds=new i.Data.QueryCache({entityTypeName:"CSMResource",serializeParams:function(n){return JSON.stringify(n)},supplyData:function(n,t,r,f,o){for(var c,l,h=[],s=0;s<o.length;s++)c="{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(),o[s],e.Asset.ApiHubApiVersion),l=i.Base.Net.ajax({uri:c,type:"GET",dataType:"json",cache:!1,setAuthorizationHeader:!0,contentType:"application/json"}),h.push(l);return Q.all(h).then((function(n){return n}))},extendEntryLifetimes:!0});this.connections=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(),n,e.Asset.ApiHubApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.connection=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(
),n,e.Asset.ApiHubApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0})}return n.prototype.createEmptyConnection=function(n,t,r){var u=Q.defer(),o=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(r),s={location:n,properties:{api:{id:t}}};return f.callArmJhr(r,"PUT",JSON.stringify(s),e.Asset.ApiHubApiVersion).then((function(n){u.resolve(n)})).catch((function(t){if(t.status===404){var h={location:n,properties:{}};f.callArmJhr(e.Asset.resourceGroupUriFormat.format(o.subscription,o.resourceGroup),"PUT",JSON.stringify(h),e.Asset.AntaresApiVersion).then((function(){return f.callArmJhr(r,"PUT",JSON.stringify(s),e.Asset.ApiHubApiVersion).then((function(n){u.resolve(n)}))})).catch((function(n){i.Base.Diagnostics.Log.writeEntry(2,"Failed to create unauthenticated connection: "+r,JSON.stringify(n));u.reject(n)}))}else i.Base.Diagnostics.Log.writeEntry(2,"Failed to create unauthenticated connection: "+r,JSON.stringify(t)),u.reject(t)})),
u.promise},n.prototype.getConnection=function(n){return f.callArmJhr(n,"GET",null,e.Asset.ApiHubApiVersion)},n.prototype.createConnection=function(n,t){return f.callArmJhr(n,"PUT",JSON.stringify(r.toJS(t)),e.Asset.ApiHubApiVersion)},n.prototype.deleteConnection=function(n){return f.callArmJhr(n,"DELETE",null,e.Asset.ApiHubApiVersion)},n.prototype.getConsentLink=function(n){return this.getDirectoryInfo().then((function(t){var i=n+"/listConsentLinks",r={parameters:[{tenantId:t.TenantId,objectId:t.ObjectId,parameterName:"token",redirectUrl:window.fx.environment.trustedParentOrigin+"/tokenauthorize"}]};return f.callArmJhr(i,"POST",JSON.stringify(r),e.Asset.ApiHubApiVersion)}))},n.prototype.confirmConsentCode=function(n,t){return this.getDirectoryInfo().then((function(i){var r=n+"/confirmConsentCode",u={code:t,tenantId:i.TenantId,objectId:i.ObjectId};return f.callArmJhr(r,"POST",JSON.stringify(u),e.Asset.ApiHubApiVersion)}))},n.prototype.getDirectoryInfo=function(){return o.post("GetDirectoryInfo")}
,n.prototype.isConnectionNameAvailable=function(n){var t=Q.defer(),i=f.callArmJhr(n,"GET",null,e.Asset.ApiHubApiVersion);return i.then((function(){t.resolve({valid:!1,message:s.ApiHub.connectionNotUnique})}),(function(){t.resolve({valid:!0,message:""})})),t.promise},n})(),t;n.ApiHubData=c;t={name:"ApiHub.EditModels.DataModel",properties:{content:null},entityType:!1,idProperties:["content"]};i.Data.Metadata.setTypeMetadata("ApiHub.EditModels.DataModel",t)})(c||(c={})),c}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Lazy",["require","exports","o"],(function(n,t,i){"use strict";return (function(){function n(n){if(this._isValueCreated=!1,!n)throw new Error("valueFactory cannot be null or undefined");this._valueFactory=n}return i.defineProperty(n.prototype,"value",{get:function(){return this._value||(this._value=this._valueFactory(),this._isValueCreated=!0),this._value},enumerable:!0,configurable:!0}),i.defineProperty(n.prototype,"isValueCreated",{get:function(){return this.
_isValueCreated},enumerable:!0,configurable:!0}),n})()}));define("WebsitesExtension/TypeScript/AppServiceDomains/Data/Data.Domain",["require","exports","f","o","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Website","WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Lazy"],(function(n,t,i,r,u,f,e,o,s){"use strict";r.defineProperty(t,"__esModule",{value:!0});var h=(function(){function n(){this.domainCache=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(),n,f.Asset.AseApiVersion)},httpMethod:"GET",serializeParams:function(n){return n},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.domainsCache=new i.Data.QueryCache({entityTypeName:"CSMResource",serializeParams:function(n){return JSON.
stringify(n)},supplyData:function(n,t,i,r,u){var s=Q.defer();return o.callArm("/subscriptions/"+u+"/providers/Microsoft.DomainRegistration/domains","GET",null,f.Asset.AseApiVersion).then((function(n){var t=n.value;s.resolve(t)}),(function(n){e.logTelemetry("DomainRegistration","GetDomainsList",JSON.stringify({error:n,subscriptionId:u}));s.resolve([])})),s.promise},extendEntryLifetimes:!0})}return r.defineProperty(n,"instance",{get:function(){return n._lazyWebsitesDataSingleton.value},enumerable:!0,configurable:!0}),n})();h._lazyWebsitesDataSingleton=new s(function(){return new h});t.DomainData=h;i.Data.Metadata.setTypeMetadata(AppService.DataModels.DomainType,{name:AppService.DataModels.DomainType,properties:{managedHostNames:{isArray:!0,itemType:AppService.DataModels.HostNameType}},entityType:!0});i.Data.Metadata.setTypeMetadata(AppService.DataModels.HostNameType,{name:AppService.DataModels.HostNameType,properties:{name:null,subDomain:null,azureResourceName:null,azureResourceType:null,customHostNameDnsRecordType:
null,hostNameType:null},entityType:!0})}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Models/PollStatus",["require","exports"],(function(){"use strict";var n;return (function(n){n[n.CompleteSuccess=0]="CompleteSuccess";n[n.CompleteFailure=1]="CompleteFailure";n[n.NotComplete=2]="NotComplete"})(n||(n={})),n}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/Polling",["require","exports","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Models/PollStatus"],(function(n,t,i,r){"use strict";var u=(function(){function n(){}return n.getPollingInterval=function(){return n._pollingIntervals.pollingInterval},n.getFastPollingInterval=function(){return n._pollingIntervals.fastPollingInterval},n.getSlowPollingInterval=function(){return n._pollingIntervals.slowPollingInterval},n.setPolling=function(n,t,u,f){f||(f=3);var o=0,e=i.Deferred(),s=function(){n().done((function(n){var i=t(n);i.status===r.CompleteSuccess?e.resolve(i.response):i.status===r.CompleteFailure?
e.reject(i.error):i.status===r.NotComplete&&setTimeout(s,u)})).fail((function(n){o++;o>f?e.reject(n):setTimeout(s,u*o)}))};return setTimeout(s,u),e.promise()},n})();return u.TwelveHoursInMilliseconds=432e5,u._pollingIntervals={pollingInterval:window.fx.environment.pollingInterval,fastPollingInterval:window.fx.environment.fastPollingInterval,slowPollingInterval:window.fx.environment.slowPollingInterval},u._twelveHoursInMilliseconds=432e5,u.NoPolling={pollingInterval:u.TwelveHoursInMilliseconds,fastPollingInterval:u.TwelveHoursInMilliseconds,slowPollingInterval:u.TwelveHoursInMilliseconds},u}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/ObjectEx",["require","exports","a"],(function(n,t,i){"use strict";return (function(){function n(){}return n.isObject=function(n){return n&&typeof n=="object"&&!(n instanceof Date)&&!i.isArray(n)},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/Json",["require","exports","a","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/ObjectEx"],
(function(n,t,i,r){"use strict";return (function(){function n(){}return n.stringifyOrdered=function(t){return r.isObject(t)?n._stringifyObjectOrdered(t):i.isArray(t)?n._stringifyArrayOrdered(t):JSON.stringify(t)},n._stringifyObjectOrdered=function(t){var r=[],i,u;for(i in t)t.hasOwnProperty(i)&&r.push({key:i,value:t[i]});return r.sort((function(n,t){return n.key<t.key?-1:1})),u=r.map((function(t){return'"'+t.key+'":'+n.stringifyOrdered(t.value)})),"{"+u.join(",")+"}"},n._stringifyArrayOrdered=function(t){var i=t.map((function(t){return n.stringifyOrdered(t)}));return"["+i.join(",")+"]"},n})()}));__extends=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader",
["require","exports","f","o","ko","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Net/AjaxOld","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/Polling","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/Json","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/ObjectEx"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";return (function(n){function t(i){var r=this,u;return i.pollInterval||(i.pollInterval=o.getSlowPollingInterval()),typeof i.evictionDelay=="undefined"&&(i.evictionDelay=window.fx.environment.cacheEvictionDelay),i.supplyData||(i.supplyData=t.defaultSupplyData),AntUx.StringEx.equals(i.httpMethod||"GET","GET",AntUx.StringComparison.IgnoreCase)||(i.requestBody||(i.requestBody=function(n){return n}),i.supplyData||(i.supplyData=t.defaultSupplyData),u=i.supplyData,i.supplyData=function(n,t,i,e,o,s){var c=r.config.requestBody(o);return h.isObject(c)&&(e=e||{},f.extend(e,c)),u(n,t,i,e,o,s)}),r=n.call(this,i)||this,r.config=i,r}return __extends(
t,n),t.prototype.serializeParams=function(t){if(this.config.serializeParams)return this.config.serializeParams(t);var i=n.prototype.serializeParams.call(this,t)||"";return this._isHttpPutOrPost()&&t&&(i="{0} - {1}".format(i,s.stringifyOrdered(u.toJS(t)))),i.toUpperCase()},t.prototype._isHttpPutOrPost=function(){var n=this.config.httpMethod||"GET";return!AntUx.StringEx.equals(n,"GET",AntUx.StringComparison.IgnoreCase)},t.defaultSupplyData=function(n,t,i,r){return e.cachedAjax(t,{type:n,headers:i,data:r})},t.addItemToQueryView=function(n,t){var i=n._loadedCacheEntry();!n.loading()&&i&&i.data&&i.data.push(t)},t.removeItemFromQueryView=function(n,t){var i=n._loadedCacheEntry();!n.loading()&&i&&i.data&&i.data.remove(t)},t.defaultFetchData=function(n,i,r,u,f){return t.defaultSupplyData(f,i,u,r)},t})(i.Data.DataCacheLoader)}));define("WebsitesExtension/TypeScript/AppServiceEnvironment/Data/ASEData",["require","exports","f","o","ko","WebsitesExtension/TypeScript/AppServiceEnvironment/Models/ASEModels",
"WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Ajax/Ajax.ASE","WebsitesExtension/TypeScript/Ajax/Ajax","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader","WebsitesExtension/TypeScript/Helpers/ArmHelpers"],(function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";r.defineProperty(t,"__esModule",{value:!0});var a=(function(){function n(){var n=this;this.aseCache=new i.Data.EntityCache({loader:new c({httpMethod:"POST",poll:!0,pollInterval:6e4,sourceUri:function(){return"/api/Websites/GetHostingEnvironment"},requestBody:function(n){return{ResourceUri:n}}})});this.aseDataLightweightCache=new i.Data.QueryCache({entityTypeName:"CSMCachedResource",sourceUri:function(n){return e.Asset.lightweightAseQuery.format(h.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.aseDataQueryCache=new i.Data.QueryCache(
{entityTypeName:"CSMResource",sourceUri:function(n){return e.Asset.hostingEnvironmentQueryUriTemplate.format(h.getCSMManagementEndpoint(),n,e.Asset.AseApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.aseEditScopeCache=i.Data.EditScopeCache.create({saveEditScopeChanges:function(n,t){return o.updateHostingEnvironment(n,t.root).then((function(){return{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}}),(function(){return{action:i.Data.AcceptEditScopeChangesAction.DiscardClientChanges}}))},supplyExistingData:function(t,i){return n._fetchExistingData(t,i)},refreshEditScope:function(t,i){return n._fetchExistingData(t,i)}});this.FrontEndScaleEditScopeCache=i.Data.EditScopeCache.create({saveEditScopeChanges:function(t,r,u,f){var e=n.aseCache.createView(f);return e.fetch(t).then((function(){var n=e.item(),u;return n.MultiSize(r.root.SkuSelection().selectedSpecId),n.FrontEndScaleFactor(r.root.FrontEndScaleFactor(
)),u={Kind:n.Kind,Id:n.Id,Location:n.Location,Status:n.Status,Name:n.Name,ResourceGroup:n.ResourceGroup,FrontEndScaleFactor:n.FrontEndScaleFactor,MultiSize:n.MultiSize,MultiRoleCount:null,WorkerPools:null,IPSSLAddressCount:null,EnvironmentIsHealthy:null,EnvironmentStatus:null,Suspended:null,ApiManagementAccountId:null,InternalLoadBalancingMode:n.InternalLoadBalancingMode,ClusterSettings:null},o.updateHostingEnvironment(t,u).then((function(){return{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}}),(function(){return{action:i.Data.AcceptEditScopeChangesAction.DiscardClientChanges}}))}))},supplyExistingData:function(t,i){var r=Q.defer(),u=n.aseCache.createView(i);return u.fetch(t).then((function(){r.resolve(new f.FrontEndScaleEditScopeModel(u.item()))})),r.promise},refreshEditScope:function(t,i){var u=Q.defer(),r=n.aseCache.createView(i);return r.fetch(t),r.refresh().then((function(){u.resolve(new f.FrontEndScaleEditScopeModel(r.item()))})),u.promise}});this.aseVIPCache=new i.Data.
EntityCache({loader:new c({httpMethod:"POST",poll:!0,pollInterval:6e4,sourceUri:function(){return"/api/Websites/GetHostingEnvironmentVIPs"},requestBody:function(n){return{ResourceUri:n}}})});this.frontEndCache=new i.Data.EntityCache({loader:new c({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetFrontEnd"},requestBody:function(n){return{ResourceUri:n}}})});this.HostNameAvailable=new i.Data.EntityCache({entityTypeName:"boolean",sourceUri:function(n){return e.Asset.hostNameAvailableUriTemplate.format(h.getCSMManagementEndpoint(),n.subscriptionId,n.Name,e.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.properties;return{data:t}},extendEntryLifetimes:!0});this.IlbCertificatesCache=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(h.getCSMManagementEndpoint(),n,e.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});
this.vnetV2Cache=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return h.getCSMManagementEndpoint()+"/subscriptions/"+n+"/providers/Microsoft.Network/virtualNetworks?api-version=2015-06-15"},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value,r=t.map((function(n){var t=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(n.id);return{name:n.name,id:n.id,location:n.location,subscriptionId:t.subscription,resourceGroup:t.resourceGroup,addressSpace:n.properties.addressSpace,provisioningState:n.properties.provisioningState,subnets:n.properties.subnets.map((function(n){return{name:n.name,addressPrefix:n.properties.addressPrefix}})),version:e.Create.v2vnet}}));return{data:r}}});this.vnetV1Cache=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return h.getCSMManagementEndpoint()+"/subscriptions/"+n+"/providers/microsoft.classicnetwork/virtualNetworks?api-version=2015-06-01"},setAuthorizationHeader:!0,processServerResponse:
function(n){var t=n.value,r=t.map((function(n){var t=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(n.id);return{name:n.name,id:n.id,location:n.location,subscriptionId:t.subscription,resourceGroup:t.resourceGroup,gatewayProvisionState:"",addressSpace:n.properties.addressSpace,provisioningState:n.properties.provisioningState,subnets:n.properties.subnets,version:e.Create.v1vnet}}));return{data:r}}});this.aseCountsForIds=new i.Data.QueryCache({entityTypeName:"CSMResource",serializeParams:function(n){return JSON.stringify(n)},supplyData:function(t,i,r,f,o){for(var a,v,l=[],s=[],h={},c=0;c<o.length;c++)h[o[c]]={id:u.observable(o[c]),siteCount:u.observable(0),serverFarmCount:u.observable(0)},a=o[c]+"/sites?api-version="+e.Asset.AntaresApiVersion,s.push({httpMethod:"GET",relativeUrl:a}),s.length===20&&(l.push(n._getCounts(s,h)),s=[]),v=o[c]+"/serverFarms?api-version="+e.Asset.AntaresApiVersion,s.push({httpMethod:"GET",relativeUrl:v}),s.length===20&&(l.push(n._getCounts(s,h)),s=[]);
return s.length>0&&l.push(n._getCounts(s,h)),Q.all(l).then((function(){var n=[];for(var t in h)n.push(h[t]);return n}))},extendEntryLifetimes:!0});this.AseHealthInboundCache=new i.Data.EntityCache({sourceUri:function(n){return"{0}{1}/inboundnetworkdependenciesendpoints?api-version={2}".format(h.getCSMManagementEndpoint(),n,e.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.AseHealthOutboundCache=new i.Data.EntityCache({sourceUri:function(n){return"{0}{1}/outboundnetworkdependenciesendpoints?api-version={2}".format(h.getCSMManagementEndpoint(),n,e.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0})}return n.prototype._fetchExistingData=function(n,t){var r=Q.defer(),i=this.aseCache.createView(t);return i.fetch(n),i.refresh().then((function(){var n=i.item();r.resolve(n)})),r.promise},n.prototype._getCounts=function(n,t){var i=JSON.stringify(
{requests:n});return l.callArmJhr("/batch","POST",i,e.Asset.ArmApiVersion).then((function(n){n.responses.forEach((function(n){if(n.httpStatusCode===200&&n.content.value.length>0){var r=n.content.value[0],u=n.content.value.length,f=r.type.toLowerCase()==="microsoft.web/sites",e=r.properties.hostingEnvironmentId,i=t[e];i&&(f?i.siteCount(u):i.serverFarmCount(u))}}))}))},n.prototype.addCertificateFromILB=function(n,t,r,u,f,e,o){o===void 0&&(o="");var h=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(e);return s.post("AddCertificateFromILB",{subscriptionId:u,resourceGroupName:f,base64EncodedCertificate:n,password:t,location:o,ILBDomain:r,hostingEnvironmentProfile:{Id:e,Name:h.resource,Type:"Microsoft.Web/HostingEnvironments"}})},n})();t.ASEData=a}));define("WebsitesExtension/TypeScript/ContinuousDeployment/Data/ScmData",["require","exports","f","WebsitesExtension/TypeScript/Ajax/Ajax","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader","WebsitesExtension/TypeScript/Helpers/ArmHelpers",
"WebsitesExtension/TypeScript/ExtensionAssets/Constants"],(function(n,t,i,r,u,f,e){"use strict";var o;return (function(n){var o=window,s=(function(){function n(){this.mainBranchCache=new i.Data.EntityCache({loader:new u({httpMethod:"POST",poll:!1,sourceUri:function(){return"/api/Websites/GetMainBranch"},requestBody:function(n){return{UserName:n.UserName,ScmType:n.ScmType,RepoName:n.RepoName,RepoUrl:n.RepoUrl,Organization:n.Organization,SubscriptionId:n.SubscriptionId}}})});this.reposCache=new i.Data.QueryCache({loader:new u({httpMethod:"POST",poll:!1,sourceUri:function(){return"/api/Websites/ListScmRepos"},requestBody:function(n){return n}})});this.branchesCache=new i.Data.QueryCache({loader:new u({httpMethod:"POST",poll:!1,sourceUri:function(){return"/api/Websites/ListScmBranches"},requestBody:function(n){return{UserName:n.UserName,ScmType:n.ScmType,RepoName:n.RepoName,RepoUrl:n.RepoUrl,Organization:n.Organization,SubscriptionId:n.SubscriptionId}}})});this.deploymentsCache=new i.Data.QueryCache(
{loader:new u({entityTypeName:"WebsiteExtension.Models.ContinuousDeployment.ScmDeployment",httpMethod:"POST",sourceUri:function(){return"/api/Websites/KuduListDeployments"},requestBody:function(n){return{SubscriptionId:n.SubscriptionId,SiteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}},poll:!0,pollInterval:3e4})});this.deploymentLogsCache=new i.Data.QueryCache({loader:new u({entityTypeName:"WebsiteExtension.Models.ContinuousDeployment.ScmDeploymentLog",httpMethod:"POST",sourceUri:function(){return"/api/Websites/KuduListDeploymentLogs"}})});this.deploymentLogDetailsCache=new i.Data.QueryCache({loader:new u({entityTypeName:"WebsiteExtension.Models.ContinuousDeployment.ScmDeploymentLog",httpMethod:"POST",sourceUri:function(){return"/api/Websites/KuduListDeploymentLogDetails"}})});this.filesCache=new i.Data.QueryCache({entityTypeName:"string",sourceUri:function(n){return"https://{0}/api/vfs/site/wwwroot/".format(n)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:
n}},extendEntryLifetimes:!0});this.systemDetailsCache=new i.Data.EntityCache({entityTypeName:"string",sourceUri:function(n){return"https://{0}/api/diagnostics/runtime/".format(n)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.deploymentLogDetailsScmCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.Models.ContinuousDeployment.ScmDeploymentLog",sourceUri:function(n){return"https://{0}/api/deployments/{1}/log/{2}".format(n.scmHostName,n.deploymentId,n.logId)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0})}return n.prototype.getUnconfiguredScmTypes=function(){return Q(r.post("GetUnconfiguredScmTypes",{ShellUrl:o.fx.environment.trustedParentOrigin}))},n.prototype.setupOAuth=function(n){return Q(r.post("SetupOAuth",{ScmType:n.ScmType,CallbackUrl:n.CallbackUrl,AuthUrl:n.AuthUrl,SetupToken:n.SetupToken,SetupTokenSecret:n.SetupTokenSecret,SiteName:n.SiteName,SubscriptionId:
n.SubscriptionId,ShellUrl:o.fx.environment.trustedParentOrigin}))},n.prototype.unlinkTfs=function(n){var t=n+"/config/web";return Q(f.callArmJhr(t)).then((function(n){return n.properties={scmType:"None"},f.callArmJhr(t,"PATCH",JSON.stringify(n),e.Asset.SiteConfigApiVersion)})).then((function(){return f.callArmJhr(n+"/config/metadata/list","POST")})).then((function(t){return delete t.properties.tfslinkacct,delete t.properties.tfslinkbuilddef,delete t.properties.tfslinkproj,f.callArmJhr(n+"/config/metadata","PUT",JSON.stringify(t))}))},n.prototype.callScmRoot=function(n){return f.callArmFullUri("https://{0}".format(n))},n})(),t;n.ScmData=s;t={name:"WebsiteExtension.Models.ContinuousDeployment.ScmDeployment",properties:{id:{isArray:!1,itemType:null,persistEdits:!0},status:{isArray:!1,itemType:null,persistEdits:!0},status_text:{isArray:!1,itemType:null,persistEdits:!0},author_email:{isArray:!1,itemType:null,persistEdits:!0},author:{isArray:!1,itemType:null,persistEdits:!1},deployer:{isArray:!1,itemType:
null,persistEdits:!1},message:{isArray:!1,itemType:null,persistEdits:!1},progress:{isArray:!1,itemType:null,persistEdits:!1},received_time:{isArray:!1,itemType:null,persistEdits:!1},start_time:{isArray:!1,itemType:null,persistEdits:!1},end_time:{isArray:!1,itemType:null,persistEdits:!1},last_success_end_time:{isArray:!1,itemType:null,persistEdits:!1},complete:{isArray:!1,itemType:null,persistEdits:!1},active:{isArray:!1,itemType:null,persistEdits:!1},url:{isArray:!1,itemType:null,persistEdits:!1},log_url:{isArray:!1,itemType:null,persistEdits:!1},is_readonly:{isArray:!1,itemType:null,persistEdits:!1},resourceUri:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:["id","end_time","active"],entityType:!0};i.Data.Metadata.setTypeMetadata(t.name,t);i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.ContinuousDeployment.ScmDeploymentLog",{name:"WebsiteExtension.Models.ContinuousDeployment.ScmDeploymentLog",properties:{type:{isArray:!1,itemType:null,persistEdits:!0},log_time:{isArray:
!1,itemType:null,persistEdits:!0},message:{isArray:!1,itemType:null,persistEdits:!0},id:{isArray:!1,itemType:null,persistEdits:!0},details_url:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:["id"],entityType:!0});i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.ContinuousDeployment.ScmInfo",{name:"WebsiteExtension.Models.ContinuousDeployment.ScmInfo",properties:{ScmType:{isArray:!1,itemType:null,persistEdits:!0},ScmUri:{isArray:!1,itemType:null,persistEdits:!0},RepositoryUri:{isArray:!1,itemType:null,persistEdits:!0},GitUriFormat:{isArray:!1,itemType:null,persistEdits:!0},PublishingUsername:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:["ScmType"],entityType:!0})})(o||(o={})),o}));define("WebsitesExtension/TypeScript/CustomContainer/CustomContainerModels",["require","exports","o","ko"],(function(n,t,i,r){"use strict";var u,f,e,o,s;i.defineProperty(t,"__esModule",{value:!0});u=(function(){function n(){this.containerSource=r.observable(e.builtin);this.dockerContainerSource=
r.observable(o.custom);this.kubeContainerSource=r.observable(s.custom);this.containerSettingsOption=r.observable(f.singleContainer);this.isPublicDockerHubRepo=r.observable(!0);this.linuxFxVersion=r.observable(null);this.imageName=r.observable(null);this.serverUrl=r.observable(null);this.username=r.observable(null);this.password=r.observable(null);this.runtimeStack=r.observable(null);this.appCommandLine=r.observable(null);this.isXenon=r.observable(!1);this.acrRegistery=r.observable("");this.acrUserName=r.observable("");this.acrPassword=r.observable("");this.acrImage=r.observable("");this.acrTag=r.observable("");this.ciEnabled=r.observable(!1);this.webHookUrl=r.observable("");this.dockerComposeConfiguration=r.observable(null);this.kubernetesConfiguration=r.observable(null)}return n})();t.ContainerInfo=u,(function(n){n[n.singleContainer=0]="singleContainer";n[n.dockerCompose=1]="dockerCompose";n[n.kubernetes=2]="kubernetes"})(f=t.ContainerSettingsOption||(t.ContainerSettingsOption={})),(function(
n){n[n.builtin=0]="builtin";n[n.dockerHub=1]="dockerHub";n[n.privateRegistry=2]="privateRegistry";n[n.acr=3]="acr";n[n.quickStart=4]="quickStart"})(e=t.ContainerSource||(t.ContainerSource={})),(function(n){n[n.quickStart=0]="quickStart";n[n.custom=1]="custom"})(o=t.DockerComposeSource||(t.DockerComposeSource={})),(function(n){n[n.quickStart=0]="quickStart";n[n.custom=1]="custom"})(s=t.KubeSource||(t.KubeSource={}))}));define("WebsitesExtension/TypeScript/CustomContainer/CustomContainerData",["require","exports","f","o","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/CustomContainer/CustomContainerModels"],(function(n,t,i,r,u,f){"use strict";var e,o;r.defineProperty(t,"__esModule",{value:!0});e=(function(){function n(n){var t=this;this._dataContext=n;this.customContainerCache=i.Data.EditScopeCache.create({entityTypeName:"CustomContainerModels.ContainerInfo",supplyExistingData:function(n,i){return t._fetchCustomContainerData(n,i)},refreshEditScope:function(
n,i){return t._fetchCustomContainerData(n,i)},saveEditScopeChanges:function(n,r){return Q.all([t._dataContext.websiteDataConfig.getAppSettings(n),t._dataContext.websiteDataConfig.getSiteConfig(n)]).then((function(i){var e=r.root,s=i[0],h=s.properties,o=i[1],c;if(e.containerSettingsOption()===f.ContainerSettingsOption.singleContainer){if(e.containerSource()===f.ContainerSource.builtin)return t._deleteCustomContainerAppSettings(h),Q.all([t._dataContext.websiteDataConfig.updateAppSettings(n,s),t._updateStackSettings(n,e)]);o.properties.appCommandLine=e.appCommandLine();c=e.containerSource()===f.ContainerSource.acr?e.acrImage()+":"+e.acrTag():e.imageName();t._setFxVersion(o,u.Docker.docker,c);Q.all([t._dataContext.websiteDataConfig.updateSiteConfig(n,o),t._setCustomContainerAppSettings(e,h)])}return e.containerSettingsOption()===f.ContainerSettingsOption.kubernetes&&(t._setFxVersion(o,u.Docker.kubernetes,e.kubernetesConfiguration()),Q.all([t._dataContext.websiteDataConfig.updateSiteConfig(n,
o),])),e.containerSettingsOption()===f.ContainerSettingsOption.dockerCompose&&(t._setFxVersion(o,u.Docker.compose,e.dockerComposeConfiguration()),Q.all([t._dataContext.websiteDataConfig.updateSiteConfig(n,o),])),t._dataContext.websiteDataConfig.updateAppSettings(n,s)})).then((function(){return{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}})).catch((function(){return{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}}))}})}return n.prototype._fetchCustomContainerData=function(n,t){var r=new f.ContainerInfo;return Q.all([this._dataContext.websiteDataConfig.getAppSettings(n),this._dataContext.websiteDataConfig.getSiteConfig(n),this._dataContext.websiteDataConfig.publishingCredentialsCache.fetch(n,t)]).then((function(t){var e=t[0].properties,s=t[1].properties,v=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(n),y=v.resourceMap["Microsoft.Web/sites"],p=v.resourceMap["Microsoft.Web/sites/slots"],d=p?y+"-"+p:y,w=t[2].data(),o,h,c,b,a,k,l;if(r.webHookUrl("https://"+
w.properties().publishingUserName()+":"+w.properties().publishingPassword()+"@"+d+".scm.azurewebsites.net/docker/hook"),o=null,s.linuxFxVersion?o=s.linuxFxVersion:s.windowsFxVersion&&(r.isXenon(!0),o=s.windowsFxVersion),o)if(h=o.split("|")[0],c=o.split("|")[1],h.toLowerCase()==="docker")r.imageName(c);else if(h.toLowerCase()==="compose")r.dockerComposeConfiguration(c),r.dockerContainerSource(f.DockerComposeSource.custom);else if(h.toLowerCase()==="kube")r.kubernetesConfiguration(c),r.kubeContainerSource(f.KubeSource.custom);else return b=o.replace("|","_"),r.runtimeStack(b.toLowerCase()),r.containerSource(f.ContainerSource.builtin),r.appCommandLine(s.appCommandLine),r;else r.imageName(e[u.Docker.imageNameSetting]);return r.serverUrl(e[u.Docker.serverUrlSetting]),r.username(e[u.Docker.usernameSetting]),r.password(e[u.Docker.passwordSetting]),r.appCommandLine(s.appCommandLine),r.ciEnabled(e[u.Docker.enableCISetting]==="true"),r.containerSource()||r.containerSource(f.ContainerSource.dockerHub),
r.serverUrl()?(a=new i.Base.UriBuilder(r.serverUrl()).getAuthority().toLowerCase(),k=new i.Base.UriBuilder(u.Docker.dockerHubUrl).getAuthority().toLowerCase(),a===k?(r.containerSource(f.ContainerSource.dockerHub),r.isPublicDockerHubRepo(!r.username())):a.split(".")[1]===u.Docker.acrUriBody?(r.containerSource(f.ContainerSource.acr),r.acrRegistery(r.serverUrl()),r.acrPassword(e[u.Docker.passwordSetting]),r.acrUserName(e[u.Docker.usernameSetting]),r.imageName()&&(l=r.imageName().split(":"),r.acrImage(l[0]),l.length>1&&r.acrTag(l[1]))):r.containerSource(f.ContainerSource.privateRegistry)):r.isPublicDockerHubRepo(!r.username()),r}))},n.prototype._updateStackSettings=function(n,t){var i=this;return this._dataContext.websiteDataConfig.getSiteConfig(n).then((function(r){var o=t.runtimeStack().split("_"),f=o[0].toLowerCase(),e=o[1];return f===u.AvailableStacks.NodeStackName||f===u.AvailableStacks.PhpStackName||f===u.AvailableStacks.RubyStackName?(r.properties.nodeVersion=null,r.properties.phpVersion=
"",i._setFxVersion(r,f,e),r.properties.netFrameworkVersion=u.NetFrameworkVersion.v4_0):(r.properties.nodeVersion=null,i._setFxVersion(r,f,e),r.properties.phpVersion="",r.properties.netFrameworkVersion=e),r.properties.appCommandLine=t.appCommandLine(),i._dataContext.websiteDataConfig.updateSiteConfig(n,r)}))},n.prototype._setFxVersion=function(n,t,i){n.properties.linuxFxVersion?n.properties.linuxFxVersion=u.LinuxStackVersions.LinuxFxVersion.format(t,i):n.properties.windowsFxVersion&&(n.properties.windowsFxVersion=u.XenonStackVersion.WindowsFxVersion.format(t,i))},n.prototype._setCustomContainerAppSettings=function(n,t){if(delete t[u.Docker.imageNameSetting],delete t[u.Docker.enableCISetting],n.containerSource()===f.ContainerSource.quickStart)delete t[u.Docker.serverUrlSetting],delete t[u.Docker.usernameSetting],delete t[u.Docker.passwordSetting];else if(n.containerSource()===f.ContainerSource.dockerHub)delete t[u.Docker.serverUrlSetting],n.isPublicDockerHubRepo()?(delete t[u.Docker.usernameSetting],
delete t[u.Docker.passwordSetting]):(t[u.Docker.usernameSetting]=n.username(),t[u.Docker.passwordSetting]=n.password()),n.ciEnabled()&&(t[u.Docker.enableCISetting]="true");else if(n.containerSource()===f.ContainerSource.acr)n.acrRegistery()?t[u.Docker.serverUrlSetting]="https://"+n.acrRegistery():delete t[u.Docker.serverUrlSetting],n.acrUserName()?t[u.Docker.usernameSetting]=n.acrUserName():delete t[u.Docker.usernameSetting],n.acrPassword()?t[u.Docker.passwordSetting]=n.acrPassword():delete t[u.Docker.passwordSetting],n.ciEnabled()&&(t[u.Docker.enableCISetting]="true");else if(n.containerSource()===f.ContainerSource.privateRegistry)n.serverUrl()?t[u.Docker.serverUrlSetting]=n.serverUrl():delete t[u.Docker.serverUrlSetting],n.username()?t[u.Docker.usernameSetting]=n.username():delete t[u.Docker.usernameSetting],n.password()?t[u.Docker.passwordSetting]=n.password():delete t[u.Docker.passwordSetting];else throw Error("Should not be setting custom container settings for a Built-in source!");
},n.prototype._deleteCustomContainerAppSettings=function(n){delete n[u.Docker.imageNameSetting];delete n[u.Docker.serverUrlSetting];delete n[u.Docker.usernameSetting];delete n[u.Docker.passwordSetting];delete n[u.Docker.runCommandSetting]},n})();t.CustomContainerData=e;o={name:"CustomContainerModels.ContainerInfo",properties:{}};i.Data.Metadata.setTypeMetadata("CustomContainerModels.ContainerInfo",o)}));define("WebsitesExtension/TypeScript/Data/Data.AzureContainers",["require","exports","f","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/Environment/RuntimeType"],(function(n,t,i,r,u){"use strict";var f;return (function(n){var t=(function(){function n(){this.ACRListCache=u.isOnPrem()?new i.Data.QueryCache({sourceUri:function(){return"doesn't matter"},supplyData:function(){return Q({data:[]})}}):new i.Data.QueryCache({sourceUri:function(n){return r.getCSMManagementEndpoint()+"/subscriptions/"+n+"/providers/Microsoft.ContainerRegistry/registries?api-version=2017-03-01"}
,setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value;return{data:t}},extendEntryLifetimes:!0});this.ACRCredCache=new i.Data.EntityCache({sourceUri:function(n){return""+r.getCSMManagementEndpoint()+n+"/listCredentials?api-version=2017-03-01"},setAuthorizationHeader:!0,httpMethod:"POST",processServerResponse:function(n){var t={username:"",password:""};return!n.username||(t.username=n.username,t.password=n.passwords.first().value),{data:t}},extendEntryLifetimes:!0,serializeParams:function(n){return n}});this.ACRRepoCache=new i.Data.QueryCache({sourceUri:function(){return"/api/Websites/GetACRRepos"},supplyData:function(n,t,r,u,f){return i.Base.Net.ajax({uri:t,type:"POST",dataType:"json",cache:!1,headers:r,setAuthorizationHeader:!0,data:JSON.stringify(f),contentType:"application/json"}).then((function(n){var t=JSON.parse(n);return t.repositories}))},serializeParams:function(n){return n.endpoint},extendEntryLifetimes:!0});this.ACRTagCache=new i.Data.QueryCache({sourceUri:
function(){return"/api/Websites/GetACRTags"},supplyData:function(n,t,r,u,f){return i.Base.Net.ajax({uri:t,type:"POST",dataType:"json",cache:!1,headers:r,setAuthorizationHeader:!0,data:JSON.stringify(f),contentType:"application/json"}).then((function(n){var t=JSON.parse(n);return t.tags}))},serializeParams:function(n){return n.endpoint+n.image},extendEntryLifetimes:!0})}return n})();n.AzureContainer=t})(f||(f={})),f}));define("WebsitesExtension/TypeScript/Data/Data.DocDB",["require","exports","f","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Urls"],(function(n,t,i,r,u){"use strict";var f;return (function(n){var t=(function(){function n(){this.docDbAccountsForSub=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}/subscriptions/{1}/providers/microsoft.documentdb/databaseAccounts?api-version={2}".format(u.getCSMManagementEndpoint(),n,r.Asset.docDbApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(
n){return{data:n.value}},extendEntryLifetimes:!0});this.docDbAccount=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}?api-version={2}".format(u.getCSMManagementEndpoint(),n,r.Asset.docDbApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.docDbAccountKeys=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}/listKeys?api-version={2}".format(u.getCSMManagementEndpoint(),n,r.Asset.docDbApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0,httpMethod:"POST",serializeParams:function(n){return n}})}return n})();n.DocDbData=t})(f||(f={})),f}));define("WebsitesExtension/TypeScript/Data/Data.HybridConnections",["require","exports","f","ko","WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Models/WebsiteResourceId",
"WebsitesExtension/TypeScript/Utility/Utility.Urls"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){var t=(function(){function n(){this.GetAppHybridConnectionsList=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.AppHybridConnectionValue",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/hybridConnectionRelays?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.GetHybridConnection=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.AppHybridConnection",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}}});this.GetHybridConnectionPlanLimits=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.AppHybridConnections",poll:!1,extendEntryLifetimes:
!0,sourceUri:function(n){return"{0}{1}/hybridConnectionPlanLimits/limit?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}}});this.GetAllServiceBusNamespacesForSub=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.ServiceBusNamespaces",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}/subscriptions/{1}/providers/Microsoft.Relay/namespaces?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.GetAllHybridConnectionsForNamespace=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.AppHybridConnection",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/hybridConnections?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}
});this.aspHybridConnectionsRelays=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.AppHybridConnectionValue",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/hybridConnectionRelays?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.getSitesUsingHcInAsp=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.AppHybridConnection",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/sites?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.getHybridConnectionDetailsInAsp=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.AppHybridConnection",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.ArmApiVersion)},setAuthorizationHeader:
!0,processServerResponse:function(n){return{data:n}}});this.selectedAspHybridConnectionProperties=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.AppHybridConnectionValue",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}}});this.getAuthorizationRulesForHybridConnection=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.HybridConnectionAuthorizationRulesValue",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/authorizationRules?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.getAuthorizationRulesForNamespace=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.HybridConnectionAuthorizationRulesValue",poll:!1,extendEntryLifetimes:!0,sourceUri:function(
n){var t=n.substring(0,n.toLowerCase().indexOf("/hybridconnections/"));return"{0}/{1}/authorizationRules?api-version={2}".format(o.getCSMManagementEndpoint(),t,f.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.getAllAvailableNamespaces=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.ServiceBusNamespaces",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/providers/Microsoft.Relay/namespacess?api-version={2}".format(o.getCSMManagementEndpoint(),n,f.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}})}return n.prototype.getAllHybridConnectionsForNamespace=function(n){var t="{0}/hybridConnections".format(n);return u.callArm(t,"GET","",f.Asset.ArmApiVersion)},n.prototype.getStatusOfServicebusHybridConnection=function(n){var t="{0}".format(n);return u.callArm(n,"GET","",f.Asset.ArmApiVersion)},n.prototype.listKeysForHybridConnection=function(n){var
t="{0}/listKeys".format(n);return u.callArm(t,"POST","",f.Asset.ArmApiVersion)},n.prototype.createSendKey=function(n,t){var i="{0}/authorizationRules/defaultSender".format(n);return u.callArm(i,"PUT",r.toJSON({id:i,name:"defaultSender",type:"Microsoft.Relay/HybridConnections/AuthorizationRules",location:t,tags:null,properties:{rights:["Send"]}}),f.Asset.ArmApiVersion)},n.prototype.createListenKey=function(n,t){var i="{0}/authorizationRules/defaultListener".format(n);return u.callArm(i,"PUT",r.toJSON({id:i,name:"defaultListener",type:"Microsoft.Relay/HybridConnections/AuthorizationRules",location:t,tags:null,properties:{rights:["Listen"]}}),f.Asset.ArmApiVersion)},n.prototype.deleteServiceBusHybridConnection=function(n){return u.callArm(n,"DELETE","",f.Asset.AntaresApiVersion)},n.prototype.addServicebusHybridConnection=function(n,t,i,e){var o="{0}/hybridConnectionNamespaces/{1}/relays/{2}".format(n,t,i);return u.callArm(o,"PUT",r.toJSON(e),f.Asset.AntaresApiVersion)},n.prototype.createServiceBusNamespace=
function(n,t,i,e){var o="/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.Relay/namespaces/{2}".format(n,t,i);return u.callArm(o,"PUT",r.toJSON({location:e}),f.Asset.ArmApiVersion)},n.prototype.getServiceBusNameSpaceProperties=function(n,t,i){var r="/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.Relay/namespaces/{2}".format(n,t,i);return u.callArm(r,"GET","",f.Asset.ArmApiVersion)},n.prototype.isServicebusNamespaceAvailable=function(n,t){var i="/subscriptions/{0}/providers/Microsoft.Relay/CheckNameAvailability".format(n);return u.callArm(i,"POST",r.toJSON({name:t}),f.Asset.ArmApiVersion)},n.prototype.createOrUpdateHybridConnection=function(n,t,i){var h=e.WebsiteResourceId.fromCsmResourceId(i.resourceUri()),s="/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.Relay/namespaces/{2}/HybridConnections/{3}".format(n,t,i.serviceBusNamespace(),i.endPointName()),o=r.observableArray();return o.push({key:"endpoint",value:i.endPointHost()+":"+i.endPointPort()}),u.callArm(
s,"PUT",r.toJSON({location:i.location(),properties:{requiresClientAuthorization:i.requiresClientAuthorization(),userMetadata:r.toJSON(o())}}),f.Asset.ArmApiVersion)},n.prototype.registerMicrosoftRelay=function(n){var t="/subscriptions/"+n+"/providers/Microsoft.Relay/register";return u.callArm(t,"POST","",f.Asset.ArmApiVersion)},n})();n.HybridConnectionsData=t})(s||(s={})),s}));define("WebsitesExtension/TypeScript/Data/Data.Locations",["require","exports","f","o","ko","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/Utility/Utility.Website"],(function(n,t,i,r,u,f,e,o){"use strict";r.defineProperty(t,"__esModule",{value:!0});var s=(function(){function n(){this.DeploymentLocationQuery=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.DeploymentLocations",sourceUri:function(n){return f.Asset.deploymentLocationQuery.format(e.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:
function(n){return{data:n}},extendEntryLifetimes:!0});this.ArmLocationQuery=new i.Data.QueryCache({entityTypeName:"string",sourceUri:function(n){return f.Asset.resourceDataQuery.format(e.getCSMManagementEndpoint(),n,f.ResourceTypes.WebProvider)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.resourceTypes,i=t.first((function(n){return n.resourceType==="sites"})).locations;return{data:i}},extendEntryLifetimes:!0});this.OrcasLocationQuery=new i.Data.QueryCache({entityTypeName:"string",sourceUri:function(n){return f.Asset.resourceDataQuery.format(e.getCSMManagementEndpoint(),n,f.ResourceTypes.OrcasDB)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.resourceTypes,i=t.first((function(n){return n.resourceType==="servers"})).locations;return{data:i}},extendEntryLifetimes:!0});this.DynamicAppServicePlansLocationQuery=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.GeoRegionType",sourceUri:function(n){return f.Asset.DynamicAspLocationQuery.format(
e.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value;return{data:t.map((function(n){return n.properties}))}},extendEntryLifetimes:!0});this.DynamicLinuxAppServicePlansLocationQuery=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.GeoRegionType",sourceUri:function(n){return f.Asset.DynamicLinuxAspLocationQuery.format(e.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value;return{data:t.map((function(n){return n.properties}))}},extendEntryLifetimes:!0});this.PremiumV2AppServicePlansLocationQuery=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.GeoRegionType",sourceUri:function(n){return f.Asset.PremiumV2AspLocationQuery.format(e.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value;return{data:t.map((function(n){return n.properties}))}},extendEntryLifetimes:!0});this.geoLocationQuery=new i.Data.EntityCache({entityTypeName:
"AppService.DataModels.GeoRegionType",sourceUri:function(n){return f.Asset.geoLocationQuery.format(e.getCSMManagementEndpoint(),n.subscriptionId,n.query)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value,i={hostingEnvironmentDeploymentInfos:u.observableArray([]),locations:u.observableArray(t.map((function(n){return n.properties})))};return{data:i}},extendEntryLifetimes:!0})}return n.getDynamicDeploymentLocations=function(t,i,r){var u=Q.defer();return Q.all([i.fetch(r),t.fetch(r)]).then((function(){u.resolve(n._geofenceDynamicLocations(t.items(),i.items()))})),u.promise},n.getPremiumV2Locations=function(t,i,r){var u=Q.defer();return Q.all([i.fetch(r),t.fetch(r)]).then((function(){u.resolve(n._geofenceDynamicLocations(t.items(),i.items()))})),u.promise},n.getDeploymentLocations=function(t,i,r,f){f===void 0&&(f=null);var e=Q.defer();return Q.all([i.fetch(r),t.fetch(f?{subscriptionId:r,query:f}:r)]).then((function(){var r=n._geofenceLocations(t.item(),i.items());r.locations(
)&&r.locations().first()||o.logError("No App Service locations. geoQuery={0}".format(f));e.resolve(r)}),(function(){i.fetch(r).then((function(){var n=i.items().map((function(n){return{name:u.observable(n),description:u.observable(null),sortOrder:u.observable(0),displayName:u.observable(n)}})),t={locations:u.observableArray(n),hostingEnvironmentDeploymentInfos:u.observableArray([])};e.resolve(t)}),(function(){e.reject()}))})),e.promise},n._geofenceDynamicLocations=function(n,t){var i=n,r=[];for(var u in i)t.indexOf(i[u].displayName())===-1&&r.push(i[u]);return i.filter((function(n){return r.indexOf(n)===-1}))},n._geofenceLocations=function(n,t){var i=n.locations(),r=[];for(var u in i)t.indexOf(i[u].displayName())===-1&&r.push(i[u]);return n.locations(i.filter((function(n){return r.indexOf(n)===-1}))),n},n})();t.Locations=s}));define("WebsitesExtension/TypeScript/Data/Data.MobileApp",["require","exports","f","a","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/ExtensionAssets/Constants"],
(function(n,t,i,r,u,f){"use strict";var e=(function(){function n(){this.nhAuthRules=new i.Data.QueryCache({entityTypeName:"CsmResource",sourceUri:function(n){return"{0}{1}/AuthorizationRules?api-version={2}".format(u.getCSMManagementEndpoint(),n,f.Asset.NotificationHubApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0,httpMethod:"POST",serializeParams:function(n){return n}})}return n.prototype.getNotificationHubLink=function(t){var u=this;return i.Base.Net.ajax({uri:this.getEndpoint()+t+"/providers/Microsoft.Resources/links/?api-version=2015-01-01",type:"GET",contentType:"application/json",dataType:"json",cache:!1,setAuthorizationHeader:!0}).then((function(f){var e=[],o;return f.value&&(o=r.isArray(f.value)?f.value:[],o.forEach((function(t){t.name===n.notificationHub&&e.push(t)}))),e.length===1?i.Base.Net.ajax({uri:u.getEndpoint()+e[0].properties.targetId+"?api-version=2014-09-01",type:"GET",contentType:"application/json",dataType:
"json",cache:!1,setAuthorizationHeader:!0}).then((function(){return e})).catch((function(){u.deleteLink(t,n.notificationHub)})):void 0}))},n.prototype.deleteLink=function(n,t){return i.Base.Net.ajax({uri:this.getEndpoint()+n+"/providers/Microsoft.Resources/links/"+t+"?api-version=2015-01-01",type:"DELETE",cache:!1,setAuthorizationHeader:!0})},n.prototype.getEndpoint=function(){var n=window.fx.environment.csmManagementServiceUri;if(n===undefined)throw"error: csmManagementURL is undefined";return n},n})();return e.notificationHub="mobile-notificationhub",e}));__extends=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/Utility/Utility.Cache",["require","exports","f","o","ko","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/Json",
"WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/ObjectEx"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){function h(n,t,i,r){return c(t,{type:n,headers:i,data:r})}function c(n,t){var r=l(n,t);return i.Base.Net.cachedAjax(r)}function l(n,t){n&&(n=i.Base.Resources.getAppRelativeUri(n));t=a(t);t.url=n;var r=t;return r.uri=r.url,r}function a(n){return n?(n=f.extend({},r,n),n.traditional&&n.data&&(n.data=typeof n.data=="string"?n.data:u.toJSON(n.data||{})),n):n}var s=(function(){function n(n){this.loader=new t(n);this.extendEntryLifetimes=!n.extendEntryLifetimes?!0:n.extendEntryLifetimes}return n})(),t,r;n.DataConfig=s;t=(function(n){function t(t){var i=this,r;return AntUx.StringEx.equals(t.httpMethod||"GET","GET",AntUx.StringComparison.IgnoreCase)||(t.requestBody||(t.requestBody=function(n){return n}),t.supplyData||(t.supplyData=h),r=t.supplyData,t.supplyData=function(n,i,u,e,s,h){var c=t.requestBody(s);return o.isObject(c)&&(e=e||{},f.extend(e,c)),r(n,i,u,e,
s,h)}),i=n.call(this,t)||this,i.config=t,i}return __extends(t,n),t.prototype.serializeParams=function(t){if(this.config.serializeParams)return this.config.serializeParams(t);var i=n.prototype.serializeParams.call(this,t)||"";return this._isHttpPutOrPost()&&t&&(i="{0} - {1}".format(i,e.stringifyOrdered(u.toJS(t)))),i.toUpperCase()},t.prototype._isHttpPutOrPost=function(){var n=this.config.httpMethod||"GET";return!AntUx.StringEx.equals(n,"GET",AntUx.StringComparison.IgnoreCase)},t})(i.Data.DataCacheLoader);n.ExtendedDataCacheLoader=t;r={cache:!1,contentType:"application/json",traditional:!0,setAuthorizationHeader:!0}})(s||(s={})),s}));define("WebsitesExtension/TypeScript/Data/Data.PricingTiers",["require","exports","f","ko","WebsitesExtension/TypeScript/Utility/Utility.Cache"],(function(n,t,i,r,u){"use strict";var f;return (function(n){var t=(function(){function n(){this.PricingTierCache=new i.Data.QueryCache(new u.DataConfig({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetPricingTiers"}
,requestBody:function(n){return{subscriptionId:n}}}));this.pricingTierMesg=r.observable(null);this.pricingTierMesgLink=r.observable(null)}return n})();n.PricingTiersData=t})(f||(f={})),f}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Formatters",["require","exports","$","Websites/ClientResources/ExtensionCoreResources"],(function(n,t,i,r){"use strict";var u=(function(){function n(){}return n.getFileSizeFormat=function(t,r,u){var e=r&&i.map(n.sizeSuffixes,(function(n){return n.name})).indexOf(r)||0,f=e,o=t||0;return u=isNaN(u)?n.DefaultPrecision:u,t&&t>=1024&&(f=Math.floor(Math.log(t)/Math.log(1024)),o=t/Math.pow(1024,f),f=e+f,f=f<n.sizeSuffixes.length?f:n.sizeSuffixes.length-1),{value:n._roundNumber(o,u),unitName:n.sizeSuffixes[f].name,unitDisplayName:n.sizeSuffixes[f].localizedName,unitLongDisplayName:n.sizeSuffixes[f].localizedLongName,conversionFactor:n.sizeSuffixes[f].conversionFactor,conversionValue:Math.pow(1024,e-f)}},n._roundNumber=function(n,t){return n%1!=
0?parseFloat(n.toFixed(t)):n},n.convertDateSizeFormat=function(t,r,u){var e=r&&i.map(n.sizeSuffixes,(function(n){return n.name})).indexOf(r)||0,f=u&&i.map(n.sizeSuffixes,(function(n){return n.name})).indexOf(u)||0,o=parseFloat((t/Math.pow(1024,f-e)).toFixed(2));return{value:o,unitName:n.sizeSuffixes[f].name,unitDisplayName:n.sizeSuffixes[f].localizedName,unitLongDisplayName:n.sizeSuffixes[f].localizedLongName}},n})();return u.sizeSuffixes=[{name:"B",localizedName:r.bytes,localizedLongName:r.bytesLong,conversionFactor:""},{name:"KB",localizedName:r.kiloBytes,localizedLongName:r.kiloBytesLong,conversionFactor:"k"},{name:"MB",localizedName:r.megaBytes,localizedLongName:r.megaBytesLong,conversionFactor:"M"},{name:"GB",localizedName:r.gigaBytes,localizedLongName:r.gigaBytesLong,conversionFactor:"g"},{name:"TB",localizedName:r.teraBytes,localizedLongName:r.teraBytesLong,conversionFactor:"T"},{name:"PT",localizedName:r.petaBytes,localizedLongName:r.petaBytesLong,conversionFactor:"P"},{name:"EB",localizedName:
r.exaBytes,localizedLongName:r.exaBytesLong,conversionFactor:"E"},{name:"ZB",localizedName:r.zettaBytes,localizedLongName:r.zettaBytesLong,conversionFactor:"Z"},{name:"YB",localizedName:r.yottaBytes,localizedLongName:r.yottaBytesLong,conversionFactor:"Y"}],u.DefaultPrecision=2,u}));define("WebsitesExtension/TypeScript/Deprecated/Monitoring/Utilities/MetricFormatter",["require","exports","o","Websites/ClientResources/MonitoringResources","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Formatters"],(function(n,t,i,r,u){"use strict";i.defineProperty(t,"__esModule",{value:!0});var f={bytes:function(n,t){return u.getFileSizeFormat(n,"B",t)},kilobytes:function(n,t){return u.getFileSizeFormat(n,"KB",t)},mbytes:function(n,t){return u.getFileSizeFormat(n,"MB",t)},gbytes:function(n,t){return u.getFileSizeFormat(n,"GB",t)},tbytes:function(n,t){return u.getFileSizeFormat(n,"TB",t)},milliseconds:function(n,t){var u=r.millisecondsShortForm,e=r.milliseconds,i;return n>=1e3?(i=f.seconds(
n/1e3,t),i.conversionValue=i.conversionValue/1e3,i):{value:n?parseInt(n.toFixed(t),10):n,unitName:"milliseconds",unitDisplayName:u,unitLongDisplayName:e,conversionFactor:"",conversionValue:1}},seconds:function(n,t){var e,i;if(n<1)return e=f.milliseconds(n*1e3,t),e.conversionFactor="ms",e.conversionValue=1e3,e;var o="seconds",l=0,s=r.secondsShortForm,h=r.seconds,c="",u=1;return n>=60&&(i=n/60,i>1&&i<60?(o="minutes",s=r.minutesShortForm,h=r.minutes,c="m",u=u/60,n=i):i>=60&&i<1440?(o="hours",s=r.hoursShortForm,h=r.hours,c="h",u=u/3600,n=i/60):i>=1440&&(o="days",s=r.daysShortForm,h=r.days,c="d",u=u/86400,n=i/1440)),n%1!=0&&(l=t),{value:n?parseFloat(n.toFixed(l)):n,unitName:o,unitDisplayName:s,unitLongDisplayName:h,conversionFactor:c,conversionValue:u}},percent:function(n,t){var i=0;return n%1!=0&&(i=t),{value:n?parseFloat(n.toFixed(i)):n,unitName:"%",unitDisplayName:r.percentage,unitLongDisplayName:r.percentage,conversionFactor:"",conversionValue:1}},countpersecond:function(n,t){var i=n,u=
"",f=1,e=0;return n>=1e3&&(i=n/1e3,u="k",f=1/1e3),i%1!=0&&(e=t),{value:i?parseFloat(i.toFixed(e)):i,unitName:"countpersecond",unitDisplayName:r.bytesPerSecond.format({bytes:u}),unitLongDisplayName:r.bytesPerSecond.format({bytes:u}),conversionFactor:u,conversionValue:f}},count:function(n,t){var i=n,r="",u=1,f=0;return n>=1e3&&(i=n/1e3,r="k",u=1/1e3),i%1!=0&&(f=t),{value:i?parseFloat(i.toFixed(f)):i,unitName:"count",unitDisplayName:r,unitLongDisplayName:r,conversionFactor:r,conversionValue:u}}},e={terabytes:"tbytes",tb:"tbytes",gigabytes:"gbytes",gb:"gbytes",megabytes:"mbytes",mb:"mbytes",kb:"kilobytes",percentage:"percent","%":"percent",sec:"seconds"},o={bytes:{valueFromBaseUnit:1,unitName:"bytes"},"bytes/sec":{valueFromBaseUnit:1,unitName:"bytes/sec"},kilobytes:{valueFromBaseUnit:1024,unitName:"bytes"},mbytes:{valueFromBaseUnit:1048576,unitName:"bytes"},gbytes:{valueFromBaseUnit:Math.pow(1024,3),unitName:"bytes"},tbytes:{valueFromBaseUnit:Math.pow(1024,4),unitName:"bytes"},milliseconds:
{valueFromBaseUnit:.001,unitName:"seconds"},seconds:{valueFromBaseUnit:1,unitName:"seconds"},minutes:{valueFromBaseUnit:60,unitName:"seconds"},hours:{valueFromBaseUnit:3600,unitName:"seconds"},days:{valueFromBaseUnit:86400,unitName:"seconds"},count:{valueFromBaseUnit:1,unitName:"count"},percent:{valueFromBaseUnit:1,unitName:"percent"}},s=(function(){function n(){}return n.Format=function(n,t,i){var o=t?t.toLowerCase():"",s,h;return i=isNaN(i)?u.DefaultPrecision:i,f[o]?s=f[o](n,i):e[o]?s=f[e[o]](n,i):(h=r[o]||t,s={value:n?Number(n.toFixed(i)):n,unitName:t,unitDisplayName:h,unitLongDisplayName:h,conversionFactor:"",conversionValue:1}),s},n.GetBaseUnit=function(n){var t=n?n.toLowerCase():"";return o[t]?o[t]:e[t]?o[e[t]]:{valueFromBaseUnit:1,unitName:n}},n})();t.MetricFormatter=s}));define("WebsitesExtension/TypeScript/Data/Data.ProcessExplorer",["require","exports","f","ko","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader",
"WebsitesExtension/TypeScript/Deprecated/Monitoring/Utilities/MetricFormatter"],(function(n,t,i,r,u,f,e){"use strict";var o;return (function(n){var t=(function(){function n(){this.processQuery=new i.Data.QueryCache({loader:new f({entityTypeName:"Microsoft.Portal.Extensions.Websites.Base.Models.KuduProcessInfo",sourceUri:function(){return u.Asset.UrlPath.format(u.Asset.Controller,"GetKuduProcessList")},httpMethod:"POST",requestBody:function(n){return r.toJS(n)}})});this.CacheKeyToBeKilled=r.observable("");this.CacheKeyToBeEnabled=r.observable("");this.findHandleSearchEnabled=r.observable(!1);this.kuduProcessInfoCache={};this.isProcessExplorerBladeOpen=r.observable(!1)}return n.formatMemory=function(n){if(!n)return u.ProcessExplorer.zeroMem;var t=e.MetricFormatter.Format(n/1024,"KB",2);return t.value.toFixed(2)+" "+t.unitDisplayName},n.formatCpuTime=function(n){var t="";if(n){var i=n.split(":"),r=parseInt(i[0])||0,u=parseInt(i[1])||0,f=parseInt(i[2])||0;r>0&&(t+=r+"h ");u>0&&(t+=u+"m ");f>0&&
(t+=f+"s")}else return t;return t},n.updateProcessType=function(n){return n.name()===u.ProcessExplorer.wpPrcoess&&n.is_scm_site()?u.ProcessExplorer.scmProcess:n.name()===u.ProcessExplorer.cmdProcess?u.ProcessExplorer.cmdProcess:n.is_webjob()?u.ProcessExplorer.webJobProcess:u.ProcessExplorer.webProcess},n._createProcessCacheKeyWithKuduProcessInfo=function(n){return r.utils.unwrapObservable(n.name)+r.utils.unwrapObservable(n.id)+r.utils.unwrapObservable(n.instance_name)},n._createProcessCacheKeyWithNameIdInstanceName=function(n,t,i){return n+t+i},n.createProcessCacheKey=function(n,t,i){return n?n&&typeof n=="string"&&t.toString()&&i?this._createProcessCacheKeyWithNameIdInstanceName(n,t,i):this._createProcessCacheKeyWithKuduProcessInfo(n):""},n.createKuduProcessesEndpoint=function(n){return"https://{0}".format(n)+"/api/processes"},n.createKuduCommandEndpoint=function(n){return"https://{0}".format(n)+"/command"},n.bytesToKB=function(n){return n/1024},n.bytesToMB=function(n){return n/1048576}
,n.cacheKeySetAndProcessCacheEntryDefined=function(n,t){return n&&n()&&!!t[n()]&&!!t[n()]()},n.processCacheEntryContainsData=function(n,t){return!!t[n()]().length},n.cacheKeySetAndProcessCacheEntryUndefined=function(n,t){return n&&n()&&!t[n()]},n})();n.ProcessExplorerData=t;i.Data.Metadata.setTypeMetadata("Microsoft.Portal.Extensions.Websites.Base.Models.KuduProcessInfo",{name:"Microsoft.Portal.Extensions.Websites.Base.Models.KuduProcessInfo",idProperties:[],entityType:!0})})(o||(o={})),o}));define("WebsitesExtension/TypeScript/Data/Data.ResourceGroups",["require","exports","f","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Urls"],(function(n,t,i,r,u){"use strict";return (function(){function n(){this.resourceGroup=new i.Data.EntityCache({entityTypeName:"HubsExtension.Azure.ResourceBase",sourceUri:function(n){var t=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(n);return"{0}/subscriptions/{1}/resourceGroups/{2}?api-version={3}".
format(u.getCSMManagementEndpoint(),t.subscription,t.resourceGroup,r.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.resourceGroups=new i.Data.QueryCache({entityTypeName:"HubsExtension.Azure.ResourceBase",sourceUri:function(n){return"{0}/subscriptions/{1}/resourceGroups?api-version={2}".format(u.getCSMManagementEndpoint(),n,r.Asset.ArmApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0})}return n})()}));define("WebsitesExtension/TypeScript/Data/Data.Resources",["require","exports","f","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Urls"],(function(n,t,i,r,u,f){"use strict";var e;return (function(n){var t=(function(){function n(){this.linkedResourcesCache=new i.Data.QueryCache({loader:new r({sourceUri:function(){return"/api/Websites/ListLinkedResources"}
,httpMethod:"POST"})});this.ResourceHealthCache=new i.Data.EntityCache({sourceUri:function(n){return u.Asset.resourceHealthQuery.format(f.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:function(n){return n.outage=!!(n.outage==="Y"),{data:n}},extendEntryLifetimes:!0})}return n})();n.ResourcesData=t})(e||(e={})),e}));define("WebsitesExtension/TypeScript/Data/Data.Storage",["require","exports","f","o","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Urls"],(function(n,t,i,r,u,f){"use strict";r.defineProperty(t,"__esModule",{value:!0});var e=(function(){function n(){this.storageAccountListQuery=new i.Data.QueryCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}/subscriptions/{1}/providers/Microsoft.Storage/storageAccounts?api-version={2}".format(f.getCSMManagementEndpoint(),n,u.Asset.StorageApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:
!0});this.storageAccount=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}/?api-version={2}".format(f.getCSMManagementEndpoint(),n,u.Asset.StorageApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.storageAccountKeys=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return"{0}{1}/listKeys?api-version={2}".format(f.getCSMManagementEndpoint(),n,u.Asset.StorageApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0,httpMethod:"POST",serializeParams:function(n){return n}})}return n})();t.StorageAccountData=e}));define("WebsitesExtension/TypeScript/Data/GalleryData",["require","exports","f","o","WebsitesExtension/TypeScript/Utility/Utility.Website","WebsitesExtension/TypeScript/ExtensionAssets/Constants"],(function(n,t,i,r,u,f){"use strict";var e,o;r.defineProperty(t,"__esModule",{value:!0});e=(function(){function n(
){var t=this;this.galleryItemsCache=new i.Data.QueryCache({sourceUri:function(n){return t._getGalleryUrlFormat().format(n)},entityTypeName:n._galleryItemType});this.uiDefinitionCache=new i.Data.EntityCache({sourceUri:function(n){return n}});this.csmTemplateCache=new i.Data.EntityCache({sourceUri:function(n){return n}})}return n.prototype._getGalleryUrlFormat=function(){return u.forFeature(f.AppHub.TestFeedFeatureFlag)?f.Create.galleryTestHost+f.Create.galleryFeedFormat:f.Create.galleryProdHost+f.Create.galleryFeedFormat},n})();e._galleryItemType="Microsoft.Portal.Extensions.Websites.Base.Models.GalleryItemType";e.connectionProvidersKey="ConnectionProviders";t.GalleryData=e;o={name:e._galleryItemType,properties:{identity:null},idProperties:["identity"],entityType:!0};i.Data.Metadata.setTypeMetadata(o.name,o)}));define("WebsitesExtension/TypeScript/Data/ObjectCache",["require","exports","o","Websites/ClientResources/GeneralResources","WebsitesExtension/TypeScript/Models/WebsiteResourceId",
"WebsitesExtension/TypeScript/Models/WebHostingPlanResourceId"],(function(n,t,i,r,u,f){"use strict";i.defineProperty(t,"__esModule",{value:!0});var e=(function(){function n(){}return n.prototype.incSiteResourceCount=function(n,t){return this.incObjCount(u.WebsiteResourceId.toCsmResourceId(n),t)},n.prototype.incPlanResourceCount=function(n,t){return this.incObjCount(f.WebHostingPlanResourceId.toCsmResourceId(n),t)},n.prototype.incObjCount=function(n,t){var u=n+":"+t,i=this[u];if(i!==undefined){if(isNaN(i))throw r.valueNotNumber.format(u);i++}else i=0;return this[u]=i,i},n.prototype.getObjCount=function(n,t){var r=n+":"+t,i=this[r];return i===undefined&&(i=0),i},n})();t.ObjectCache=e}));define("WebsitesExtension/TypeScript/Data/ResourceGroupsData",["require","exports","f","o","WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/ExtensionAssets/Constants"],(function(n,t,i,r,u,f){"use strict";r.defineProperty(t,"__esModule",{value:!0});var e=(function(){function n(){}return n.
prototype.createResourceGroup=function(n,t,r){var e=i.ViewModels.Services.ResourceTypes.buildResourceGroupIdFromDescriptor({subscription:n,resourceGroup:t});return u.callArm(e,"PUT",JSON.stringify({name:t,location:r}),f.ArmHelper.armApiVersion)},n})();t.ResourceGroupsData=e}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationScope",["require","exports"],(function(){"use strict";var n;return (function(n){n[n.SingleItem=0]="SingleItem";n[n.PartialList=1]="PartialList";n[n.List=2]="List";n[n.Root=3]="Root"})(n||(n={})),n}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities",["require","exports","f","a","ko","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Polyfills/ObjectEx"],(function(n,t,i,r,u,f,e){"use strict";return (function(){function n(){}return n.getNonBlockingPromise=function(n){var t=f.Deferred();return n.then((function(){var n=this,i=arguments;setTimeout((function(){t.resolve.apply(n,i)}))}),(function(){var n=this,i=arguments;
setTimeout((function(){t.reject.apply(n,i)}))})),t.promise()},n.triggerFormFieldValidation=function(n){var t=n.validate.peek();n.validate(isNaN(t)?0:t+1)},n.supportsLocalStorage=function(){try{return"localStorage"in window&&window.localStorage!==null}catch(n){return!1}},n.getTimeoutPromise=function(n,t,i){var r=f.Deferred(),e=r.promise(),u;return n.done((function(){r.resolve.apply(this,arguments)})).fail((function(){r.reject.apply(this,arguments)})),u=setTimeout((function(){r.reject.apply(r,i||[])}),t*1e3),n.always((function(){clearTimeout(u)})),e.timeoutId=u,e},n.getXhrError=function(n){if(!n)return"";if(n.responseJSON&&n.responseJSON.Message)return n.responseJSON&&n.responseJSON.Message;if(n.responseJSON&&n.responseJSON.message)return n.responseJSON&&n.responseJSON.message;var t;try{if(t=n.responseText&&JSON.parse(n.responseText).Message,t)return t}catch(i){}try{if(t=n.responseText&&JSON.parse(n.responseText).message,t)return t}catch(i){}return""},n.waitForPromises=function(n){var t=f.Deferred(
),i=0;return n.length?n.forEach((function(r){r.always((function(){i+=1;i>=n.length&&t.resolve()}))})):t.resolve(),t.promise()},n.toJQueryPromise=function(n){var t=f.Deferred();return n.then((function(){t.resolve.apply(t,arguments)}),(function(){t.reject.apply(t,arguments)})),t.promise()},n.convertToPromise=function(n){return f.Deferred().resolve(n).promise()},n.merge=function(n,t){i.Data.DataSet.mergeWithoutAtomization({value:n},{value:t})},n.mapItemIntoObservableProperties=function(t){var i,f,o;if(r.isArray(u.utils.unwrapObservable(t)))i=u.observableArray(u.utils.unwrapObservable(t).map((function(t){return n.mapItemIntoObservableProperties(t)})));else if(e.isObject(t)){i={};for(f in t)t.hasOwnProperty(f)&&(o=n.mapItemIntoObservableProperties(t[f]),i[f]=u.isObservable(o)?o:u.observable(o))}else i=t;return i},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationCacheEntry",["require","exports","f","i","o","ko","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationScope",
"WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities"],(function(n,t,i,r,u,f,e,o){"use strict";return (function(){function n(n){if(this._hasBeenMergedOnce=!1,this._lifetime=new r.TriggerableLifetimeManager,this._key=n.key,this._cache=n.cache,this._scope=n.scope,this._sourcePath=n.sourcePath,this._targetPath=n.targetPath,this._itemMatchesAtomization=n.itemMatchesAtomization,!this._itemMatchesAtomization&&(this._scope===e.SingleItem||this._scope===e.PartialList))throw new Error("Need to supply an itemMatchesAtomization callback for AtomizationScope.SingleItem or AtomizationScope.PartialList");this.data=this._createDataObservable()}return u.defineProperty(n.prototype,"_allItems",{get:function(){return this._targetPath?this._cache.data()[this._targetPath]:this._cache.data},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this._lifetime.dispose()},n.prototype.merge=function(n,t){if(this._cache.canMerge(t.fetchStart)){n=f.toJS(n);n=this._sourcePath?n[this._sourcePath]:
n;switch(this._scope){case e.SingleItem:this._mergeSingleItem(n,t);break;case e.PartialList:this._mergePartialList(n,t);break;case e.List:this._mergeList(n,t);break;case e.Root:this._mergeRoot(n,t)}this._hasBeenMergedOnce=!0}},n.prototype.hasCachedData=function(){switch(this._scope){case e.SingleItem:return!!this.data();default:return this._hasBeenMergedOnce}},n.prototype._mergeSingleItem=function(n,t){var r=this._allItems().first(this._itemMatchesAtomization);r?i.Data.DataSet.mergeWithoutAtomization(n,r,t):this._allItems.push(o.mapItemIntoObservableProperties(n))},n.prototype._mergePartialList=function(n,t){var r=this,u=this._allItems().filter(this._itemMatchesAtomization),f;i.Data.DataSet.mergeWithoutAtomization(n,u,t);f=u.filter((function(n){return r._itemMatchesAtomization(n)&&r._allItems.indexOf(n)<=-1}));this._allItems.push.apply(this._allItems,f)},n.prototype._mergeList=function(n,t){i.Data.DataSet.mergeWithoutAtomization(n,this._allItems,t);this._cache.setLatestFullFetchStart(t.fetchStart)}
,n.prototype._mergeRoot=function(n,t){i.Data.DataSet.mergeWithoutAtomization(n,this._cache.data,t);this._cache.setLatestFullFetchStart(t.fetchStart)},n.prototype._createDataObservable=function(){var t=this,n;switch(this._scope){case e.SingleItem:return n=f.observable(),f.reactor(this._lifetime,(function(){var i=t._allItems().first(t._itemMatchesAtomization);i&&n(i)})),n;case e.PartialList:return this._allItems.filter(this._lifetime,this._itemMatchesAtomization);case e.List:return this._allItems;case e.Root:default:return this._cache.data}},n.prototype._getTargetItems=function(){return this._targetPath?this._cache.data()[this._targetPath]:this._cache.data},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Internal/RefCountCache",["require","exports","f"],(function(n,t,i){"use strict";return (function(){function n(){this._entries={}}return n.prototype.addItem=function(n,t){if(this._entries[n])throw new Error("InvalidOperationException: item with key '{0}' already exists in the cache".
format(n));return this._entries[n]={item:t,refcount:1},t},n.prototype.getItem=function(n){var t=this._entries[n];return t?(t.refcount+=1,t.item):null},n.prototype.getOrAddItem=function(n,t){return this.getItem(n)||this.addItem(n,t())},n.prototype.releaseItem=function(n,t){var r=this._entries[n];if(!r){i.Base.Diagnostics.Log.writeEntry(1,"ExtensionCore.Internal.RefCountCache","RefCountCache.release: item with key '{0}' does not exist in cache".format(n));return}r.refcount-=1;r.refcount<=0&&this.removeItem(n,t)},n.prototype.removeItem=function(n,t){this._entries[n]&&(t&&t(this._entries[n].item),delete this._entries[n])},n.prototype.peekAtItem=function(n){var t=this._entries[n];return t?t.item:null},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationCache",["require","exports","a","ko","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationCacheEntry","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Internal/RefCountCache","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities"],
(function(n,t,i,r,u,f,e){"use strict";return (function(){function n(n){this._entries=new f;n=n||[];this.data=i.isArray(n)?r.observableArray():r.observable();e.merge(n,this.data)}return n.prototype.getEntry=function(n,t,i,r,f){var e=this;return this._entries.getOrAddItem(n,(function(){return new u({cache:e,key:n,scope:t,sourcePath:i,targetPath:r,itemMatchesAtomization:f})}))},n.prototype.releaseEntry=function(n){this._entries.releaseItem(n,(function(n){n.dispose()}))},n.prototype.setLatestFullFetchStart=function(n){this._latestFullFetchStart=n},n.prototype.canMerge=function(n){return!n||!this._latestFullFetchStart||n>=this._latestFullFetchStart},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationContext",["require","exports","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Internal/RefCountCache","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationCache"],(function(n,t,i,r){"use strict";return (function(){function n(){this._atomizationCaches=
new i;this._globalPartitionKey="##GLOBAL##"}return n.prototype.getItems=function(n){var t=this._atomizationCaches.peekAtItem(n||this._globalPartitionKey);return t&&t.data},n.prototype._getOrAddAtomizationCache=function(n,t){return this._atomizationCaches.getOrAddItem(n||this._globalPartitionKey,(function(){return new r(t)}))},n.prototype._releaseAtomizationCache=function(n){this._atomizationCaches.releaseItem(n||this._globalPartitionKey)},n})()}));__extends=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizedDataSet",["require","exports","f","o"],(function(n,t,i,r){"use strict";return (function(n){function t(t,i,r,u){var f=n.call(this,r)||this;f._dataSetName=
t;f._dataSet=i;f._entityType=r;f._cache=u.cache;f._cacheEntry=f._cache.getEntry(t,u.scope,u.sourcePath,u.targetPath,u.itemMatchesAtomization);$(f._dataSet).on("fetchStart",f._fetchStartHandler=f._onFetchStart.bind(f)).on("mergeComplete",f._mergeCompleteHandler=f._onMergeComplete.bind(f));return f}return __extends(t,n),r.defineProperty(t.prototype,"data",{get:function(){return this._cacheEntry.data},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){$(this._dataSet).off("fetchStart",this._fetchStartHandler).off("mergeComplete",this._mergeCompleteHandler);this._cache.releaseEntry(this._dataSetName)},t.prototype.merge=function(n,t){this._cacheEntry.merge(n,t)},t.prototype.hasCachedData=function(){return this._cacheEntry.hasCachedData()},t.prototype._onFetchStart=function(){this._latestFetchStart=+new Date},t.prototype._onMergeComplete=function(){this.merge(this._dataSet.data,{type:this._entityType,fetchStart:this._latestFetchStart})},t})(i.Data.DataSet)}));__extends=this&&this.__extends||
(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizedDataCacheLoader",["require","exports","f","o","ko","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizedDataSet","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Internal/RefCountCache"],(function(n,t,i,r,u,f,e,o){"use strict";return (function(n){function t(t){var i=n.call(this,t)||this;if(i._atomizedDataSetCache=new o,!t.entityTypeName)throw new Error("AtomizedDataCacheLoader: atomized data caches must specify an entityTypeName. Make sure that config.entityTypeName is a valid TypeMetadata name, or the cache will have undefined behavior when merging data.");
return i._dataSetParams={},i}return __extends(t,n),t.prototype.loadDataSetForParams=function(t,r,u){var o=this,c,s,f,h;return this._dataSetParams[t]=r,c=this.config.entityTypeName!==undefined?i.Data.Loader.getDataSet(t,this.config.entityTypeName):i.Data.Loader.getDataSet(t,!0),s=this._atomizedDataSetCache.getOrAddItem(t,(function(){var n=o._getOrAddAtomizationCache(r);return new e(t,c,o.config.entityTypeName,o._getAtomizedDataSetOptions(n,r))})),f=Q.defer(),n.prototype.loadDataSetForParams.call(this,t,r,u).then((function(){s.data()?f.resolve(s):f.reject()}),(function(){f.reject()})),h=f.promise,h.dataSetName=t,h},t.prototype.loadDataSet=function(t,r){var s=this,e=i.Data.Loader.getDataSet(t),u=this._atomizedDataSetCache.peekAtItem(t),o;return r.loaderOptions=r.loaderOptions||{},o=r.loaderOptions.fetchData||f.defaultFetchData,r.loaderOptions.fetchData=function(n,t,i,r,f){if(e&&u&&!e.data&&u.hasCachedData()){var h=s._convertObservableDataToRawJavaScriptObject(u.data()),c={cachedAjax:!0,data:h,modified:
!1};return Q(c)}return o(n,t,i,r,f)},n.prototype.loadDataSet.call(this,t,r)},t.prototype.disposeDataSet=function(t){this._atomizedDataSetCache.releaseItem(t.dataSetName,(function(n){n.dispose()}));this._releaseAtomizationCache(this._dataSetParams[t.dataSetName]);delete this._dataSetParams[t.dataSetName];n.prototype.disposeDataSet.call(this,t)},t.prototype._convertObservableDataToRawJavaScriptObject=function(n){var t,i,r;n=u.utils.unwrapObservable(n);t=u.mapping.toJS(n);for(i in n)u.isComputed(n[i])&&delete t[i];return this.config.atomization.mergeOptions&&this.config.atomization.mergeOptions.sourcePath&&(r={},r[this.config.atomization.mergeOptions.sourcePath]=t,t=r),t},t.prototype._getOrAddAtomizationCache=function(n){var t=this.config.atomization.partitionKey&&this.config.atomization.partitionKey(n),i=this.config.atomization.mergeOptions&&this.config.atomization.mergeOptions.initialData;return this.config.atomization.context._getOrAddAtomizationCache(t,i)},t.prototype._releaseAtomizationCache=
function(n){var t=this.config.atomization.partitionKey&&this.config.atomization.partitionKey(n);return this.config.atomization.context._releaseAtomizationCache(t)},t.prototype._getAtomizedDataSetOptions=function(n,t){var r=this,i;return this.config.atomization.itemMatchesAtomization&&(i=function(n){return r.config.atomization.itemMatchesAtomization(n,t)}),{cache:n,scope:this.config.atomization.scope,itemMatchesAtomization:i,sourcePath:this.config.atomization.mergeOptions&&this.config.atomization.mergeOptions.sourcePath,targetPath:this.config.atomization.mergeOptions&&this.config.atomization.mergeOptions.targetPath}},t})(f)}));define("WebsitesExtension/TypeScript/Data/Websites/WebsitesData",["require","exports","f","o","ko","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Utility/Utility.Slots","WebsitesExtension/TypeScript/Utility/Utility.Website","WebsitesExtension/TypeScript/Environment/RuntimeType","WebsitesExtension/TypeScript/Models/WebsiteResourceId",
"WebsitesExtension/TypeScript/Ajax/Ajax","Websites/ClientResources/ConfigResources","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Lazy","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationContext","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizedDataCacheLoader","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/AtomizationScope","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/Utility/Utility.Notifications","WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/Utility/Utility.Urls"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){"use strict";var ut,nt,tt,it,rt;r.defineProperty(t,"__esModule",{value:!0});ut=i.ViewModels.Services.ResourceTypes;nt=(function(){function n(){var t=this;this.websitesAtomizationContext=new v;this.webHostingPlansAtomizationContext=new v;this.websitesRegionsAtomizationContext=
new v;this.siteExtensionAtomizationContext=new v;this.websitesForSubsCache=new i.Data.QueryCache({loader:new y({entityTypeName:"Websites.ExtendedWebsite",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListWebsites"},requestBody:function(n){return{SubscriptionIds:n}},atomization:{context:this.websitesAtomizationContext,scope:p.List,partitionKey:function(){return f.PartitionKey.productionWebsites}},poll:!1})});this.sitesBrowseCache=new i.Data.QueryCache({entityTypeName:"CSMResource",serializeParams:function(n){return JSON.stringify(n)},supplyData:function(n,i,r,e,o){for(var l,h=[],s=[],c=0;c<o.length;c++)l=o[c]+"?api-version="+f.Asset.AntaresApiVersion,s.push({httpMethod:"GET",relativeUrl:l}),s.length===f.ArmHelper.MaxRequestsInBatch&&(h.push(t._callBatch(s)),s=[]);return s.length>0&&h.push(t._callBatch(s)),Q.all(h).then((function(n){var t=[];return n.forEach((function(n){n.responses.forEach((function(n){if(n.httpStatusCode===200){var i=ut.parseResourceDescriptor(n.content.properties.
serverFarmId);t.push({id:u.observable(n.content.id),kind:u.observable(n.content.kind),plan:u.observable(i.resource),tier:u.observable(n.content.properties.sku),status:u.observable(n.content.properties.state)})}}))})),t}))},extendEntryLifetimes:!0});this.siteLocksCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}{1}/providers/Microsoft.Authorization/locks?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Lock.AuthorizationVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.siteCache=new i.Data.EntityCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}{1}?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.sitesCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/subscriptions/{1}/providers/Microsoft.Web/sites?api-version={2}".
format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.slotsCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/{1}/slots?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.sitesInServerfarmCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/{1}/sites?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.premierAddonsCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/{1}/premieraddons?api-version={2}".format(b.getCSMManagementEndpoint(
),n,f.Asset.AddOnsCacheApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.serverFarmsCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/subscriptions/{1}/providers/Microsoft.Web/serverFarms?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.pageableHostingSitesCache=new i.Data.QueryCache({loader:new w({sourceUri:function(){return"/api/Websites/ListWebHostingPlanSites"},httpMethod:"POST",processServerResponse:function(n){return n.Value.forEach((function(n){n.Type=o.getDisplayTypeForApp(n.Kind,n.IsProductionSite)})),{data:n.Value,navigationMetadata:{continuationToken:n.NextLink}}}}),navigation:{loadByContinuationToken:function(n,t,i){var r=i?"":n.metadata()?n.metadata().continuationToken:"";return n.fetch({resourceUri:t.resourceUri,
link:r,take:t.take,skip:t.skip})}}});this.aspSitesCache=new i.Data.QueryCache({loader:new w({sourceUri:function(){return f.Asset.UrlPath.format(f.Asset.Controller,"ListHostingPlanSites")},httpMethod:"POST",poll:!1,requestBody:function(n){return{ResourceUri:n}}})});this.sitesAndSlotsInServerfarmCache=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/{1}/sites?includeSlots=true&api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value,navigationMetadata:{continuationToken:n.nextLink}}},extendEntryLifetimes:!0});this.pageableSitesAndSlotsInServerfarmCache=new i.Data.QueryCache({loader:new w({sourceUri:function(n){return"{0}/{1}/sites?includeSlots=true&api-version={2}&top={3}&skipToken={4}".format(b.getCSMManagementEndpoint(),n.resourceUri,f.Asset.AntaresApiVersion,n.top,n.skipToken)},httpMethod:"GET",processServerResponse:function(n){var t=
n.value.map((function(n){var t=n.properties.name;return{Name:t.indexOf("(")>0?u.observable(t.match(/\(([^)]+)\)/)[1]):u.observable(t),ResourceGroup:u.observable(n.properties.resourceGroup),Kind:u.observable(n.kind),Id:u.observable(n.id),Status:u.observable(n.properties.state),Type:t.indexOf("(")>0?f.DeleteIconType.slot:u.observable(n.kind),GroupName:u.observable(n.properties.repositorySiteName)}}));return{data:t,navigationMetadata:{continuationToken:n.nextLink}}}}),navigation:{loadByContinuationToken:function(n,t,i){var r=i?"":n.metadata()?n.metadata().continuationToken:"";return n.fetch({resourceUri:t.resourceUri,skipToken:r})}}});this.recommendationsCache=new i.Data.QueryCache({loader:new w({entityTypeName:"Microsoft.Portal.Extensions.Websites.Base.Models.Recommendation",httpMethod:"POST",sourceUri:function(){return f.Asset.UrlPath.format(f.Asset.Controller,"ListSiteRecommendations")},requestBody:function(n){return{subscriptionId:n.SubscriptionId,resourceGroupName:n.ResourceGroup,siteName:
n.Name}},poll:!1,processServerResponse:function(n){return{data:n}}}),poll:!1});this.expiredRecommendationsCache=new i.Data.QueryCache({loader:new w({entityTypeName:"Microsoft.Portal.Extensions.Websites.Base.Models.Recommendation",httpMethod:"POST",sourceUri:function(){return f.Asset.UrlPath.format(f.Asset.Controller,"ListSiteRecommendationsHistory")},requestBody:function(n){return{subscriptionId:n.SubscriptionId,resourceGroupName:n.ResourceGroup,siteName:n.Name}},poll:!1,processServerResponse:function(n){return{data:n}}}),poll:!1});this.recommendationCache=new i.Data.EntityCache({loader:new w({entityTypeName:"Microsoft.Portal.Extensions.Websites.Base.Models.Recommendation",httpMethod:"POST",sourceUri:function(){return f.Asset.UrlPath.format(f.Asset.Controller,"GetRecommendation")},requestBody:function(n){return{subscriptionId:n.WebsiteId.SubscriptionId,resourceGroupName:n.WebsiteId.ResourceGroup,siteName:n.WebsiteId.Name,recommendationName:n.RecommendationName,recommendationId:n.RecommendationId}}
,poll:!1})});this.featuredRecommendationCache=new i.Data.EntityCache({loader:new w({entityTypeName:"Microsoft.Portal.Extensions.Websites.Base.Models.Recommendation",httpMethod:"POST",sourceUri:function(){return f.Asset.UrlPath.format(f.Asset.Controller,"GetFeaturedRecommendation")},requestBody:function(n){return{subscriptionId:n.SubscriptionId,resourceGroupName:n.ResourceGroup,siteName:n.Name}},poll:!1})});this.serviceHealthCache=new i.Data.EntityCache({entityTypeName:"SCModels.RuntimeAvailability",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/diagnostics/detectors/servicehealth?&api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}}});this.runtimeAvailabilityCache=new i.Data.EntityCache({entityTypeName:"SCModels.RuntimeAvailability",poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return"{0}{1}/diagnostics/detectors/runtimeavailability?&api-version={2}".format(
b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}}});this.hostingEnvWebsitesCache=new i.Data.QueryCache({loader:new w({entityTypeName:"Websites.ExtendedWebsite",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListHostingEnvSites"},requestBody:function(n){return{ResourceUri:n}},poll:!1,processServerResponse:function(n){return n=o.mapStatus(n),{data:n}}}),poll:!1});this.hostingEnvServerFarmsCache=new i.Data.QueryCache({loader:new w({entityTypeName:"Websites.ServerFarm",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListHostingEnvServerFarms"},requestBody:function(n){return{ResourceUri:n}},poll:!1}),poll:!1});this.websiteCache=new i.Data.EntityCache({loader:new y({entityTypeName:"Websites.ExtendedWebsite",httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetWebsite"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}}
,atomization:{context:this.websitesAtomizationContext,scope:p.SingleItem,itemMatchesAtomization:function(n,t){return h.WebsiteResourceId.equals(t,n)},partitionKey:function(n){var t=e.parseWebsiteName(n.Name);return t.SlotName?f.PartitionKey.websiteSlots.format(n.SubscriptionId,n.ResourceGroup,t.SlotName):f.PartitionKey.productionWebsites}}})});this.serverFarmCache=new i.Data.EntityCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}{1}?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.webhostingPlansForSubsCache=new i.Data.QueryCache({loader:new y({entityTypeName:"Websites.ServerFarm",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListWebHostingPlans"},requestBody:function(n){return{SubscriptionIds:n}},atomization:{context:this.webHostingPlansAtomizationContext,scope:p.List,partitionKey:function(n){return f.PartitionKey.
serverFarms+n}},poll:!1})});this.webhostingPlansForSubsCacheFromArm=new i.Data.QueryCache({entityTypeName:"Websites.ServerFarm",sourceUri:function(n){return f.Asset.ServerFarmResourceUriFromSubscriptionTemplate.format(g.getCSMManagementEndpoint(),n)},setAuthorizationHeader:!0,processServerResponse:function(n){var t=n.value;return{data:t.filter((function(n){return n&&n.id&&i.ViewModels.Services.ResourceTypes.isResourceId(n.id)})).map((function(n){var t=i.ViewModels.Services.ResourceTypes.parseResourceDescriptor(n.id),r=null;return n.properties&&n.properties.hostingEnvironmentProfile&&(r={Id:n.properties.hostingEnvironmentProfile.id,Name:n.properties.hostingEnvironmentProfile.name,Type:n.properties.hostingEnvironmentProfile.type}),{SubscriptionId:t.subscription,ResourceGroup:t.resourceGroup,Name:n.name,NumberOfWorkers:n.properties.numberOfWorkers,WorkerSize:n.properties&&n.properties.workerSize,WorkerSizeId:n.properties&&n.properties.workerSizeId,WorkerTierName:n.properties&&n.properties.workerTierName,
Id:n.id,Sku:n.sku.tier,SkuFamily:n.sku.family,Status:n.properties&&n.properties.status,Location:n.location,HostingEnvironmentProfile:r,HostingEnvironmentId:n.properties&&n.properties.hostingEnvironmentId,NumberOfSites:n.properties&&n.properties.numberOfSites,WebSpace:n.properties&&n.properties.webSpace,IsLinux:n.properties&&n.properties.reserved,IsXenon:n.properties&&n.properties.isXenon,ComputeMode:n.properties&&n.properties.computeMode,Reserved:n.properties&&n.properties.reserved}}))}},extendEntryLifetimes:!0});this.webHostingPlanCache=new i.Data.EntityCache({loader:new y({entityTypeName:"Websites.ServerFarm",httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetWebHostingPlan"},requestBody:function(n){return{SubscriptionId:n.SubscriptionId,Name:n.Name,ResourceGroup:n.ResourceGroup}},atomization:{context:this.webHostingPlansAtomizationContext,scope:p.SingleItem,itemMatchesAtomization:function(n,t){return AntUx.StringEx.equals(n.Name.peek(),t.Name,AntUx.StringComparison.IgnoreCase)&&
AntUx.StringEx.equals(n.SubscriptionId.peek(),t.SubscriptionId,AntUx.StringComparison.IgnoreCase)&&AntUx.StringEx.equals(n.ResourceGroup.peek(),t.ResourceGroup,AntUx.StringComparison.IgnoreCase)},partitionKey:function(){return f.PartitionKey.serverFarms}}})});this.websiteSlotsCache=new i.Data.QueryCache({loader:new y({entityTypeName:"Websites.ExtendedWebsite",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListSlots"},requestBody:function(n){return{SubscriptionId:n.SubscriptionId,SiteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}},poll:!1,atomization:{context:this.websitesAtomizationContext,scope:p.List,partitionKey:function(n){var t=e.parseWebsiteName(n.Name);return f.PartitionKey.websiteSlots.format(n.SubscriptionId,n.ResourceGroup,t.ProductionSiteName)}}})});this.installedSiteExtensionsCache=new i.Data.QueryCache({loader:new y({entityTypeName:"Websites.SiteExtension",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListInstalledSiteExtensions"},requestBody:function(
n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}},atomization:{context:this.siteExtensionAtomizationContext,scope:p.List,partitionKey:function(n){return"{0}-{1}-{2}".format(n.SubscriptionId,n.ResourceGroup,n.Name)}}})});this.feedSiteExtensionsCache=new i.Data.QueryCache({loader:new w({entityTypeName:"Websites.SiteExtension",httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListFeedSiteExtensions"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}},processServerResponse:function(n){return{data:n.sortBy((function(n){return n.title}))}}})});this.getSiteExtensionDetailsCache=new i.Data.EntityCache({loader:new y({entityTypeName:"Websites.SiteExtension",httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetSiteExtension"},requestBody:function(n){return{websiteInput:{subscriptionId:n.WebsiteId.SubscriptionId,siteId:{name:n.WebsiteId.Name,resourceGroup:n.WebsiteId.ResourceGroup}},
siteExtensionId:n.SiteExtensionId}},atomization:{context:this.siteExtensionAtomizationContext,scope:p.SingleItem,itemMatchesAtomization:function(n,t){return n.id()===t.SiteExtensionId},partitionKey:function(n){return"{0}-{1}-{2}".format(n.WebsiteId.SubscriptionId,n.WebsiteId.ResourceGroup,n.WebsiteId.Name)}}})});this.scmInfoCache=new i.Data.EntityCache({loader:new w({entityTypeName:"WebsiteExtension.Models.ContinuousDeployment.ScmInfo",httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetScmInfo"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup},GetCredentials:n.GetCredentials,GetMetadata:n.GetMetadata}}})});this.ftpInfoCache=new i.Data.EntityCache({loader:new w({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetFTPInfo"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}}})});this.ftpInfoEditCache=i.Data.EditScopeCache.create({entityTypeName:
"WebsiteExtension.Models.FtpCredentials",supplyExistingData:function(n,i){var r=t.ftpInfoCache.createView(i);return r.fetch(n).then((function(){return{username:u.observable(r.item().UserName()),password:u.observable(r.item().UserPWD()),confirmPassword:u.observable("")}}))},serializeParams:h.WebsiteResourceId.toCsmResourceId});this.publishProfileUriCache=new i.Data.EntityCache({loader:new w({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetPublishingProfileUri"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}}})});this.UsagesCache=new i.Data.QueryCache({entityTypeName:"AppService.DataModels.UsageMetrics",poll:!1,extendEntryLifetimes:s.isOnPrem()?!1:!0,sourceUri:function(n){return"{0}{1}/usages?api-version={2}".format(b.getCSMManagementEndpoint(),n,f.Asset.AutoScaleVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.ListWebJobsQuery=new i.Data.QueryCache({entityTypeName:
f.EntityType.CSMResource,poll:!1,extendEntryLifetimes:!0,sourceUri:function(n){return n.slotName==null?f.Asset.ListWebJobsQuery.format(b.getCSMManagementEndpoint(),n.subscriptionId,n.resourceGroup,n.websiteName):f.Asset.ListSlotWebJobs.format(b.getCSMManagementEndpoint(),n.subscriptionId,n.resourceGroup,n.websiteName,n.slotName)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}}});this.GetWebJobQuery=new i.Data.EntityCache({entityTypeName:f.EntityType.CSMResource,poll:!0,sourceUri:function(n){return f.Asset.GetWebJobQuery.format(b.getCSMManagementEndpoint(),n.resourceUri,n.Type,n.Name)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.websitePropertiesCache=new i.Data.EntityCache({loader:new w({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetSiteProperties"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}}})});this.websiteStickyConfigNamesOnSlotCache=
new i.Data.EntityCache({loader:new w({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetStickySlotConfigNamesOnSlot"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}}})});this.devConsoleCache=new i.Data.EntityCache({loader:new w({httpMethod:"POST",sourceUri:function(){return"/api/Websites/ExecuteKuduCommand"},processServerResponse:function(n){var t=JSON.parse(n);return{data:(t.Output||"").replace(/\r?\n|\r/g,"")}}})});this.scaleSettingsCache=i.Data.EditScopeCache.create({supplyExistingData:function(n){var r=Q.defer(),t={location:u.observable(""),skuName:u.observable(""),maximumNumberOfWorkers:u.observable(-1),skuCapacity:u.observable(1)},e="{0}?api-version={1}".format(n,f.Asset.AntaresApiVersion),o="{0}{1}".format(b.getCSMManagementEndpoint(),e);return i.Base.Net.ajax({uri:o,type:"GET",dataType:"json",cache:!1,contentType:"application/json",setAuthorizationHeader:!0}).then((function(n){t.location(n.location);
t.skuName(n.sku.name);t.skuCapacity(n.properties.currentNumberOfWorkers);t.maximumNumberOfWorkers(n.properties.maximumNumberOfWorkers<=0?10:n.properties.maximumNumberOfWorkers);r.resolve(t)}),(function(n){r.reject(n)})),r.promise},saveEditScopeChanges:function(r,e,o,c){var a=Q.defer(),v=k.start(l.scaleSettingSaving,l.scaleSettingSaving),y="{0}?api-version={1}".format(r,f.Asset.AntaresApiVersion),p="{0}{1}".format(b.getCSMManagementEndpoint(),y);return i.Base.Net.ajax({uri:p,type:"PUT",dataType:"json",cache:!1,contentType:"application/json",data:u.toJSON({location:e.root.location(),properties:s.isOnPrem()?{numberOfWorkers:e.root.skuCapacity()}:{sku:e.root.skuName(),numberOfWorkers:e.root.skuCapacity()},sku:{name:e.root.skuName(),capacity:e.root.skuCapacity()}}),setAuthorizationHeader:!0}).then((function(){k.success(v,l.scaleSettingSavedSuccessfully);n.instance.webHostingPlanCache.refresh(h.WebsiteResourceId.fromCsmResourceId(r),c);a.resolve()}),(function(n){var i,r;if(n.status===202){i=Number(
n.getResponseHeader("Retry-After"));i<2e3&&(i=2e3);t._trackLongRunningOperation(n.getResponseHeader("Location"),i,a,v);return}r=l.scaleSettingSavingFailed;n.responseTex&&(r+=n.responseText);k.failure(v,r);a.reject(n)})),a.promise},serializeParams:function(n){return n}});this.ServerFarmInRg=new i.Data.QueryCache({entityTypeName:f.EntityType.CSMResource,sourceUri:function(n){return"{0}/subscriptions/{1}/resourceGroups/{2}/providers/Microsoft.Web/serverfarms?api-version={3}".format(b.getCSMManagementEndpoint(),n.SubscriptionId,n.ResourceGroup,f.Asset.ASEv2APIVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0})}return r.defineProperty(n,"instance",{get:function(){return n._lazyWebsitesDataSingleton.value},enumerable:!0,configurable:!0}),n.prototype.updateSite=function(n){var t=Q.defer(),i=e.parseWebsiteName(n.name());return i.SlotName&&n.name(i.SlotName),this.getSiteTags(n.id()).then((function(i){n.tags=i;d.callArm(n.id(),"PUT",
u.toJSON(n)).then((function(n){t.resolve(n)}),(function(n){t.reject(n)}))})),t.promise},n.prototype.updateHttpsOnly=function(n){var t=Q.defer();return this.getSiteTags(n.Id()).then((function(i){var r={id:n.Id(),location:n.Location(),tags:i,properties:{httpsOnly:n.HttpsOnly()}};d.callArm(n.Id(),"PUT",u.toJSON(r)).then((function(n){t.resolve(n)}),(function(n){t.reject(n)}))})),t.promise},n.prototype.getSiteTags=function(n){var t,i=Q.defer();return d.callArm(n,"GET",null,f.Asset.AntaresApiVersion).then((function(n){t=n!=null&&n.tags!=null?n.tags:null;i.resolve(t)})),i.promise},n.prototype.getFileSystemUsage=function(n){var t="{0}/usages?$filter=name.value eq 'FileSystemStorage'".format(n,f.Asset.ASEv2APIVersion);return d.callArm(t).then((function(n){return n.value[0]}))},n.prototype.saveFtpInfo=function(n,t){var u=this,r=n.root,f={Name:"ftp_name",PublishingPassword:r.password(),PublishingUserName:r.username()};return c.post("UpdateUser",{user:f,subscriptionId:t.SubscriptionId}).then((function(){i.Data.DataSet.
mergeWithoutAtomization(r,n.getOriginal(r));n.mergeFromOriginal();n.revertAll();u.ftpInfoCache.refreshAll((function(n){return h.WebsiteResourceId.equals(t,n)}))}))},n.prototype._trackLongRunningOperation=function(n,t,r,u){var f=this;Q.delay(t).then((function(){i.Base.Net.ajax({uri:n,setAuthorizationHeader:!0}).then((function(i,e,o){if(o.status===202)f._trackLongRunningOperation(n,t,r,u);else if(o.status===200)k.success(u,l.scaleSettingSavedSuccessfully),r.resolve();else{var s=l.scaleSettingSavingFailed;o.responseTex&&(s+=o.responseText);k.failure(u,s);r.reject()}}),(function(i){if(i.status===202)f._trackLongRunningOperation(n,t,r,u);else if(i.status===200)k.success(u,l.scaleSettingSavedSuccessfully),r.resolve();else{u.percentComplete=100;var e=l.scaleSettingSavingFailed;i.responseTex&&(e+=i.responseText);k.failure(u,e);r.reject()}}))}))},n.prototype.isUserAvailable=function(n,t){var r=Q.defer(),u=h.WebsiteResourceId.fromCsmResourceId(n),e="/subscriptions/{0}/providers/Microsoft.Web/isusernameavailable?name={1}&api-version={2}".
format(u.SubscriptionId,t,f.Asset.AntaresApiVersion),o="{0}{1}".format(b.getCSMManagementEndpoint(),e);return i.Base.Net.ajax({uri:o,contentType:"application/json",setAuthorizationHeader:!0}).then((function(n){r.resolve({valid:n.properties,message:l.userNameNotAvailable})}),(function(){r.resolve({valid:!1,message:l.errorValidatingUser})})),r.promise},n.prototype.DeleteSite=function(n,t){if(t)return d.callArm(n,"DELETE","",f.Asset.AntaresApiVersion);var i="{0}{1}?deleteEmptyServerFarm={2}&api-version={3}".format(b.getCSMManagementEndpoint(),n,t,f.Asset.AntaresApiVersion);return d.callArmFullUri(i,"DELETE")},n.prototype._callBatch=function(n){var t=JSON.stringify({requests:n});return d.callArmJhr("/batch","POST",t,f.Asset.ArmApiVersion)},n})();nt._lazyWebsitesDataSingleton=new a(function(){return new nt});t.WebsitesData=nt;tt={name:"Websites.SiteExtension",properties:{id:null,title:null,summary:null,description:null,version:null,extension_url:null,project_url:null,icon_url:null,license_url:null,
authors:null,published_date_time:null,is_latest_version:null,download_count:null,local_is_latest_version:null,local_path:null,installed_date_time:null,update_available:null},idProperties:["id"],entityType:!0};i.Data.Metadata.setTypeMetadata(tt.name,tt);it={name:"Websites.PurchasedDomain",properties:{Domain:null,Location:null,Name:null,ResourceGroup:null},entityType:!0};i.Data.Metadata.setTypeMetadata(it.name,it);rt={name:"Websites.ServerFarm",properties:{SubscriptionId:null,ResourceGroup:null,Name:null,NumberOfWorkers:null,WorkerSize:null,WorkerSizeId:null,Id:null,Sku:null,Status:null,Location:null,OldPortalRedirectUrl:null,HostingEnvironmentId:null,WebSpace:null,WorkerTierName:null},idProperties:["Id"],entityType:!0};i.Data.Metadata.setTypeMetadata(rt.name,rt);i.Data.Metadata.setTypeMetadata("KuduExtension.Models.ScmInfoModel",{name:"KuduExtension.Models.ScmInfoModel",properties:{ScmType:{isArray:!1,itemType:null,persistEdits:!0},ScmUri:{isArray:!1,itemType:null,persistEdits:!0},RepositoryUri:
{isArray:!1,itemType:null,persistEdits:!0},GitUriFormat:{isArray:!1,itemType:null,persistEdits:!0},PublishingUsername:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:[],entityType:!0});i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.FtpCredentials",{name:"WebsiteExtension.Models.FtpCredentials",properties:{username:null,password:{persistEdits:!1},confirmPassword:{persistEdits:!1}},idProperties:["username"],entityType:!0});i.Data.Metadata.setTypeMetadata(f.TypeMetadatas.geoRegion,{properties:{Name:null,Description:null,SortOrder:null},entityType:!0});i.Data.Metadata.setTypeMetadata(f.TypeMetadatas.subscriptionRegions,{properties:{SubscriptionId:null,Regions:{itemType:f.TypeMetadatas.geoRegion,isArray:!0}},entityType:!0})}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/UI/Notifications",["require","exports","f","$","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities","Websites/ClientResources/ExtensionCoreResources"],(function(n,t,i,
r,u,f){"use strict";return (function(){function n(){}return n.createOperationNotification=function(t,r,u,f,e,o){var h=i.newGuid(),s,c=f,l="{0}InProgress".format(f),a="{0}Failure".format(f),v="{0}Warning".format(f);return s=new i.UI.NotificationManager.Notification(u,l,i.UI.NotificationManager.NotificationState.InProgress,e||[],t,h),i.UI.NotificationManager.addNotifications([s]),r.done((function(n){var r=c,f=i.UI.NotificationManager.NotificationState.Success;n&&n.WarningMessage&&(r=v,f=i.UI.NotificationManager.NotificationState.Warning,e=e||[],e.push(n.WarningMessage));s=new i.UI.NotificationManager.Notification(u,r,f,e||[],t,h,100,o?o.assetId:null);i.UI.NotificationManager.addNotifications([s])})).fail((function(r){var o=n._getOperationErrorMessage(r),f=e||[];f.push(o);s=new i.UI.NotificationManager.Notification(u,a,i.UI.NotificationManager.NotificationState.Error,f,t,h);i.UI.NotificationManager.addNotifications([s])}))},n.createBatchOperationNotification=function(t,i,f,e,o,s){var h=r.Deferred(
),a=[],c=0,l=[],v;return r.each(i,(function(t,i){l.push(i.promise);i.promise.fail((function(t){c++;a.push("\n\n{0} {1}".format(i.failureMessage,n._getOperationErrorMessage(t)))}))})),u.waitForPromises(l).done((function(){var n=a.join(" ");c>=l.length?h.reject(n):c>=1?h.resolve({WarningMessage:n}):h.resolve({})})),v=n.createOperationNotification(t,h.promise(),f,e,o,s),{promise:v,operations:i}},n.createWarningNotification=function(n,t,r,u,f){var o=i.newGuid(),e;e=new i.UI.NotificationManager.Notification(n,t,i.UI.NotificationManager.NotificationState.Warning,r,u,u?o:null,100,f?f.assetId:null);i.UI.NotificationManager.addNotifications([e])},n._getOperationErrorMessage=function(n){var t;return t=typeof n=="string"?n:u.getXhrError(n),t||(t=f.genericErrorMessage),t},n})()}));define("WebsitesExtension/TypeScript/Operations/WebsiteOperationNotification",["require","exports","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/UI/Notifications"],
(function(n,t,i,r,u){"use strict";var f;return (function(n){function t(n,t,f,e){return u.createOperationNotification(n.SubscriptionId(),t,i.Asset.ExtensionName,f,e||[],new r.WebsiteAssetDetails(n))}function f(n,t,f,e){var o=n.id(),s=r.WebsiteResourceId.fromCsmResourceId(o),h=new r.SiteAndSlotDescriptor(o),c=h.slotName?"WebsiteSlot":"Website";return u.createOperationNotification(s.SubscriptionId,t,i.Asset.ExtensionName,f,e||[],{assetType:c})}n.WebsiteNotification=t;n.siteNotification=f})(f||(f={})),f}));define("WebsitesExtension/TypeScript/ViewModels/FormData/UploadCertificateFormData",["require","exports","f","ko"],(function(n,t,i,r){"use strict";var u;return (function(n){var t,u=(function(){function n(){this.CertificatePassword=r.observable("");this.CertificateFile=r.observable("")}return n})();n.UploadCertificate=u;t={name:"WebsiteExtension.UploadCertificate",properties:{CertificatePassword:{persistEdits:!1},CertificateFile:{persistEdits:!1}}};i.Data.Metadata.setTypeMetadata(t.name,t)})(u||(u=
{})),u}));define("WebsitesExtension/TypeScript/ViewModels/FormData/WebsiteConfigSiteSettingsFormData",["require","exports","f","o","ko"],(function(n,t,i,r,u){"use strict";r.defineProperty(t,"__esModule",{value:!0});var f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt=(function(){function n(){this.AlwaysOn=u.observable(!1);this.NetFrameworkVersion=u.observable("");this.PhpVersion=u.observable("");this.NodeVersion=u.observable("");this.AppCommandLine=u.observable("");this.LinuxFxVersion=u.observable("");this.MinTlsVersion=u.observable("");this.JavaMajorVersion=u.observable("");this.JavaVersion=u.observable("");this.JavaContainer=u.observable("");this.JavaContainerVersion=u.observable("");this.JavaWebContainer=u.observable("");this.PythonVersion=u.observable("");this.Use32BitWorkerProcess=u.observable(!0);this.WebSocketsEnabled=u.observable(!1);this.ManagedPipelineMode=u.observable(0);this.AvailableStacks=u.observableArray([]);this.AutoSwapSlotName=u.observable("");this.AutoSwapEnabled=u.observable(
!1);this.AppSettingsWithStickyOption=u.observableArray([]);this.ConnectionStringsWithStickyOption=u.observableArray([]);this.DefaultDocumentViewModels=u.observableArray([]);this.HandlerMappings=u.observableArray([]);this.RemoteDebuggingEnabled=u.observable(!1);this.RemoteDebuggingVersion=u.observable("");this.VirtualApplicationsAndDirectories=u.observableArray([]);this.RampUpRules=u.observableArray([]);this.ClientAffinityEnabled=u.observable(!1)}return n.getVirtualApplicationAndDirectoryViewModels=function(n){var t=[];return n.forEach((function(n){if(t.push({VirtualPath:n.VirtualPath,PhysicalPath:n.PhysicalPath,IsApplication:u.observable(!0)}),n.VirtualDirectories()&&n.VirtualDirectories().length>0){var i=n.VirtualPath()==="/"?"":n.VirtualPath();n.VirtualDirectories().forEach((function(n){t.push({VirtualPath:u.observable(i+n.VirtualPath()),PhysicalPath:n.PhysicalPath,IsApplication:u.observable(!1)})}))}})),t},n.getVirtualApplicationsAndDirectories=function(t){var r=[],e,f,o,s,i,h,c;for(t.sort(
(function(n,t){return n.VirtualPath().length-t.VirtualPath().length})),e=0;e<t.length;e++)if(i=t[e],i.IsApplication())h={VirtualPath:i.VirtualPath,PhysicalPath:i.PhysicalPath,VirtualDirectories:u.observableArray([])},r.push(h);else{for(n.validateVirtualDirectoryPath(i),f=r.length-1;f>=0;f--)if(s=r[f].VirtualPath().replace(/\/$/,"")+"/",i.VirtualPath().indexOf(s)===0){o=r[f];break}if(o)c={VirtualPath:u.observable(i.VirtualPath().substring(o.VirtualPath().length)),PhysicalPath:i.PhysicalPath,VirtualDirectories:u.observableArray([])},o.VirtualDirectories.push(c);else return null}return r},n.validateVirtualDirectoryPath=function(n){if(n.VirtualPath().substring(0,1)!=="/"){var t=n.VirtualPath();n.VirtualPath("/"+t)}},n})();t.WebsiteConfigSiteSettingsFormData=rt;f={name:"WebsiteExtension.SiteSettings",properties:{AlwaysOn:null,NetFrameworkVersion:null,ManagedPipelineMode:null,PhpVersion:null,JavaVersion:null,JavaContainer:null,JavaContainerVersion:null,PythonVersion:null,Use32BitWorkerProcess:null,
WebSocketsEnabled:null,AutoSwapName:null,AppSettingsWithStickyOption:{itemType:"WebsiteExtension.AppSettingWithStickyOption",isArray:!0},ConnectionStringsWithStickyOption:{itemType:"WebsiteExtension.ConnectionStringWithStickyOption",isArray:!0},DefaultDocumentViewModels:{itemType:"WebsiteExtension.DefaultDocumentViewModel",isArray:!0},HandlerMappings:{itemType:"WebsiteExtension.HandlerMapping",isArray:!0},RemoteDebuggingEnabled:null,RemoteDebuggingVersion:null,VirtualApplicationsAndDirectories:{itemType:"WebsiteExtension.VirtualApplicationAndDirectory",isArray:!0},RampUpRules:{itemType:"WebsiteExtension.RampUpRule",isArray:!0}}};e={name:"WebsiteExtension.AppSetting",properties:{Name:null,Value:{persistEdits:!1}},idProperties:["Name"],entityType:!0};o={name:"WebsiteExtension.AppSettingWithStickyOption",properties:{Name:null,Value:{persistEdits:!1},IsStickyToSlot:null},idProperties:["Name"],entityType:!0};s={name:"WebsiteExtension.ConnectionString",properties:{ConnectionString:{persistEdits:
!1},Name:null,Type:null},idProperties:["Name"],entityType:!0};h={name:"WebsiteExtension.ConnectionStringWithStickyOption",properties:{ConnectionString:{persistEdits:!1},Name:null,Type:null,IsStickyToSlot:null},idProperties:["Name"],entityType:!0};c={name:"WebsiteExtension.DefaultDocumentViewModel",properties:{Value:null},idProperties:["Value"],entityType:!0};a={name:"WebsiteExtension.HandlerMapping",properties:{Arguments:null,Extension:null,ScriptProcessor:null},idProperties:["Extension"],entityType:!0};v={name:"WebsiteExtension.VirtualApplicationAndDirectory",properties:{VirtualPath:null,PhysicalPath:null,IsApplication:null},idProperties:["VirtualPath"],entityType:!0};y={name:"WebsiteExtension.RampUpRule",properties:{Name:null,ActionHostName:null,ReroutePercentage:null,SlotName:null},idProperties:["Name"],entityType:!0};p={name:"WebsiteExtension.WebsiteConfigModel",properties:{websiteConfig:{itemType:"WebsiteExtension.ExtendedSiteConfigModel",isArray:!1},availableStacks:{itemType:"WebsiteExtension.AvailableStack",
isArray:!0}},idProperties:["websiteConfig"]};w={name:"WebsiteExtension.ExtendedSiteConfigModel",properties:{GitBranch:null,AlwaysOn:null,AppSettings:{itemType:"WebsiteExtension.AppSetting",isArray:!0},ConnectionStrings:{itemType:"WebsiteExtension.ConnectionString",isArray:!0},DefaultDocuments:{itemType:"WebsiteExtension.DefaultDocument",isArray:!0},DetailedErrorLoggingEnabled:null,DocumentRoot:null,HandlerMappings:{itemType:"WebsiteExtension.HandlerMapping",isArray:!0},HttpLoggingEnabled:null,Metadata:{itemType:"WebsiteExtension.Metadata",isArray:!0},NetFrameworkVersion:null,NumberOfWorkers:null,PhpVersion:null,JavaVersion:null,JavaContainer:null,JavaContainerVersion:null,PythonVersion:null,PublishingPassword:null,PublishingUsername:null,RemoteDebuggingEnabled:null,RemoteDebuggingVersion:null,RequestTracingEnabled:null,ScmType:null,Use32BitWorkerProcess:null,VirtualApplications:{itemType:"WebsiteExtension.VirtualApplication",isArray:!0},WebSocketsEnabled:null,RampUpRules:{itemType:"WebsiteExtension.RampUpRule",
isArray:!0},ManagedPipelineMode:null}};l={name:"WebsiteExtension.DefaultDocument",properties:{Value:null}};b={name:"WebsiteExtension.Metadata",properties:{Name:null,Value:{persistEdits:!1}},idProperties:["Name"],entityType:!0};k={name:"WebsiteExtension.VirtualApplication",properties:{VirtualPath:null,PhysicalPath:null,VirtualDirectories:{itemType:"WebsiteExtension.VirtualDirectory",isArray:!0}},idProperties:["VirtualPath"],entityType:!0};d={name:"WebsiteExtension.VirtualDirectory",properties:{VirtualPath:null,PhysicalPath:null},idProperties:["VirtualPath"],entityType:!0};g={name:"WebsiteExtension.AvailableStack",properties:{Name:null,Display:null,MajorVersions:{itemType:"WebsiteExtension.MajorVersion",isArray:!0},Frameworks:{itemType:"WebsiteExtension.Framework",isArray:!0}},idProperties:["Display"]};nt={name:"WebsiteExtension.Framework",properties:{Name:null,Display:null,MajorVersions:{itemType:"WebsiteExtension.MajorVersion",isArray:!0}},idProperties:["Display"]};tt={name:"WebsiteExtension.MajorVersion",
properties:{DisplayVersion:null,RuntimeVersion:null,IsDefault:null,MinorVersions:{itemType:"WebsiteExtension.MinorVersion",isArray:!0}},idProperties:["DisplayVersion"]};it={name:"WebsiteExtension.MinorVersion",properties:{DisplayVersion:null,RuntimeVersion:null,IsDefault:null},idProperties:["DisplayVersion"]};i.Data.Metadata.setTypeMetadata(e.name,e);i.Data.Metadata.setTypeMetadata(o.name,o);i.Data.Metadata.setTypeMetadata(s.name,s);i.Data.Metadata.setTypeMetadata(h.name,h);i.Data.Metadata.setTypeMetadata(c.name,c);i.Data.Metadata.setTypeMetadata(l.name,l);i.Data.Metadata.setTypeMetadata(a.name,a);i.Data.Metadata.setTypeMetadata(v.name,v);i.Data.Metadata.setTypeMetadata(y.name,y);i.Data.Metadata.setTypeMetadata(f.name,f);i.Data.Metadata.setTypeMetadata(p.name,p);i.Data.Metadata.setTypeMetadata(w.name,w);i.Data.Metadata.setTypeMetadata(b.name,b);i.Data.Metadata.setTypeMetadata(k.name,k);i.Data.Metadata.setTypeMetadata(d.name,d);i.Data.Metadata.setTypeMetadata(g.name,g);i.Data.Metadata.setTypeMetadata(
nt.name,nt);i.Data.Metadata.setTypeMetadata(tt.name,tt);i.Data.Metadata.setTypeMetadata(it.name,it)}));define("WebsitesExtension/TypeScript/Data/Websites/WebsiteDataConfig",["require","exports","f","o","a","ko","$","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/Models/WebsiteResourceId","WebsitesExtension/TypeScript/ViewModels/FormData/UploadCertificateFormData","WebsitesExtension/TypeScript/ViewModels/FormData/WebsiteLogsFormData","WebsitesExtension/TypeScript/ViewModels/FormData/WebsiteConfigSiteSettingsFormData","WebsitesExtension/TypeScript/Data/Websites/WebsitesData","WebsitesExtension/TypeScript/Ajax/Ajax","WebsitesExtension/TypeScript/Ajax/Ajax.Config","WebsitesExtension/TypeScript/Utility/Utility.Slots","WebsitesExtension/TypeScript/Operations/WebsiteOperationNotification","WebsitesExtension/TypeScript/Utility/Utility.Urls","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Utilities",
"WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/_generated/ExtensionDefinition"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){"use strict";var tt,rt,it;r.defineProperty(t,"__esModule",{value:!0});tt=o.LinuxStackVersions;rt=(function(){function n(){var n=this;this.appSettingsCache=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.NameValuePair",sourceUri:function(n){return""+b.getCSMManagementEndpoint()+n+"/config/appsettings/list?api-version="+o.Asset.AntaresApiVersion},setAuthorizationHeader:!0,httpMethod:"POST",serializeParams:function(n){return n},processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.slotConfigNamesCache=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.SlotConfigNames",sourceUri:function(n){return""+b.getCSMManagementEndpoint()+n+"/config/slotConfigNames?api-version="+o.Asset.AntaresApiVersion},setAuthorizationHeader:!0,httpMethod:"GET",serializeParams:function(n){return n},
processServerResponse:function(n){return{data:n}},extendEntryLifetimes:!0});this.connectionStringsCache=new i.Data.EntityCache({entityTypeName:"CSMResource",sourceUri:function(n){return""+b.getCSMManagementEndpoint()+n+"/config/connectionStrings/list?api-version="+o.Asset.AntaresApiVersion},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},serializeParams:function(n){return n},extendEntryLifetimes:!0,httpMethod:"POST"});this.publishingCredentialsCache=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.PublishingCredentials",sourceUri:function(n){return""+b.getCSMManagementEndpoint()+n+"/config/publishingcredentials/list?api-version="+o.Asset.AntaresApiVersion},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n}},serializeParams:function(n){return n},extendEntryLifetimes:!0,httpMethod:"POST"});this.configWebCache=new i.Data.EntityCache({entityTypeName:"AppService.DataModels.SiteConfig",sourceUri:function(n){return""+b.getCSMManagementEndpoint(
)+n+"/config/web?api-version="+o.Asset.SiteConfigApiVersion},setAuthorizationHeader:!0,processServerResponse:function(n){return n.properties.ipSecurityRestrictions||(n.properties.ipSecurityRestrictions=[]),{data:n}},extendEntryLifetimes:!0});this.websiteConfigCache=new i.Data.EntityCache({loader:new k({entityTypeName:"WebsiteExtension.WebsiteConfigModel",httpMethod:"POST",poll:!1,sourceUri:function(){return"/api/Websites/GetConfig"},requestBody:function(n){return{subscriptionId:n.SubscriptionId,siteId:{Name:n.Name,ResourceGroup:n.ResourceGroup}}},supplyData:function(n,t,r,u){var f=[],h=[],c=s.WebsiteResourceId.toCsmResourceId({SubscriptionId:u.subscriptionId,Name:u.siteId.Name,ResourceGroup:u.siteId.ResourceGroup});return h.push(i.Base.Security.hasPermission(c,["./config/read"]).then((function(n){n&&f.push(o.ConfigDataType.general)}))),h.push(i.Base.Security.hasPermission(c,["./config/list/action"]).then((function(n){n&&(f.push(o.ConfigDataType.connectionStrings),f.push(o.ConfigDataType.appSettings),
f.push(o.ConfigDataType.stickySlotConfigNames),f.push(o.ConfigDataType.publishingCredential))}))),h.push(i.Base.Security.hasPermission(c,["./config/connectionStrings/action"]).then((function(n){n&&f.push(o.ConfigDataType.connectionStrings)}))),h.push(i.Base.Security.hasPermission(c,["./config/appSettings/action"]).then((function(n){n&&(f.push(o.ConfigDataType.appSettings),f.push(o.ConfigDataType.stickySlotConfigNames))}))),h.push(i.Base.Security.hasPermission(c,["./config/publishingCredential/action"]).then((function(n){n&&f.push(o.ConfigDataType.publishingCredential)}))),Q.all(h).then((function(){return k.defaultSupplyData(n,t,r,e.extend({},u,{dataTypes:f}))}))},processServerResponse:function(n){return n.websiteConfig&&(n.websiteConfig.PythonVersion===o.PythonVersion.v273?n.websiteConfig.PythonVersion=o.PythonVersion.v27:n.websiteConfig.PythonVersion===o.PythonVersion.v340&&(n.websiteConfig.PythonVersion=o.PythonVersion.v34)),n.websiteConfig.JavaVersion||(n.websiteConfig.JavaVersion=o.JavaVersion.
Off),{data:n}}})});this.appDiagnosticsSettingCache=new i.Data.EntityCache({loader:new k({httpMethod:"POST",sourceUri:function(){return"/api/Websites/GetApplicationDiagnosticsSettings"},requestBody:function(n){return{ResourceUri:n}}})});this.sslCertificatesCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.SSLCertificates",loader:new k({httpMethod:"POST",sourceUri:function(){return"/api/Websites/ListCertificates"},requestBody:function(n){return{SubscriptionId:n.SubscriptionId(),ResourceGroupName:n.ResourceGroup(),WebSpaceName:n.WebSpace(),ServerFarmResourceUri:n.Id()}},processServerResponse:function(n){return{data:n}}})});this.publicCertificatesCache=new i.Data.QueryCache({entityTypeName:AppService.DataModels.PublicCertificateType,sourceUri:function(n){return"{0}{1}/publicCertificates?api-version={2}".format(b.getCSMManagementEndpoint(),n,o.Asset.AntaresApiVersion)},setAuthorizationHeader:!0,processServerResponse:function(n){return{data:n.value}},extendEntryLifetimes:!0});this.
websiteSettingEditScopeCache=i.Data.EditScopeCache.create({entityTypeName:"WebsiteExtension.SiteSettings",supplyExistingData:function(t,i){var w=s.WebsiteResourceId.toCsmResourceId(t),r=n.websiteConfigCache.createView(i),v=n.websiteConfigCache.createView(i),e=a.WebsitesData.instance.siteCache.createView(i),h=p.parseWebsiteName(t.Name),c=Q.defer(),u=[],y;return u.push(e.fetch(w)),e.refresh(),u.push(r.fetch(t)),!h.SlotName||(y={Name:h.ProductionSiteName,ResourceGroup:t.ResourceGroup,SubscriptionId:t.SubscriptionId},u.push(v.fetch(y))),Q.all(u).then((function(){var u=e.item(),i=new l.WebsiteConfigSiteSettingsFormData,t=r.item().websiteConfig(),s=r.item().availableStacks(),p,w,b;u.properties().reserved&&u.properties().reserved()&&((t.NetFrameworkVersion()===o.NetFrameworkVersion.v4_0||t.NetFrameworkVersion()===o.NetFrameworkVersion.v2_0)&&t.NetFrameworkVersion(""),n._populateLinuxStacks(s));var d=t.DefaultDocuments().map((function(n){return{Value:f.observable(n)}})),g=l.WebsiteConfigSiteSettingsFormData.
getVirtualApplicationAndDirectoryViewModels(t.VirtualApplications()),y,a=!t.JavaVersion()?[]:t.JavaVersion().split(".");y=a.length>1?a[0]+"."+a[1]:o.JavaVersion.Off;p=t.JavaContainer()&&t.JavaContainerVersion()?n._generateJavaWebContainer(t.JavaContainer(),t.JavaContainerVersion()):n._getDefaultWebContainer(s);t.AutoSwapSlotName()===null||t.AutoSwapSlotName()===""?i.AutoSwapEnabled(!1):i.AutoSwapEnabled(!0);!t.Use32BitWorkerProcess()&&t.PhpVersion().endsWith("_x64")&&(w=t.PhpVersion().replace("_x64",""),t.PhpVersion(w));i.AutoSwapSlotName(t.AutoSwapSlotName());i.AlwaysOn(t.AlwaysOn());i.NetFrameworkVersion(t.NetFrameworkVersion());i.NodeVersion(t.NodeVersion());i.AppCommandLine(t.AppCommandLine());i.LinuxFxVersion(t.LinuxFxVersion());i.MinTlsVersion(t.MinTlsVersion());i.ManagedPipelineMode(t.ManagedPipelineMode());i.PhpVersion(t.PhpVersion());i.JavaMajorVersion(y);i.JavaVersion(t.JavaVersion()||o.JavaVersion.Off);i.JavaContainerVersion(t.JavaContainerVersion());i.JavaContainer(t.JavaContainer(
));i.JavaWebContainer(p);i.PythonVersion(t.PythonVersion()||o.PythonVersion.defaultValue);i.AvailableStacks(s);i.Use32BitWorkerProcess(t.Use32BitWorkerProcess());i.WebSocketsEnabled(t.WebSocketsEnabled());i.DefaultDocumentViewModels(d);i.HandlerMappings(t.HandlerMappings()||[]);i.RemoteDebuggingEnabled(t.RemoteDebuggingEnabled());i.RemoteDebuggingVersion(t.RemoteDebuggingVersion()||o.Debugging.v2012);i.VirtualApplicationsAndDirectories(g);i.RampUpRules(t.RampUpRules());i.ClientAffinityEnabled(u.properties().clientAffinityEnabled());b=h.SlotName?v.item():r.item();var k=b.stickySlotConfigNames(),nt=n._getconnectionStringsWithStickyOption(t.ConnectionStrings()||[],k),tt=n._getAppSettingsWithStickyOption(t.AppSettings()||[],k);i.ConnectionStringsWithStickyOption(nt);i.AppSettingsWithStickyOption(tt);c.resolve(i)}),(function(){c.reject()})),c.promise},refreshEditScope:function(t,i){return n.websiteConfigCache.createView(i).fetch(t)},saveEditScopeChanges:function(t,r,u,e){var h=r.root,p={Name:t.
Name,ResourceGroup:t.ResourceGroup},tt=n._getEditedNonDeletedItemsNoMerge(r,"DefaultDocumentViewModels"),it=tt.map((function(n){return n.Value()})),rt=n._getEditedNonDeletedItemsNoMerge(r,"HandlerMappings"),ut=n._getEditedNonDeletedItemsNoMerge(r,"VirtualApplicationsAndDirectories"),ft=l.WebsiteConfigSiteSettingsFormData.getVirtualApplicationsAndDirectories(ut),c=n._getEditedNonDeletedItemsNoMerge(r,"AppSettingsWithStickyOption"),k=n._getEditedNonDeletedItemsNoMerge(r,"ConnectionStringsWithStickyOption"),et=k.map((function(n){return{ConnectionString:n.ConnectionString,Name:n.Name,Type:n.Type}})),ot=n._getEditedNonDeletedItemsNoMerge(r,"RampUpRules"),v=Q.defer(),st=n.websiteConfigCache.fetch(t,e),g=s.WebsiteResourceId.toCsmResourceId(t),b=a.WebsitesData.instance.siteCache.createView(e),ht=b.fetch(g),ct=new s.SiteAndSlotDescriptor(g),lt=i.Base.Security.hasPermission(ct.websiteResourceUri,[nt.AssetTypes.Website.Permissions.write]);return Q.all([st,ht,lt,]).spread((function(n,r,u){var s=n.data(
),nt=b.item(),l,g;s.websiteLoggingConfig().Retention()&&(l={Name:f.observable(o.SiteLogging.KeyRetention),Value:f.observable(s.websiteLoggingConfig().Retention()),IsStickyToSlot:f.observable(!1)},c.push(l));s.websiteLoggingConfig().StorageUrl()&&(g={Name:f.observable(o.SiteLogging.KeyStorageUrl),Value:f.observable(s.websiteLoggingConfig().StorageUrl()),IsStickyToSlot:f.observable(!1)},c.push(g));var tt=s.websiteConfig(),ut=f.toJS(tt),e=f.mapping.fromJS(ut);return h.AutoSwapEnabled()?e.AutoSwapSlotName(h.AutoSwapSlotName()):e.AutoSwapSlotName(""),e.JavaContainer(h.JavaWebContainer().split(" ",2)[0]),e.JavaContainerVersion(h.JavaWebContainer().split(" ",2)[1]),e.AlwaysOn(h.AlwaysOn()),e.ManagedPipelineMode(h.ManagedPipelineMode()),nt.properties().reserved()&&!h.NetFrameworkVersion()?e.NetFrameworkVersion(o.NetFrameworkVersion.v4_0):e.NetFrameworkVersion(h.NetFrameworkVersion()),e.NodeVersion(!h.NodeVersion()?null:h.NodeVersion()),e.PhpVersion(h.PhpVersion()),e.AppCommandLine(h.AppCommandLine(
)),e.LinuxFxVersion(h.LinuxFxVersion()),e.MinTlsVersion(h.MinTlsVersion()),e.JavaVersion(h.JavaVersion()),e.PythonVersion(h.PythonVersion()),e.Use32BitWorkerProcess(h.Use32BitWorkerProcess()),e.WebSocketsEnabled(h.WebSocketsEnabled()),e.AppSettings(c),e.ConnectionStrings(et),e.DefaultDocuments(it),e.HandlerMappings(rt),e.RemoteDebuggingEnabled(h.RemoteDebuggingEnabled()),e.RemoteDebuggingVersion(h.RemoteDebuggingVersion()),e.RampUpRules(ot),e.VirtualApplications(ft),y.getStickySlotConfigNames(t.SubscriptionId,p).done((function(n){var r=b.item(),s=[],it,rt;if(s.push(y.updateSiteConfig(t.SubscriptionId,p,e,r.location(),!!r.properties().targetSwapSlot())),u){var l=[],g=[],nt=[],tt=[];c.forEach((function(n){n.IsStickyToSlot()?l.push(n.Name()):nt.push(n.Name())}));n.AppSettingNames&&n.AppSettingNames.forEach((function(n){nt.indexOf(n)<0&&l.indexOf(n)<0&&l.push(n)}));k.forEach((function(n){n.IsStickyToSlot()?g.push(n.Name()):tt.push(n.Name())}));n.ConnectionStringNames&&n.ConnectionStringNames.forEach(
(function(n){tt.indexOf(n)<0&&g.indexOf(n)<0&&g.push(n)}));it={AppSettingNames:f.observableArray(l),ConnectionStringNames:f.observableArray(g)};s.push(y.updateStickySlotConfigNames(t.SubscriptionId,p,it,r.location()))}r.properties().clientAffinityEnabled()!==h.ClientAffinityEnabled()&&(r.properties().clientAffinityEnabled(h.ClientAffinityEnabled()),rt=a.WebsitesData.instance.updateSite(r),s.push(rt));Q.all(s).then((function(){return v.resolve(),{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}}),(function(n){return v.reject(n),{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}}));w.siteNotification(r,d.toJQueryPromise(v.promise),o.NotificationEventSource.UpdateSiteSettings,[r.name()])}))})),v.promise},serializeParams:s.WebsiteResourceId.toCsmResourceId});this.websiteDiagnosticsSettingsEditScopeCache=i.Data.EditScopeCache.create({entityTypeName:"WebsiteExtension.WebsiteLogsSettings",supplyExistingData:function(t,i){var u=n.appDiagnosticsSettingCache.createView(i),r=
Q.defer();return u.fetch(s.WebsiteResourceId.toCsmResourceId(t)).then((function(){var n=u.item();n.ApplicationLoggingStorage=f.observable({storageAccountId:f.observable(""),sasUri:n.AzureApplicationLogsBlobSasUrl,containerUri:f.observable("")});n.AzureApplicationLogsBlobRetentionInDays(n.AzureApplicationLogsBlobRetentionInDays());n.WebServerLoggingStorage=f.observable({storageAccountId:f.observable(""),sasUri:n.AzureHttpLogsBlobSasUrl,containerUri:f.observable("")});n.WebServerLoggingOptions=f.observable(c.WebServerLoggingOption.Off);n.FileSystemHttpLogsEnabled()?(n.WebServerLoggingOptions(c.WebServerLoggingOption.FileSystem),n.FileSystemHttpLogsRetentionInMb(n.FileSystemHttpLogsRetentionInMb()),n.FileSystemHttpLogsRetentionInDays(n.FileSystemHttpLogsRetentionInDays())):n.AzureHttpLogsBlobEnabled()&&(n.WebServerLoggingOptions(c.WebServerLoggingOption.Storage),n.AzureHttpLogsBlobRetentionInDays(n.AzureHttpLogsBlobRetentionInDays()));r.resolve(n)}),(function(){r.reject()})),r.promise},serializeParams:
s.WebsiteResourceId.toCsmResourceId});this.uploadCertificateEditScopeCache=i.Data.EditScopeCache.createNew({entityTypeName:"WebsiteExtension.UploadCertificate",supplyNewData:function(){return new h.UploadCertificate},serializeParams:s.WebsiteResourceId.toCsmResourceId,saveEditScopeChanges:function(){var n=Q.defer();return n.resolve({action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}),n.promise}})}return n.prototype.updateAppSettings=function(n,t){return g.callArm(n+"/config/appSettings","PUT",f.toJSON(t),o.Asset.AntaresApiVersion)},n.prototype.updateSlotConfigNames=function(n,t){return g.callArm(n+"/config/slotConfigNames","PUT",f.toJSON(t),o.Asset.AntaresApiVersion)},n.prototype._populateLinuxStacks=function(n){n.forEach((function(n){n.Name().toLowerCase()===o.AvailableStacks.NetStackName?n.MajorVersions([{DisplayVersion:f.observable(o.LinuxStackVersions.DotNetCore_1_0),RuntimeVersion:f.observable(o.LinuxStackVersions.DotNetCore_1_0),IsDefault:f.observable(!0),MinorVersions:
f.observableArray([])},{DisplayVersion:f.observable(o.LinuxStackVersions.DotNetCore_1_1),RuntimeVersion:f.observable(o.LinuxStackVersions.DotNetCore_1_1),IsDefault:f.observable(!1),MinorVersions:f.observableArray([])},{DisplayVersion:f.observable(o.LinuxStackVersions.DotNetCore_2_0),RuntimeVersion:f.observable(o.LinuxStackVersions.DotNetCore_2_0),IsDefault:f.observable(!1),MinorVersions:f.observableArray([])}]):n.Name().toLowerCase()===o.AvailableStacks.NodeStackName?n.MajorVersions([{DisplayVersion:f.observable("4.4"),RuntimeVersion:f.observable("4.4"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node4_4_7),RuntimeVersion:f.observable(tt.Node4_4_7),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("4.5"),RuntimeVersion:f.observable("4.5"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node4_5_0),RuntimeVersion:f.observable(tt.Node4_5_0),IsDefault:f.observable(!1)}])},{DisplayVersion:f.
observable("6.2"),RuntimeVersion:f.observable("6.2"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node6_2_2),RuntimeVersion:f.observable(tt.Node6_2_2),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("6.6"),RuntimeVersion:f.observable("6.6"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node6_6_0),RuntimeVersion:f.observable(tt.Node6_6_0),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("6.9"),RuntimeVersion:f.observable("6.9"),IsDefault:f.observable(!0),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node6_9_3),RuntimeVersion:f.observable(tt.Node6_9_3),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("6.10"),RuntimeVersion:f.observable("6.10"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node6_10),RuntimeVersion:f.observable(tt.Node6_10),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("6.11"),
RuntimeVersion:f.observable("6.11"),IsDefault:f.observable(!0),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node6_11),RuntimeVersion:f.observable(tt.Node6_11),IsDefault:f.observable(!0)}])},{DisplayVersion:f.observable("8.0"),RuntimeVersion:f.observable("8.0"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node8_0),RuntimeVersion:f.observable(tt.Node8_0),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("8.1"),RuntimeVersion:f.observable("8.1"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node8_1),RuntimeVersion:f.observable(tt.Node8_1),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("8.2"),RuntimeVersion:f.observable("8.2"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node8_2),RuntimeVersion:f.observable(tt.Node8_2),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("8.8"),RuntimeVersion:f.observable(
"8.8"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node8_8),RuntimeVersion:f.observable(tt.Node8_8),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("8.9"),RuntimeVersion:f.observable("8.9"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node8_9),RuntimeVersion:f.observable(tt.Node8_9),IsDefault:f.observable(!1)}])},{DisplayVersion:f.observable("9.4"),RuntimeVersion:f.observable("9.4"),IsDefault:f.observable(!1),MinorVersions:f.observableArray([{DisplayVersion:f.observable(tt.Node9_4),RuntimeVersion:f.observable(tt.Node9_4),IsDefault:f.observable(!1)}])}]):n.Name().toLowerCase()===o.AvailableStacks.PhpStackName?n.MajorVersions([{DisplayVersion:f.observable(tt.Php5_6_21),RuntimeVersion:f.observable(tt.Php5_6_21),IsDefault:f.observable(!1),MinorVersions:f.observableArray([])},{DisplayVersion:f.observable(tt.Php7_0_6),RuntimeVersion:f.observable(tt.Php7_0_6),IsDefault:f.observable(!1),MinorVersions:
f.observableArray([])},{DisplayVersion:f.observable(tt.Php7_2),RuntimeVersion:f.observable(tt.Php7_2),IsDefault:f.observable(!0),MinorVersions:f.observableArray([])}]):n.Name().toLowerCase()===o.AvailableStacks.JavaStackName&&n.MajorVersions([{DisplayVersion:f.observable(tt.Tomcat8_5),RuntimeVersion:f.observable(tt.Tomcat8_5_runtime),IsDefault:f.observable(!0),MinorVersions:f.observableArray([])},{DisplayVersion:f.observable(tt.Tomcat9_0),RuntimeVersion:f.observable(tt.Tomcat9_0_runtime),IsDefault:f.observable(!1),MinorVersions:f.observableArray([])}])}))},n.prototype.getAppSettings=function(n){return g.callArmJhr(n+"/config/appsettings/list","POST")},n.prototype.getSiteConfig=function(n){return g.callArmJhr(n+"/config/web","GET","",o.Asset.SiteConfigApiVersion)},n.prototype.updateSiteConfig=function(n,t){return g.callArm(n+"/config/web","PUT",f.toJSON(t),o.Asset.SiteConfigApiVersion)},n.prototype.updateSiteRoutingRules=function(n,t,i){var u=n.root,r=this._getEditedNonDeletedItemsNoMerge(
n,"RampUpRules");return i.RampUpRules(r),y.updateSiteConfigRoutingRules(t.SubscriptionId(),{Name:t.Name(),ResourceGroup:t.ResourceGroup()},i,t.Location()).then((function(){var t=n.getOriginal(u);t.RampUpRules(r);n.mergeFromOriginal();n.revertAll()}))},n.prototype.addCertificate=function(n,t){var i=n.root;return v.post("AddCertificate",{subscriptionId:t.SubscriptionId(),resourceGroupName:t.ResourceGroup(),base64EncodedCertificate:i.CertificateFile(),password:i.CertificatePassword(),location:t.Location(),hostingEnvironment:t.HostingEnvironmentId(),serverFarmName:t.Name(),WebSpaceName:t.WebSpace()})},n.prototype.updateConnectionStrings=function(n,t){return g.callArm(""+b.getCSMManagementEndpoint()+n+"/config/connectionStrings","PUT",t,o.Asset.AntaresApiVersion)},n.prototype._generateJavaWebContainer=function(n,t){return n.toLowerCase()+" "+t},n.prototype._getDefaultWebContainer=function(n){for(var e,i,r,u,s,t=null,h="",f=0;f<n.length;f++)e=n[f],e.Name()===o.AvailableStacks.JavaContainerStackName&&
(t=e);if(t)for(i=0;i<t.Frameworks().length;i++)for(r=t.Frameworks()[i],u=0;u<r.MajorVersions().length;u++)if(s=r.MajorVersions()[u],s.IsDefault()){h=this._generateJavaWebContainer(r.Name(),s.RuntimeVersion());break}return h},n.prototype._getAppSettingsWithStickyOption=function(n,t){var r=[],i=t===null?[]:f.utils.unwrapObservable(t.AppSettingNames);return i===null&&(i=[]),n.forEach((function(n){r.push({Name:n.Name,Value:n.Value,IsStickyToSlot:f.observable(i.indexOf(n.Name())>-1)})})),r},n.prototype._getconnectionStringsWithStickyOption=function(n,t){var r=[],i=t===null?[]:f.utils.unwrapObservable(t.ConnectionStringNames);return i===null&&(i=[]),n.forEach((function(n){r.push({Name:n.Name,ConnectionString:n.ConnectionString,Type:n.Type,IsStickyToSlot:f.observable(i.indexOf(n.Name())>-1)})})),r},n.prototype._getEditedNonDeletedItemsNoMerge=function(n,t){var r=n.root[t]().filter((function(t){return n.getEditState(t)()!==i.Data.EditState.Deleted})),u=n.getCreated(n.root[t]);return r.concat(u())},n.
prototype._getDeletedItems=function(n,t){return n.root[t]().filter((function(t){return n.getEditState(t)()===i.Data.EditState.Deleted}))},n})();t.WebsiteDataConfig=rt;it={name:"WebsiteExtension.WebsiteLogsSettings",properties:{ApplicationLoggingStorage:null,WebServerLoggingStorage:null,WebServerLoggingOptions:null,AzureApplicationLogsFileSystemEnabled:null,AzureApplicationLogsFileSystemTraceLevel:null,AzureApplicationLogsTableEnabled:null,AzureApplicationLogsTableTraceLevel:null,AzureApplicationLogsTableSasUrl:null,AzureApplicationLogsBlobEnabled:null,AzureApplicationLogsBlobTraceLevel:null,AzureApplicationLogsBlobSasUrl:null,AzureApplicationLogsBlobRetentionInDays:null,FileSystemHttpLogsEnabled:null,FileSystemHttpLogsRetentionInMb:null,FileSystemHttpLogsRetentionInDays:null,AzureHttpLogsBlobEnabled:null,AzureHttpLogsBlobSasUrl:null,AzureHttpLogsBlobRetentionInDays:null,FailedRequestsTracingEnabled:null,DetailedErrorMessagesEnabled:null}};i.Data.Metadata.setTypeMetadata(it.name,it)}));define(
"WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/EventSource",["require","exports"],(function(){"use strict";return (function(){function n(){}return n.prototype.on=function(n,t){var i=this,r=function(){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];t.apply(i,r)},u;$(this).on(n,r);return u=function(){$(i).off(n,r)},{dispose:u}},n.prototype.trigger=function(n,t){$(this).trigger(n,t)},n})()}));define("WebsitesExtension/TypeScript/Deprecated/ExtensionCore/ViewModels/ResourceExtender",["require","exports"],(function(){"use strict";return (function(){function n(n){this._resourcePartExtenders=[];this._extensionName=n}return n.prototype.registerResourceExtenderViewModel=function(n,t){var i=this;this._resourcePartExtenders.push(t);n.registerForDispose({dispose:function(){i._resourcePartExtenders.remove(t)}})},n.prototype.signalAssetRefresh=function(n,t){var i=this;this._resourcePartExtenders.forEach((function(r){r.signalAssetRefresh(i._extensionName,n,t)}))},n})()}));define("WebsitesExtension/TypeScript/SupportSite/SupportConstants",
["require","exports","o"],(function(n,t,i){"use strict";i.defineProperty(t,"__esModule",{value:!0});var r=(function(){function n(){}return n})();r.liveHttpLink="https://mawssupport.trafficmanager.net/?sitename={0}&tab=observe&source=ibiza";r.diagnosticsLink="https://mawssupport.trafficmanager.net/?sitename={0}&tab=analyze&childtab=daas&source=ibiza";r.applicationEventsLink="https://mawssupport.trafficmanager.net/?sitename={0}&tab=analyze&childtab=etw&source=ibiza";r.metricsLink="https://mawssupport.trafficmanager.net/?sitename={0}&tab=analyze&childtab=metrics&source=ibiza";r.frebLink="https://mawssupport.trafficmanager.net/?sitename={0}&tab=analyze&childtab=freb&source=ibiza";r.mitigateLink="https://mawssupport.trafficmanager.net/?sitename={0}&tab=mitigate&source=ibiza";r.eventviewerlogsstring="Event Viewer Logs";r.memorydumpstring="Memory Dump";r.httplogsstring="HTTP Logs";r.phperrorlogsstring="PHP Error Logs";r.phpprocessreportstring="PHP Process Report";r.nodeprocessreportstring="Node Process Report";
r.normalrefreshrate=1e4;r.defaultDaastimespan="00:00:01";r.diagnoseNowCommand="DiagnoseNowCommand";r.customDiagnoseBladeOpened="CustomDiagnoseBladeOpened";r.customDiagnoseCommand="CustomDiagnose";r.daasListView="DaaSListView";r.daasListViewV1="DaaSListViewV1";r.daasDetailsView="DaaSDetailsView";r.frebView="FrebView";r.liveHttpView="LiveHttpView";r.metricsView="MetricsView";r.autoHealView="AutoHealView";r.applicationEventsView="ApplicationEventsView";r.openPartAction="OpenPart";t.Constants=r}));define("WebsitesExtension/TypeScript/SupportSite/Data/DaaSData",["require","exports","f","o","ko","WebsitesExtension/TypeScript/Helpers/ArmHelpers","WebsitesExtension/TypeScript/SupportSite/SupportConstants","Websites/ClientResources/GeneralResources","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Data/DataCacheLoader"],(function(n,t,i,r,u,f,e,o,s){"use strict";r.defineProperty(t,"__esModule",{value:!0});i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.SupportSite.DaaSSession",{name:
"WebsiteExtension.Models.SupportSite.DaaSSession",properties:{SessionId:{isArray:!1,itemType:null,persistEdits:!1},Status:{isArray:!1,itemType:null,persistEdits:!0},Description:{isArray:!1,itemType:null,persistEdits:!0},StartTime:{isArray:!1,itemType:null,persistEdits:!1},EndTime:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:["SessionId"],entityType:!0});i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.SupportSite.DownloadableFile",{name:"WebsiteExtension.Models.SupportSite.DownloadableFile",properties:{FileDisplayName:{isArray:!1,itemType:null,persistEdits:!1},Path:{isArray:!1,itemType:null,persistEdits:!0},FileType:{isArray:!1,itemType:null,persistEdits:!0},Status:{isArray:!1,itemType:null,persistEdits:!0},FileSize:{isArray:!1,itemType:null,persistEdits:!1},DirectFilePath:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:["DirectFilePath"],entityType:!0});i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.SupportSite.Diagnoser",{name:"WebsiteExtension.Models.SupportSite.Diagnoser",
properties:{Name:{isArray:!1,itemType:null,persistEdits:!1},Enabled:{isArray:!1,itemType:null,persistEdits:!0},Description:{isArray:!1,itemType:null,persistEdits:!0},Warnings:{isArray:!0,itemType:null,persistEdits:!0}},idProperties:["Name"],entityType:!0});i.Data.Metadata.setTypeMetadata("WebsiteExtension.Models.SupportSite.DaaSInstance",{name:"WebsiteExtension.Models.SupportSite.DaaSInstance",properties:{Name:{isArray:!1,itemType:null,persistEdits:!1}},idProperties:["Name"],entityType:!0});var h=(function(){function n(n){var t=this;this.DaaSSessionsCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.Models.SupportSite.DaaSSession",sourceUri:function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/sessions/all/".format(n.SubscriptionId,n.ResourceGroup,t.formatslotUrl(n.Name)))},supplyData:f.getArmDataSupplier(),poll:!0,pollInterval:e.Constants.normalrefreshrate,serializeParams:function(n){return"{0}/{1}/{2}".format(
n.SubscriptionId.toLowerCase(),n.ResourceGroup.toLowerCase(),t.formatslotUrl(n.Name.toLowerCase()))}});this.DaaSSessionLogsCache=new i.Data.QueryCache({loader:new s({entityTypeName:"WebsiteExtension.Models.SupportSite.DownloadableFile",httpMethod:"GET",sourceUri:function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/v2/session/downloadfileslist/{3}/Logs".format(n.WebsiteId.SubscriptionId,n.WebsiteId.ResourceGroup,t.formatslotUrl(n.WebsiteId.Name),n.SessionId))},poll:!1})});this.DaaSSessionMemoryDumpsCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.Models.SupportSite.DownloadableFile",sourceUri:function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/v2/session/downloadfileslist/{3}/MemoryDumps".format(n.WebsiteId.SubscriptionId,n.WebsiteId.ResourceGroup,t.formatslotUrl(n.WebsiteId.Name),n.SessionId))},supplyData:f.getArmDataSupplier(),serializeParams:
function(n){return"{0}/{1}/{2}/{3}".format(n.WebsiteId.SubscriptionId.toLowerCase(),n.WebsiteId.ResourceGroup.toLowerCase(),t.formatslotUrl(n.WebsiteId.Name.toLowerCase()),n.SessionId.toLowerCase())}});this.DaaSSessionReportsCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.Models.SupportSite.DownloadableFile",sourceUri:function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/v2/session/downloadfileslist/{3}/Reports".format(n.WebsiteId.SubscriptionId,n.WebsiteId.ResourceGroup,t.formatslotUrl(n.WebsiteId.Name),n.SessionId))},supplyData:f.getArmDataSupplier(),serializeParams:function(n){return"{0}/{1}/{2}/{3}".format(n.WebsiteId.SubscriptionId.toLowerCase(),n.WebsiteId.ResourceGroup.toLowerCase(),t.formatslotUrl(n.WebsiteId.Name.toLowerCase()),n.SessionId.toLowerCase())}});this.DaaSSessionErrorsCache=new i.Data.QueryCache({entityTypeName:"string",sourceUri:function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/v2/session/errors/{3}/".
format(n.WebsiteId.SubscriptionId,n.WebsiteId.ResourceGroup,t.formatslotUrl(n.WebsiteId.Name),n.SessionId))},supplyData:f.getArmDataSupplier(),serializeParams:function(n){return"{0}/{1}/{2}/{3}".format(n.WebsiteId.SubscriptionId.toLowerCase(),n.WebsiteId.ResourceGroup.toLowerCase(),t.formatslotUrl(n.WebsiteId.Name.toLowerCase()),n.SessionId.toLowerCase())}});this.DaaSDiagnosersCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.Models.SupportSite.Diagnoser",sourceUri:function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/diagnosers".format(n.SubscriptionId,n.ResourceGroup,t.formatslotUrl(n.Name)))},supplyData:f.getArmDataSupplier(),serializeParams:function(n){return"{0}/{1}/{2}".format(n.SubscriptionId.toLowerCase(),n.ResourceGroup.toLowerCase(),t.formatslotUrl(n.Name.toLowerCase()))}});this.DaaSInstancesCache=new i.Data.QueryCache({entityTypeName:"WebsiteExtension.Models.SupportSite.DaaSInstance",sourceUri:
function(n){return f.getArmUri("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/instances".format(n.SubscriptionId,n.ResourceGroup,t.formatslotUrl(n.Name)))},supplyData:f.getArmDataSupplier(),serializeParams:function(n){return"{0}/{1}/{2}".format(n.SubscriptionId.toLowerCase(),n.ResourceGroup.toLowerCase(),t.formatslotUrl(n.Name.toLowerCase()))}});this._dataContext=n}return n.prototype.formatslotUrl=function(n){return n.replace(")","").replace("(","/slots/")},n.prototype.CreateDaaSSessionArm=function(n,t){return f.callArmWithNotifications("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/sessions/".format(n.SubscriptionId,n.ResourceGroup,this.formatslotUrl(n.Name)),"POST",o.SupportSite.Daas.createNotificationTitle,o.SupportSite.Daas.createSuccessText,o.SupportSite.Daas.createSuccessText.format(n.Name),o.SupportSite.Daas.createFailureText.format(n.Name),u.toJSON(t))},n.prototype.GetDaasSessionErrors=function(
n,t){return f.callArm("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/v2/session/errors/{3}/".format(n.SubscriptionId,n.ResourceGroup,this.formatslotUrl(n.Name),t),"GET")},n.prototype.GetDaasVersion=function(n){return f.callArm("/subscriptions/{0}/resourcegroups/{1}/providers/Microsoft.Web/sites/{2}/extensions/daas/api/v2/daasversion".format(n.SubscriptionId,n.ResourceGroup,this.formatslotUrl(n.Name)),"GET")},n})();t.DaaSData=h}));__extends=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/ViewModels/Parts/ResourceExtender",["require","exports","f","o","WebsitesExtension/TypeScript/_generated/ExtensionDefinition","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/ViewModels/ResourceExtender"],
(function(n,t,i,r,u,f){"use strict";var e;return (function(n){var r=(function(n){function t(){return n.call(this,u.definitionName)||this}return __extends(t,n),t.prototype.signalWebsiteRefresh=function(n){this.signalAssetRefresh(u.AssetTypeNames.website,n)},t.prototype.signalWebHostingPlanRefresh=function(n){this.signalAssetRefresh(u.AssetTypeNames.webHostingPlan,n)},t})(f),t;n.ResourceExtender=r;t=(function(n){function t(t,i,r){var u=n.call(this)||this;return r.resourceExtender.registerResourceExtenderViewModel(t,u),u}return __extends(t,n),t})(i.ViewModels.Services.ResourceTypes.ResourcePartExtender);n.ResourceExtenderViewModel=t})(e||(e={})),e}));define("WebsitesExtension/TypeScript/WinRm/Model/WinRmModels",["require","exports","o","ko"],(function(n,t,i,r){"use strict";var u,f;i.defineProperty(t,"__esModule",{value:!0});u=(function(){function n(){this.winRmEnabled=r.observable(f.disabled);this.username=r.observable("");this.password=r.observable("")}return n})();t.WinRmInfo=u,(function(n){n[n.disabled=
0]="disabled";n[n.enabled=1]="enabled"})(f=t.WinRmStatus||(t.WinRmStatus={}))}));define("WebsitesExtension/TypeScript/WinRm/Data/WinRmData",["require","exports","f","o","WebsitesExtension/TypeScript/ExtensionAssets/Constants","WebsitesExtension/TypeScript/WinRm/Model/WinRmModels"],(function(n,t,i,r,u,f){"use strict";r.defineProperty(t,"__esModule",{value:!0});var e=(function(){function n(n){var t=this;this._dataContext=n;this.winRmCache=i.Data.EditScopeCache.create({supplyExistingData:function(n,i){return t._fetchWinRmData(n,i)},refreshEditScope:function(n,i){return t._fetchWinRmData(n,i)},saveEditScopeChanges:function(n,r){return Q.all([t._dataContext.websiteDataConfig.getAppSettings(n)]).then((function(i){var e=r.root,f=i[0],o=f.properties;return o[u.Docker.containerWinRmEnabled]=e.winRmEnabled(),t._dataContext.websiteDataConfig.updateAppSettings(n,f)})).then((function(){return{action:i.Data.AcceptEditScopeChangesAction.AcceptClientChanges}})).catch((function(){return{action:i.Data.AcceptEditScopeChangesAction.
AcceptClientChanges}}))}})}return n.prototype._fetchWinRmData=function(n,t){var i=new f.WinRmInfo;return Q.all([this._dataContext.websiteDataConfig.getAppSettings(n),this._dataContext.websiteDataConfig.publishingCredentialsCache.fetch(n,t)]).then((function(n){var t=n[0].properties,r=n[1].data(),f;return t[u.Docker.containerWinRmEnabled]&&(f=parseInt(t[u.Docker.containerWinRmEnabled]),i.winRmEnabled(f===1?1:0)),i.username(r.properties().publishingUserName()),i.password(r.properties().publishingPassword()),i}))},n})();t.WinRmData=e}));__extends=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}})();define("WebsitesExtension/TypeScript/Shared/SharedArea",["require","exports","f","o","ko","WebsitesExtension/TypeScript/ViewModels/Parts/ResourceExtender",
"WebsitesExtension/TypeScript/Data/Websites/WebsiteDataConfig","WebsitesExtension/TypeScript/Data/Data.HybridConnections","WebsitesExtension/TypeScript/Data/Data.ProcessExplorer","WebsitesExtension/TypeScript/Data/Websites/WebsitesData","WebsitesExtension/TypeScript/Data/Data.Resources","WebsitesExtension/TypeScript/Data/Data.PricingTiers","WebsitesExtension/TypeScript/ContinuousDeployment/Data/ScmData","WebsitesExtension/TypeScript/AppServiceEnvironment/Data/ASEData","WebsitesExtension/TypeScript/Data/ResourceGroupsData","WebsitesExtension/TypeScript/Data/ObjectCache","WebsitesExtension/TypeScript/Data/Data.MobileApp","WebsitesExtension/TypeScript/Data/GalleryData","WebsitesExtension/TypeScript/SupportSite/Data/DaaSData","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/EventSource","WebsitesExtension/TypeScript/Deprecated/ExtensionCore/Utilities/Lazy","WebsitesExtension/TypeScript/AppServiceDomains/Data/Data.Domain","WebsitesExtension/TypeScript/Data/Data.ResourceGroups",
"WebsitesExtension/TypeScript/Data/Data.Storage","WebsitesExtension/TypeScript/Data/Data.DocDB","WebsitesExtension/TypeScript/ApiHub/ApiHubData","WebsitesExtension/TypeScript/Data/Data.Locations","WebsitesExtension/TypeScript/CustomContainer/CustomContainerData","WebsitesExtension/TypeScript/WinRm/Data/WinRmData","WebsitesExtension/TypeScript/Data/Data.AzureContainers"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){"use strict";var ht;return (function(n){var t=(function(){function n(){this.events=new d;this.gallery=new b.GalleryData;this.resourceExtender=new f.ResourceExtender;this.resourceGroups=new y.ResourceGroupsData;this.resourceGroups2=new tt;this.azureContainer=new st.AzureContainer;this.setupCDBladeState=u.observable();this.setupCDBladeStateMesg=u.observable();this.setupOAuthBladeState=u.observable();this.setupOAuthBladeStateMesg=u.observable();this.purchaseDomainContactInfoBladeState=u.observable();this.purchaseDomainContactInfoBladeStateMsg=u.observable(
);this.hostingEnvironmentState=u.observable();this.hostingEnvironmentStateMsg=u.observable();this.hybridConnectionsData=new o.HybridConnectionsData;this.processExplorerData=new s.ProcessExplorerData;this.websitesData=h.WebsitesData.instance;this.websitesDataUpdated=u.observable(!1);this.websiteDataConfig=new e.WebsiteDataConfig;this.contentState=u.observable(0);this.resourcesData=new c.ResourcesData;this.pricingTiersData=new l.PricingTiersData;this.scmData=new a.ScmData;this.aseData=new v.ASEData;this.DomainData=nt.DomainData.instance;this.objectCache=new p.ObjectCache;this.daasData=new k.DaaSData(this);this.mobileAppData=new w;this.storageData=new it.StorageAccountData;this.docDbData=new rt.DocDbData;this.apiHubData=new ut.ApiHubData;this.locations=new ft.Locations;this.customContainerData=new et.CustomContainerData(this);this.winRmData=new ot.WinRmData(this)}return r.defineProperty(n,"instance",{get:function(){return n._lazyDataContextSingleton.value},enumerable:!0,configurable:!0}),
n})(),ht;t._lazyDataContextSingleton=new g(function(){return new t});n.DataContext=t;ht=(function(n){function t(){var t=n.call(this)||this;return t.title("Keep Websites iframe alive"),t.shortTitle("Keep Websites iframe alive"),t}return __extends(t,n),t})(i.ViewModels.ButtonPart);n.BlankPartViewModel=ht;n.WebsiteSearchService=null;n.WebsiteBrowseService=null;n.WebsiteGridColumnsService=null;n.WebHostingPlanSearchService=null;n.WebHostingPlanBrowseService=null;n.WebHostingPlanGridColumnsService=null;n.WebsiteResourceMappingViewModel=null;n.WebHostingPlanResourceMappingViewModel=null;n.WebsiteResourceTypeService=null;n.WebHostingPlanResourceTypeService=null;n.BizTalkResourceMappingViewModel=null;n.BizTalkResourceTypeService=null})(ht||(ht={})),ht}))