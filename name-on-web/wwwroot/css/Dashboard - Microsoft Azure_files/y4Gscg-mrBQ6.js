define("Core/TypeScript/TFS",["require","exports","f","o","a","$"],(function(n,t,i,r,u,f){"use strict";function h(n,i,r,f){function y(n,t,i){var r;return(n||t)&&(r=p++,s++,e[r]=[n,t,i]),r}function h(){var t,i,u=a?0:v?1:-1,r,f,h=!1;if(u>=0){for(t in e)e.hasOwnProperty(t)&&(i=e[t],r=i[u],r&&(f=i[2],r.apply(n,(o||[]).concat([f])),h=!0));e={};s=0}return h}var e={},c,s=0,p=0,o,a=!1,v=!1;return c=y(i,r,f),{cookie:c,count:function(){return s},finish:function(){a=!0;o=u.prototype.slice.call(arguments,0);h()},error:function(){v=!0;o=u.prototype.slice.call(arguments,0);o.length===0&&(o=[Error.invalidOperation(t.UnknownServerErrorMessage)]);h()||l(o[0],null,n)},register:function(n,t,i){var r=y(n,t,i);return r&&h(),r},unregister:function(n){s--;delete e[n]}}}function v(n){var t,i;return n.__name||(n.__name="_type_"+a++,s&&(t=n.name,t||(i=n.toString(),t=i.substring(9,i.indexOf("("))),t&&(n.__name+="_"+t))),n.__name}function y(n,t,i,r,u,e){function c(n){t[i]=n;s.finish(n)}function l(n){t[i]=null;s.error(n)}var o=t[i],s;e&&o===null||typeof o=="undefined"?(s=h(n,r,u),t[i]=s.register,e.call(n,c,l)):f.isFunction(o)?o(r,u):f.isFunction(r)&&r.call(n,o)}function p(n){return n!==null&&n!==undefined&&!f.isFunction(n)}function c(n){return n?typeof n=="string"?n:f.isFunction(n)?c(n()):n.message?n.message:n.toString():t.UnknownErrorMessage}function l(n,t,i){f.isFunction(t)&&t.call(i,n)}function w(n,t){var i,r;for(i in t)i!=="__name"&&t.hasOwnProperty(i)&&(r=t[i],n.prototype[i]=r)}var e,o;r.defineProperty(t,"__esModule",{value:!0});var s=!1,a=0;t.UnknownErrorMessage="Unknown error.";t.UnknownServerErrorMessage="Unknown server error occurred.";e=i.getEnvironmentValue("azureTfsDiagnostics"),(function(n){n.ServerException="TFS.ServerException"})(o||(o={}));e&&e&&typeof e._globalDebugFlag!="undefined"&&(s=e._globalDebugFlag);Error.serverError=function(n){var i=Error.create(n&&n.message||t.UnknownServerErrorMessage,f.extend(n||{},{name:o.ServerException}));return i.popStackFrame(),i};t.queueCallbacks=h;t.getTypeName=v;t.queueRequest=y;t.queuedRequestHasResult=p;t.getErrorMessage=c;t.handleError=l;t.initClassPrototype=w}));
define("Core/TypeScript/TFS.Diag",["require","exports","f","o","$","Core/TypeScript/TFS"],(function(n,t,i,r,u,f){"use strict";function et(n,t){if(nt()){var i="EXEC ";t===g.MethodEnter?(console.time(n),i="ENTER "):t===g.MethodLeave&&(console.timeEnd(n),i="LEAVE ");d.timeStamp&&d.timeStamp(i+n);e&&d.log("[%f] %s %s",Date.now(),i,n)}}function nt(){return e}function ot(n){e=n}function s(n,t){return n+" is required and needs to be a "+t}function st(n){var t=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i};return t(n.getHours(),2)+":"+t(n.getMinutes(),2)+":"+t(n.getSeconds(),2)+"."+t(n.getMilliseconds(),3)}function v(n,i){var r,u;if(n<=t.logLevel&&(e&&Sys.Debug.trace(i),h))for(r=0,u=h.length;r<u;r++)h[r](i,n)}function ht(n){v(c.Error,n)}function ct(n){v(c.Warning,n)}function lt(n){v(c.Info,n)}function at(n){v(c.Verbose,n)}function vt(n){h||(h=[]);h.push(n)}function yt(n){var t,i;if(h)for(t=0,i=h.length;t<i;t++)h[t]===n&&h.splice(t--,1)}function o(n){if(e){if(ft)throw Error.create("Assertion failure: "+n);alert("AzureTfsExtension Assertion: "+n);console.error("AzureTfsExtension Assertion: "+n)}}function pt(n,t){e&&!n&&o(t)}function wt(n,t){e&&(n===null||typeof n!="object")&&o(t)}function bt(n,t,i){if(e){var r=i&&(n===null||n===undefined)||n!==null&&typeof n=="object";r||o(s(t,"object"))}}function kt(n,t,i){e&&(!u.isArray(n)||i&&n.length===0)&&o(t)}function dt(n,t,i){e&&(!u.isArray(n)||i&&n.length===0)&&o(s(t,"array"+i?" (non-empty)":""))}function gt(n,t){e&&typeof n!="boolean"&&o(t)}function ni(n,t){e&&typeof n!="boolean"&&o(s(t,"boolean"))}function ti(n,t){e&&(typeof n!="number"||isNaN(n))&&this.fail(t)}function ii(n,t){e&&(typeof n!="number"||isNaN(n))&&o(s(t,"number"))}function ri(n,t){e&&(typeof n!="number"||isNaN(n)||Math.round(n)!==n)&&o(t)}function ui(n,t){e&&(typeof n!="number"||isNaN(n)||Math.round(n)!==n)&&o(s(t,"integer"))}function fi(n,t){e&&typeof n!="string"&&o(t)}function ei(n,t){e&&typeof n!="string"&&o(s(t,"string"))}function oi(n,t){e&&(typeof n!="string"||n==="")&&o(t)}function si(n,t){e&&(typeof n!="string"||n==="")&&o(s(t,"non-empty string"))}function tt(n,t){e&&typeof n!="function"&&o(t)}function hi(n,t){e&&typeof n!="function"&&o(s(t,"function"))}function ci(n,t){!e||n instanceof Date||o(t)}function li(n,t){!e||n instanceof Date||o(s(t,"date"))}function ai(n,t){e&&(n===null||n===undefined)&&o(t)}function vi(n,t){e&&n===null&&o(s(t,"not null and not undefined"))}function yi(n,t){e&&n===undefined&&o(t)}function pi(n,t){e&&n===undefined&&o(s(t,"not undefined"))}function wi(n,t){e&&(n===null||typeof n!="object"||typeof n.jquery!="string")&&o(t)}function bi(n,t){e&&(n===null||typeof n!="object"||typeof n.jquery!="string")&&o(s(t,"jQuery object"))}function it(n,t,i,r){var u;e&&(u=n===null||n===undefined&&t!=="undefined"?r:typeof t=="string"?typeof n===t:n instanceof t,u||o(i))}function ki(n){return(n||o("An assert to check a value's type was handed an invalid type to check for."),typeof n=="string")?n:(tt(n,"Expected to have a constructor function passed when checking a type"),n.toString().match(/^\s*function\s*([\w]*)\(/)[1]||"Unnamed type: ("+n.toString()+")")}function di(n,t,i,r){e&&it(n,t,s(i,ki(t)),r)}function gi(n,t){if(w){v(c.Error,"There is a profile already in progress: "+k+": "+y+"->"+p);return}y=n;p=t;document.cookie="TFS-TRACEPOINT-START="+n+";";document.cookie="TFS-TRACEPOINT-END="+t+";"}function nr(){w&&(w=!1,console.profileEnd())}function tr(n,i){y!=null&&p!==null&&(y===n?(console.profile(k+": "+y+"->"+p),k++,w=!0):p===n&&(console.profileEnd(),w=!1));for(var r=0;r<l.length;r++)l[r].call(this,n,i),c.Verbose<=t.logLevel&&v(c.Verbose,"TRACEPOINT ["+st(new Date)+"]: "+n)}function rt(n){for(var t=0;t<l.length;t++)if(n===l[t])return;l.push(n)}function ir(n){for(var t=0;t<l.length;t++)n===l[t]&&l.splice(t,1)}function rr(n,t,r){return i.Base.Diagnostics.Telemetry.startTrace({source:n,action:t,data:r})}function ur(n){i.Base.Diagnostics.Telemetry.completeTrace(n)}function fr(n){i.Base.Diagnostics.Telemetry.cancelTrace(n)}function er(n){t.logLevel=n}function or(n){ut=n}function sr(){a&&typeof a._globalTracePointCollectorFlag!="undefined"&&a._globalTracePointCollectorFlag===!0&&(t.perfCollector=new b,t.perfCollector.register())}var c,b;r.defineProperty(t,"__esModule",{value:!0});var h,l=[],ut=!1,a=i.getEnvironmentValue("azureTfsDiagnostics"),e=a&&typeof a._globalDebugFlag=="undefined"?!1:a&&a._globalDebugFlag,ft=typeof _globalThrowOnAssertFailures=="undefined"?!1:_globalThrowOnAssertFailures,y=typeof _globalProfileStartTracePoint=="undefined"?null:_globalProfileStartTracePoint,p=typeof _globalProfileEndTracePoint=="undefined"?null:_globalProfileEndTracePoint,k=0,w=!1,d=console,g;(function(n){n[n.SinglePoint=0]="SinglePoint";n[n.MethodEnter=1]="MethodEnter";n[n.MethodLeave=2]="MethodLeave"})(g=t.EventType||(t.EventType={}));t.timeStamp=et;t.getDebugMode=nt;t.setDebugMode=ot,(function(n){n[n.Off=0]="Off";n[n.Error=1]="Error";n[n.Warning=2]="Warning";n[n.Info=3]="Info";n[n.Verbose=4]="Verbose"})(c=t.LogVerbosity||(t.LogVerbosity={}));t.logLevel=c.Warning;t.log=v;t.logError=ht;t.logWarning=ct;t.logInfo=lt;t.logVerbose=at;t.listen=vt;t.unlisten=yt;t.fail=o;t.assert=pt;t.assertIsObject=wt;t.assertParamIsObject=bt;t.assertIsArray=kt;t.assertParamIsArray=dt;t.assertIsBool=gt;t.assertParamIsBool=ni;t.assertIsNumber=ti;t.assertParamIsNumber=ii;t.assertIsInteger=ri;t.assertParamIsInteger=ui;t.assertIsString=fi;t.assertParamIsString=ei;t.assertIsStringNotEmpty=oi;t.assertParamIsStringNotEmpty=si;t.assertIsFunction=tt;t.assertParamIsFunction=hi;t.assertIsDate=ci;t.assertParamIsDate=li;t.assertIsNotNull=ai;t.assertParamIsNotNull=vi;t.assertIsNotUndefined=yi;t.assertParamIsNotUndefined=pi;t.assertIsJQueryObject=wi;t.assertParamIsJQueryObject=bi;t.assertIsType=it;t.assertParamIsType=di;t.profile=gi;t.profileEnd=nr;t.logTracePoint=tr;t.addTracePointCollector=rt;t.removeTracePointCollector=ir;t.startAzureTrace=rr;t.completeAzureTrace=ur;t.cancelAzureTrace=fr;t.setLogLevel=er;t.setDisplayCallers=or;b=(function(){function n(){this._moduleInitTime=(new Date).getTime();this._tracePoints=[];this._overallCounts={};this._activeCounts={}}return n.prototype.register=function(){var n=this;rt((function(t,i){n._handleTracePoint(t,i)}))},n.prototype.getOverallCount=function(n){var t=this._overallCounts[n];return t?t:0},n.prototype.getActiveCount=function(n){var t=this._activeCounts[n];return t?t:0},n.prototype.getLastTracePoint=function(n){for(var t=this._tracePoints.length-1;t>=0;t--)if(this._tracePoints[t].name===n)return this._tracePoints[t];return null},n.prototype.getLastTracePointTime=function(n){var t=this.getLastTracePoint(n);return t?t.time:0},n.prototype.resetActiveCount=function(n){this._activeCounts[n]=0},n.prototype.resetActiveCounts=function(){this._activeCounts={};this._lastResetTime=(new Date).getTime();this._lastResetIndex=this._tracePoints.length},n.prototype.getModuleInitTime=function(){return this._moduleInitTime},n.prototype.getTracePoints=function(n){return n===!0?this._tracePoints.slice(this._lastResetIndex):this._tracePoints},n.prototype.getTracePointCountData=function(n){for(var i,u="",t=0,r=n.length;t<r;t++)i=n[t],u+=this.getActiveCount(i)+";"+this.getOverallCount(i)+"\t";return u},n.prototype.dumpTracePoints=function(n){var i,e,r,f,o,t;for(i="ModuleInitTime\t"+this._moduleInitTime+"\nLastReset\t"+Math.max(0,this._lastResetTime-this._moduleInitTime),e=this.getTracePoints(n),o=e.length,f=0;f<o;f++)r=e[f],i+="\n"+(r.time-this._moduleInitTime)+"\t"+r.name,t=r.data,t&&(t instanceof Error&&(t=t.message,t.stackTrace&&(t+=" @"+t.stackTrace)),u.isArray(t)&&(t=t.join(";")),i+=("\t"+t).replace(/[\n\r]/g," "));return i},n.prototype._updateCount=function(n,t){var i=n[t];n[t]=i?i+1:1},n.prototype._handleTracePoint=function(n,t){var i={time:(new Date).getTime(),name:n,data:t};this._tracePoints.push(i);this._updateCount(this._overallCounts,n);this._updateCount(this._activeCounts,n)},n})();t.PerfTracePointCollector=b;f.initClassPrototype(b,{_tracePoints:null,_overallCounts:null,_activeCounts:null,_moduleInitTime:null,_lastResetTime:0,_lastResetIndex:0});sr()}))