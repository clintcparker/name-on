define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Grouping.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,'.fxc-grid2.fxc-grid-grouping table tbody.fxc-grid-groupdata tr.fxc-grid-groupheader td{font-size:10px;font-family:az_ea_font,"Segoe UI",wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe WP",Tahoma,Arial,sans-serif;font-weight:600;text-transform:uppercase}.fxc-grid2.fxc-grid-grouping table tbody.fxc-grid-groupdata tr.fxc-grid-groupheader:hover{background-color:inherit}.fxc-grid2.fxc-grid-grouping table tbody.fxc-grid-groupdata.fxc-grid-grouped tr:not(.fxc-grid-groupheader) td:first-of-type:not(.fxs-grid-selection-cell){padding-left:30px}')}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Grouping.ctl",["require","exports","f","i","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Grouping.css"],(function(n,t,i,r,u,f){"use strict";var e;return (function(n){var e=r.ViewModels.Controls.Lists.Grid2,o="grouping",s="fxc-grid-grouping",h=i.disposeDisposable,t;u.bindingHandlers.grid2GroupHeaderFormatter={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,i,r,f){var l=u.unwrap(t()),a=u.unwrap(l.row),v=u.unwrap(l.grouping),o=v.headerFormat;o||(o=new e.Formatters.Text);var y=f.$ctl,p=y._getFormatter(o),s=u.unwrap(a.data),c=p.format(s,s);u.ignoreDependencies((function(){var i=c.html,r=c.data||{value:s},t=c.disposables;u.utils.cleanDescendantNodes(n);u.utils.setHtml(n,i);u.applyBindingsToDescendants(f.createChildContext(r),n);t&&t.length&&u.utils.domNodeDisposal.addDisposeCallback(n.firstElementChild||n,(function(){h(t)}))}))}};t=(function(n){function t(t){var i=n.call(this,{name:o,cssClass:s,widget:t})||this,r;return i.options=t.options.grouping,i.totalColumns=u.observable(i.widget._getTotalColumns()),i._virtualGroup={groupId:u.observable(),elementId:u.observable(),ariaLabel:u.observable()},r=i.widget.dataNavigator,i.options.groupBy.subscribe(i.ltm,(function(){i.widget._internalLoading(!0);r.refresh().finally((function(){i.widget._internalLoading(!1)}))})),r.items.subscribe(i.ltm,(function(n){var t,r;n.length&&(u.unwrap(n[0]).groupHeader?(i._virtualGroup.groupId(null),i._virtualGroup.elementId(null),i._virtualGroup.ariaLabel(null)):(t=n[0].groupId,t&&t!==i._virtualGroup.groupId()&&(r=i.getGroupElementId(t),i.widget.element.find("#"+r).length||(i._virtualGroup.groupId(t),i._virtualGroup.elementId(r),i.options.getGroupAriaLabel?Q(i.options.getGroupAriaLabel(t)).then((function(n){i._virtualGroup.ariaLabel(n)})):i._virtualGroup.ariaLabel(t)))))})),i}return __extends(t,n),t.prototype.setTemplates=function(n){var t="bodyRowsContent",r=n.getTemplate(t),u="<!-- ko if: $data.groupHeader --><td role='gridcell' class='azc-br-muted' data-bind='grid2GroupHeaderFormatter: { row: $data, grouping: $ctl.options.grouping }, attr: { colspan: $ctl.grouping.totalColumns() }'><\/td><!-- /ko --><!-- ko ifnot: $data.groupHeader -->"+r+"<!-- /ko -->",f=n.getHtmlTemplate("bodyCore");f.addAttribute("tbody","data-bind",['css: { "fxc-grid-grouped": $ctl.options.grouping.groupBy && !!$ctl.options.grouping.groupBy() }']);n.setTemplate(t,u);var i="table",e=n.getTemplate(i),o=e+"<div class='fxs-hide-accessible-label' aria-hidden='true' data-bind='attr: { id: $ctl.grouping._virtualGroup.elementId }, text: $ctl.grouping._virtualGroup.ariaLabel'><\/div>";n.setTemplate(i,o)},t.prototype.initializeRow=function(n){n.groupHeader=n.delayedProperty(undefined,(function(n){return n.groupHeader?!0:!1}));n.css["fxc-grid-groupheader"]=n.groupHeader},t.prototype.headerResized=function(){this.totalColumns(this.widget._getTotalColumns())},t.prototype.addRowAriaAttributes=function(n){var t=n.navigatorItem().groupId,i;t&&(i=this.getGroupElementId(t),u.unwrap(n.groupHeader)?(this.options.getGroupAriaLabel?Q(this.options.getGroupAriaLabel(t)).then((function(t){n.ariaLabel(t)})):n.ariaLabel(t),n.elementId(i)):n.ariaDescribedBy(i))},t.prototype.getGroupElementId=function(n){return this.widget.uniqueId+"_"+n.replace(/\s/g,"")},t})(f.Plugin);n.Plugin=t})(e||(e={})),e}))